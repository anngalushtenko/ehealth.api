

        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT mp.id INTO id FROM medical_programs mp WHERE mp.id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO medical_programs (id, name, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', ''Доступні ліки'', true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now())';
                END IF;
        END$$;




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Amiodarone'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Amiodarone'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Amlodipine'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Amlodipine'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Atenolol'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Atenolol'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Verapamil'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Verapamil'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Hydrochlorothiazide'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Hydrochlorothiazide'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Spironolactone'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Spironolactone'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Furosemide'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Furosemide'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Digoxin'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Digoxin'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Enalapril'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Enalapril'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Isosorbide dinitrate'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Isosorbide dinitrate'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Carvedilol'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Carvedilol'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Clopidogrel'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Clopidogrel'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Losartan'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Losartan'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Metoprolol'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Metoprolol'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Glyceryl trinitrate'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Glyceryl trinitrate'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Simvastatin'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Simvastatin'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Bisoprolol'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Bisoprolol'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Metformin'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Metformin'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Gliclazide'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Gliclazide'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Glibenclamide'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Glibenclamide'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Beclometasone'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Beclometasone'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Budesonide'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Budesonide'
            AND is_active = TRUE
        LIMIT 1);




        UPDATE innms
            SET is_active = FALSE
        WHERE name_original = 'Salbutamol'
        AND id != (SELECT id
        FROM innms
        WHERE name_original = 'Salbutamol'
            AND is_active = TRUE
        LIMIT 1);




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Amiodarone';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e83fe0df-cecd-4d32-afe9-673fec93622f'', NULL, ''Аміодарон'', ''Amiodarone'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.153368'', ''2019-02-18T09:44:18.153380'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Amlodipine';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''39c6577a-b49f-4e94-abb3-b4222b2b6178'', NULL, ''Амлодипін'', ''Amlodipine'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.155371'', ''2019-02-18T09:44:18.155375'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Atenolol';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''f0c33919-bc4a-4b19-9f58-83727539e4a6'', NULL, ''Атенолол'', ''Atenolol'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.162533'', ''2019-02-18T09:44:18.162539'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Verapamil';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c5c7380c-de1e-4b33-965a-dbf5cc3d293d'', NULL, ''Верапаміл'', ''Verapamil'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.163487'', ''2019-02-18T09:44:18.163491'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Hydrochlorothiazide';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''a2032094-e733-45e0-b645-8d8a92cf3255'', NULL, ''Гідрохлортіазид'', ''Hydrochlorothiazide'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.164774'', ''2019-02-18T09:44:18.164779'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Spironolactone';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''fecb9311-bd52-4d3d-9942-c9770329ae28'', NULL, ''Спіронолактон'', ''Spironolactone'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.165032'', ''2019-02-18T09:44:18.165037'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Furosemide';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''27ab39ab-1f7c-4363-964c-8398c4dd347e'', NULL, ''Фуросемід'', ''Furosemide'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.166430'', ''2019-02-18T09:44:18.166437'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Digoxin';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3455a018-ee4d-4ce6-853e-dcd5b0f4bff4'', NULL, ''Дигоксин'', ''Digoxin'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.167594'', ''2019-02-18T09:44:18.167599'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Enalapril';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c4ebcf33-94ea-4324-a342-35a1c92cc51f'', NULL, ''Еналаприл'', ''Enalapril'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.168110'', ''2019-02-18T09:44:18.168115'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Isosorbide dinitrate';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''629de72a-278c-45a8-a9e0-8d80c65b3e87'', NULL, ''Ізосорбіду динітрат'', ''Isosorbide dinitrate'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.174483'', ''2019-02-18T09:44:18.174495'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Carvedilol';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''85de4a22-546a-4a63-87c6-89dd599f7525'', NULL, ''Карведилол'', ''Carvedilol'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.174939'', ''2019-02-18T09:44:18.174949'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Clopidogrel';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''4deff304-d6d9-440d-b46b-e76b273ce248'', NULL, ''Клопідогрель'', ''Clopidogrel'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.178667'', ''2019-02-18T09:44:18.178670'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Losartan';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''43613cc0-e789-427a-b9d1-ca115a3d96e6'', NULL, ''Лозартан'', ''Losartan'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.183525'', ''2019-02-18T09:44:18.183528'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Metoprolol';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''dc5934ba-f6c9-47e4-99bc-492cada65ea8'', NULL, ''Метопролол'', ''Metoprolol'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.187038'', ''2019-02-18T09:44:18.187041'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Glyceryl trinitrate';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ad43a2e5-efa2-4c3c-97a9-37af4c38e1bc'', NULL, ''Нітрогліцерин'', ''Glyceryl trinitrate'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.188845'', ''2019-02-18T09:44:18.188849'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Simvastatin';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ff0e5030-9e6c-4891-871b-a4771b0d2cdf'', NULL, ''Симвастатин'', ''Simvastatin'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.189419'', ''2019-02-18T09:44:18.189422'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Bisoprolol';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''2bef53b2-5d09-41c9-b3e0-4330d2aaea8a'', NULL, ''Бісопролол'', ''Bisoprolol'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.192623'', ''2019-02-18T09:44:18.192627'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Metformin';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''53c3a575-07bf-4805-8370-cfef7efe0598'', NULL, ''Метформін'', ''Metformin'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.200219'', ''2019-02-18T09:44:18.200222'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Gliclazide';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''16966117-dd8a-40db-bad0-7fc49e27b7f9'', NULL, ''Гліклазид'', ''Gliclazide'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.206659'', ''2019-02-18T09:44:18.206662'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Glibenclamide';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''00fd157a-d352-4bcf-9ae4-b16cc69b686c'', NULL, ''Глібенкламід'', ''Glibenclamide'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.208253'', ''2019-02-18T09:44:18.208256'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Beclometasone';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ca393ab6-ed63-48d5-8dcd-bf8c9ccdbb54'', NULL, ''Беклометазон'', ''Beclometasone'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.208798'', ''2019-02-18T09:44:18.208801'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Budesonide';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d427830b-bc78-4008-adfc-c33e4072adbb'', NULL, ''Будесонід'', ''Budesonide'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.209225'', ''2019-02-18T09:44:18.209228'');';
                END IF;
        END$$;




        DO
        $$DECLARE id uuid;
        BEGIN
                SELECT i.id INTO id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Salbutamol';
                IF id IS NULL THEN
                    EXECUTE 'INSERT INTO innms (id, sctid, name, name_original, is_active, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9f64f5e8-c1d1-440e-8bde-e90f9e05291c'', NULL, ''Сальбутамол'', ''Salbutamol'', True, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''2019-02-18T09:44:18.210476'', ''2019-02-18T09:44:18.210479'');';
                END IF;
        END$$;




        UPDATE program_medications
        SET is_active = FALSE
        WHERE medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';




        UPDATE medications
        SET is_active = FALSE
        WHERE id IN (SELECT medication_id FROM program_medications WHERE medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545');




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Аміодарон' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Аміодарон 200 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''4af6385d-f295-4467-92f3-9d9369699df2'', ''Аміодарон 200 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''0273f48e-a82a-4697-a60e-bc2eb7311d57'', ''{"numerator_unit": "MG", "numerator_value": "200", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 200
            AND m.name = 'АРИТМІЛ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/1438/02/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C01BD01"]'::jsonb, 'UA/1438/02/01', '2019-11-06'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''66a56d5f-babb-4e5e-8cc6-c0501b1ae6e1'', ''АРИТМІЛ'', ''BRAND'', ''{"name": "Публічне акціонерне товариство \"Науково-виробничий центр \"Борщагівський хіміко-фармацевтичний завод\"", "country": "Україна"}'', ''["C01BD01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/1438/02/01'', ''2019-11-06'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''9791708f-7bb1-4606-9724-f9f31a5b4eac'', ''{"numerator_unit": "MG", "numerator_value": "200", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "28.88"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''f690e9d5-469a-4b70-8f08-de237dbe3118'', ''{"type": "fixed", "reimbursement_amount": "28.88"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Аміодарон' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Аміодарон 200 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''4af6385d-f295-4467-92f3-9d9369699df2'', ''Аміодарон 200 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''7f9f7788-8b2f-48a5-9485-2a07aa41f186'', ''{"numerator_unit": "MG", "numerator_value": "200", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 200
            AND m.name = 'АМІДАРОН'
            AND m.package_qty = 30
            AND m.certificate = 'UA/4514/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C01BD01"]'::jsonb, 'UA/4514/01/01', '2021-02-09'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ea727253-d094-4be5-a719-e11bebc67d0f'', ''АМІДАРОН'', ''BRAND'', ''{"name": "АТ \"КИЇВСЬКИЙ ВІТАМІННИЙ ЗАВОД\"", "country": "Україна"}'', ''["C01BD01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/4514/01/01'', ''2021-02-09'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''38fd6e8b-53c4-4dff-8098-9226db5ffe82'', ''{"numerator_unit": "MG", "numerator_value": "200", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "43.31"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''16ac4716-8bf3-47c9-a2cb-332ac5494875'', ''{"type": "fixed", "reimbursement_amount": "43.31"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Аміодарон' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Аміодарон 200 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''4af6385d-f295-4467-92f3-9d9369699df2'', ''Аміодарон 200 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''1177f31d-3e74-43f4-85b8-f19b554e2225'', ''{"numerator_unit": "MG", "numerator_value": "200", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 200
            AND m.name = 'АМІОДАРОН'
            AND m.package_qty = 30
            AND m.certificate = 'UA/8904/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C01BD01"]'::jsonb, 'UA/8904/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''12c6a724-7db7-4b81-891b-d24e0ee92154'', ''АМІОДАРОН'', ''BRAND'', ''{"name": "Приватне акціонерне товариство \"Лекхім-Харків\"", "country": " Україна"}'', ''["C01BD01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/8904/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''e70780d8-2dcb-4d65-8535-64448f7b40a6'', ''{"numerator_unit": "MG", "numerator_value": "200", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "43.31"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''c481cbe6-3424-4b16-a5ef-bede64fab7a6'', ''{"type": "fixed", "reimbursement_amount": "43.31"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Аміодарон' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Аміодарон 200 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''4af6385d-f295-4467-92f3-9d9369699df2'', ''Аміодарон 200 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''72e76865-873a-4fe8-abb7-3e641cbc8463'', ''{"numerator_unit": "MG", "numerator_value": "200", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 200
            AND m.name = 'АМІОДАРОН-ДАРНИЦЯ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/6506/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C01BD01"]'::jsonb, 'UA/6506/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''12c7e996-1cd0-406d-9fef-c4816627f1f2'', ''АМІОДАРОН-ДАРНИЦЯ'', ''BRAND'', ''{"name": "ПрАТ \"Фармацевтична фірма \"Дарниця\"", "country": "Україна"}'', ''["C01BD01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/6506/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''c980869f-65d7-4aee-b22c-93c65be5fd92'', ''{"numerator_unit": "MG", "numerator_value": "200", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "43.31"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''0ec2c175-69de-4417-bf5a-d98762eb7f1a'', ''{"type": "fixed", "reimbursement_amount": "43.31"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Аміодарон' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Аміодарон 200 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''4af6385d-f295-4467-92f3-9d9369699df2'', ''Аміодарон 200 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''21ba5857-8aa9-4e88-acbc-2c8a5f695af6'', ''{"numerator_unit": "MG", "numerator_value": "200", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 200
            AND m.name = 'АМІОКОРДИН®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/10291/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C01BD01"]'::jsonb, 'UA/10291/01/01', '2019-11-20'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5ee0eba9-5fed-42c3-874a-4e83bc343064'', ''АМІОКОРДИН®'', ''BRAND'', ''{"name": "КРКА", "country": " Словенія"}'', ''["C01BD01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/10291/01/01'', ''2019-11-20'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''c091e5b6-48bb-4901-b12d-736986730eb1'', ''{"numerator_unit": "MG", "numerator_value": "200", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "43.31"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''28737e2c-6c4e-4782-af3c-63182544ecf4'', ''{"type": "fixed", "reimbursement_amount": "43.31"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Аміодарон' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Аміодарон 200 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''4af6385d-f295-4467-92f3-9d9369699df2'', ''Аміодарон 200 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''afde19a3-8f68-4286-aad6-88c5649e7ad8'', ''{"numerator_unit": "MG", "numerator_value": "200", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 200
            AND m.name = 'КАРДІОДАРОН-ЗДОРОВ''Я'
            AND m.package_qty = 30
            AND m.certificate = 'UA/1713/02/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C01BD01"]'::jsonb, 'UA/1713/02/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''60411397-396b-44c3-a814-6d1dabce5be3'', ''КАРДІОДАРОН-ЗДОРОВ''''Я'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Фармацевтична компанія \"Здоров''''я\" ", "country": " Україна"}'', ''["C01BD01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/1713/02/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''bac7fb86-1d0a-435e-81dc-a1018afcb8a6'', ''{"numerator_unit": "MG", "numerator_value": "200", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "43.31"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''49ab25cd-e871-4d59-8853-036c7f2bdf60'', ''{"type": "fixed", "reimbursement_amount": "43.31"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Аміодарон' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Аміодарон 200 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''4af6385d-f295-4467-92f3-9d9369699df2'', ''Аміодарон 200 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''f42a5941-39a6-4da2-8459-ffc4e34facdc'', ''{"numerator_unit": "MG", "numerator_value": "200", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 200
            AND m.name = 'МІОРИТМІЛ®-ДАРНИЦЯ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/6506/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C01BD01"]'::jsonb, 'UA/6506/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''a702d7f8-7eb8-4f38-ae0f-9d18f7bcbec9'', ''МІОРИТМІЛ®-ДАРНИЦЯ'', ''BRAND'', ''{"name": "ПрАТ \"Фармацевтична фірма \"Дарниця\"", "country": "Україна"}'', ''["C01BD01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/6506/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''229da9ba-d864-4216-9478-5e3f05897852'', ''{"numerator_unit": "MG", "numerator_value": "200", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "43.31"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''cd8dcc5d-fab7-4202-9fd1-f2acc0054bf7'', ''{"type": "fixed", "reimbursement_amount": "43.31"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Аміодарон' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Аміодарон 200 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''4af6385d-f295-4467-92f3-9d9369699df2'', ''Аміодарон 200 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''6fbaa1a7-cb26-4f7b-9781-bb1abe3e661b'', ''{"numerator_unit": "MG", "numerator_value": "200", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 200
            AND m.name = 'РОТАРИТМІЛ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/12887/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C01BD01"]'::jsonb, 'UA/12887/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''688c2969-60c9-4eb3-9448-32642269c910'', ''РОТАРИТМІЛ'', ''BRAND'', ''{"name": "Ривофарм СА", "country": " Швейцарія"}'', ''["C01BD01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/12887/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''3e8229d7-661d-4d68-944d-38295a21aeea'', ''{"numerator_unit": "MG", "numerator_value": "200", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "43.31"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''854bea9f-62a1-43d1-8d2e-7f76fe8a2984'', ''{"type": "fixed", "reimbursement_amount": "43.31"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Аміодарон' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Аміодарон 200 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''4af6385d-f295-4467-92f3-9d9369699df2'', ''Аміодарон 200 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''8124188f-ac43-404f-b46b-0f5b98cc5174'', ''{"numerator_unit": "MG", "numerator_value": "200", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 200
            AND m.name = 'АРИТМІЛ'
            AND m.package_qty = 50
            AND m.certificate = 'UA/1438/02/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C01BD01"]'::jsonb, 'UA/1438/02/01', '2019-11-06'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''1d5f5727-f8bc-481f-8011-c52988a787a5'', ''АРИТМІЛ'', ''BRAND'', ''{"name": "Публічне акціонерне товариство \"Науково-виробничий центр \"Борщагівський хіміко-фармацевтичний завод\"", "country": "Україна"}'', ''["C01BD01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 50, 50, ''UA/1438/02/01'', ''2019-11-06'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''063a6895-9898-446a-aee4-bae47a5c729e'', ''{"numerator_unit": "MG", "numerator_value": "200", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "72.19"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''a6026db0-12bf-4d8e-9499-128808cf364b'', ''{"type": "fixed", "reimbursement_amount": "72.19"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Аміодарон' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Аміодарон 200 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''4af6385d-f295-4467-92f3-9d9369699df2'', ''Аміодарон 200 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''6f07387b-8991-4860-8ec8-1bf53486704e'', ''{"numerator_unit": "MG", "numerator_value": "200", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 200
            AND m.name = 'АМІОКОРДИН®'
            AND m.package_qty = 60
            AND m.certificate = 'UA/10291/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C01BD01"]'::jsonb, 'UA/10291/01/01', '2019-11-20'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''12af0f2e-c764-4187-b8a1-e9e86d554b9a'', ''АМІОКОРДИН®'', ''BRAND'', ''{"name": "КРКА", "country": " Словенія"}'', ''["C01BD01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 60, 60, ''UA/10291/01/01'', ''2019-11-20'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''ec8c0153-7548-4374-8f86-adc010fa4253'', ''{"numerator_unit": "MG", "numerator_value": "200", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "86.63"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''ea0ee1fc-0117-4499-b19c-3f9bed792df6'', ''{"type": "fixed", "reimbursement_amount": "86.63"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1716568-bb33-42e7-abd2-b9125df2596b'', ''Амлодипін 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''2fc3adcd-5958-4c60-ab72-f994ce7d6031'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'АМЛОДИПІН'
            AND m.package_qty = 30
            AND m.certificate = 'UA/1427/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/1427/01/01', '2019-08-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1fd4713-0bcc-4ce3-8411-e4d54371f390'', ''АМЛОДИПІН'', ''BRAND'', ''{"name": "ПрАТ \"Технолог\"", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/1427/01/01'', ''2019-08-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''52da6143-dd39-4888-adf6-3ea995a64ee9'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "8.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''865befb7-c1a3-4903-8022-95da0d394d88'', ''{"type": "fixed", "reimbursement_amount": "8.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1716568-bb33-42e7-abd2-b9125df2596b'', ''Амлодипін 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''5772cb73-ee34-435a-b00d-9c4ee8aad89a'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'АМЛОДИПІН'
            AND m.package_qty = 60
            AND m.certificate = 'UA/1427/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/1427/01/01', '2019-08-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''8cee3352-1089-49d1-a629-4abfece8a602'', ''АМЛОДИПІН'', ''BRAND'', ''{"name": "ПрАТ \"Технолог\"", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 60, 60, ''UA/1427/01/01'', ''2019-08-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''d1c0ad20-52a2-4bc9-ae5e-ec0668ced4ec'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.24"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''106030a7-daba-499c-95e4-b0689eb7434c'', ''{"type": "fixed", "reimbursement_amount": "16.24"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1716568-bb33-42e7-abd2-b9125df2596b'', ''Амлодипін 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''d0b26c86-54a6-48b6-aa6e-3a4850b93cd4'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'АЛАДИН®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/11314/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/11314/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''7115232e-5884-43e8-bb52-7bce09212bfe'', ''АЛАДИН®'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/11314/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''662c9ad3-e1ec-4653-93a2-eeb7e524eab7'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "8.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''362d9586-e658-40e0-9714-5eea235c6749'', ''{"type": "fixed", "reimbursement_amount": "8.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1716568-bb33-42e7-abd2-b9125df2596b'', ''Амлодипін 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''61c819fb-817c-47b8-9340-f36b3aa57824'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'АЛАДИН®-ФАРМАК'
            AND m.package_qty = 30
            AND m.certificate = 'UA/16983/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/16983/01/01', '2023-10-22'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''715783af-b5fe-4efb-9aa4-174890ce1ee5'', ''АЛАДИН®-ФАРМАК'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/16983/01/01'', ''2023-10-22'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''58144bb7-59e7-4dec-a051-e39397d57572'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "8.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''110da730-1a7b-45c1-95d1-614618d0aff7'', ''{"type": "fixed", "reimbursement_amount": "8.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1716568-bb33-42e7-abd2-b9125df2596b'', ''Амлодипін 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''be14519f-0b24-4657-874f-a7f1a1e7a280'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'АМЛОДИПІН'
            AND m.package_qty = 90
            AND m.certificate = 'UA/1427/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/1427/01/01', '2019-08-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''2617e1ad-4d26-48c8-9596-d07a9585c8c4'', ''АМЛОДИПІН'', ''BRAND'', ''{"name": "ПрАТ \"Технолог\"", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 90, 90, ''UA/1427/01/01'', ''2019-08-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''d6d7e59b-b666-4c3f-b440-ffd47b023d95'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "24.36"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''b34d88b2-0cba-4003-b4f9-c831e83073c0'', ''{"type": "fixed", "reimbursement_amount": "24.36"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1716568-bb33-42e7-abd2-b9125df2596b'', ''Амлодипін 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''c63b2606-8cf0-4792-99ea-ba487dbc1467'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'АЛАДИН®'
            AND m.package_qty = 50
            AND m.certificate = 'UA/11314/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/11314/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''dbde9913-164f-4295-b9da-348fd0e926b1'', ''АЛАДИН®'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 50, 50, ''UA/11314/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''a793080a-d53b-4477-8b73-2bb13410a6dc'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "13.54"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''9cb23421-98d8-44c7-bdd6-c3624e60d556'', ''{"type": "fixed", "reimbursement_amount": "13.54"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1716568-bb33-42e7-abd2-b9125df2596b'', ''Амлодипін 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''1080a795-de0e-46d4-a1ac-124d6d6c3c11'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'АЛАДИН®-ФАРМАК'
            AND m.package_qty = 50
            AND m.certificate = 'UA/16983/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/16983/01/01', '2023-10-22'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''8facdbac-b687-47de-9691-7b894c072ff8'', ''АЛАДИН®-ФАРМАК'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 50, 50, ''UA/16983/01/01'', ''2023-10-22'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''b4c0cba7-19c1-4a83-8b2d-8ac613850df3'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "13.54"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''441ef05f-16cd-491f-b79d-8946bb32c0c0'', ''{"type": "fixed", "reimbursement_amount": "13.54"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1716568-bb33-42e7-abd2-b9125df2596b'', ''Амлодипін 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''b9c3d151-068d-41ed-b2aa-8f70a05e0b9f'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'АМЛОДИПІН-ДАРНИЦЯ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/7940/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/7940/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''300a2050-c151-41e5-921c-9c0c3ccf93d5'', ''АМЛОДИПІН-ДАРНИЦЯ'', ''BRAND'', ''{"name": "ПрАТ \"Фармацевтична фірма \"Дарниця\"", "country": "Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/7940/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''b1dc402a-ba92-415e-9a94-72d2254be6e7'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "5.41"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''9d984606-c1b9-41a2-bf61-0ce8ee851586'', ''{"type": "fixed", "reimbursement_amount": "5.41"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1716568-bb33-42e7-abd2-b9125df2596b'', ''Амлодипін 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''42dca9dc-548d-491f-9f37-d687321c951e'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'АМЛОДИПІН-АСТРАФАРМ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/3673/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/3673/01/01', '2020-04-21'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''900c4d43-171c-4f7f-84d8-da7951a6cf81'', ''АМЛОДИПІН-АСТРАФАРМ'', ''BRAND'', ''{"name": "ТОВ \"АСТРАФАРМ\"", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/3673/01/01'', ''2020-04-21'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''0c6109b4-161e-4752-9ed1-20e6b6f77ec3'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "5.41"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''4871959a-571b-4e17-83ee-e1c07a534cfd'', ''{"type": "fixed", "reimbursement_amount": "5.41"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1716568-bb33-42e7-abd2-b9125df2596b'', ''Амлодипін 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''d3dcdf57-92c9-451d-a3b1-a558f498d896'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'АМЛОДИПІН-ЗДОРОВ''Я'
            AND m.package_qty = 30
            AND m.certificate = 'UA/1538/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/1538/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''1e21ab1b-514d-4b1b-a8cd-c4e72659a7b4'', ''АМЛОДИПІН-ЗДОРОВ''''Я'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Фармацевтична компанія \"Здоров''''я\" ", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/1538/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''575330b6-a57e-43e8-8c57-53497f2787e5'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "8.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''7603fcbd-920b-42d7-b2e3-842be6c36247'', ''{"type": "fixed", "reimbursement_amount": "8.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1716568-bb33-42e7-abd2-b9125df2596b'', ''Амлодипін 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''42e7e387-120b-48b2-909f-98a73160f772'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'АМЛОДИПІН-КВ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/7831/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/7831/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''a54c765b-3991-430d-95a3-3c20c973aacb'', ''АМЛОДИПІН-КВ'', ''BRAND'', ''{"name": "АТ \"КИЇВСЬКИЙ ВІТАМІННИЙ ЗАВОД\"", "country": "Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/7831/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''3f188582-431d-43b2-ad4b-423915ff3011'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "8.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''e3af944c-034b-4104-8476-a669920cf3f8'', ''{"type": "fixed", "reimbursement_amount": "8.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1716568-bb33-42e7-abd2-b9125df2596b'', ''Амлодипін 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''96bacb37-7311-4fbb-9fac-68589840d140'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'АМЛОДИПІН-АСТРАФАРМ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/3673/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/3673/01/01', '2020-04-21'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''2ec70c85-62b4-43b4-8ebe-c3e679a7e8b9'', ''АМЛОДИПІН-АСТРАФАРМ'', ''BRAND'', ''{"name": "ТОВ \"АСТРАФАРМ\"", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/3673/01/01'', ''2020-04-21'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''a0ef8ab6-f3cf-4fd6-b6dd-2c9d8e7ab1c0'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "8.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''fcd880f3-18c0-464f-af2e-3ae95ce4f3ee'', ''{"type": "fixed", "reimbursement_amount": "8.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1716568-bb33-42e7-abd2-b9125df2596b'', ''Амлодипін 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''138234d2-a84a-4eae-bbe8-ca15fea0cd52'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'АМЛОДИПІН-ФАРМАК'
            AND m.package_qty = 20
            AND m.certificate = 'UA/4556/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/4556/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''1e6a4bda-1c3d-47c7-af76-9c176d84a59c'', ''АМЛОДИПІН-ФАРМАК'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/4556/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''6e12c9b2-3678-4597-b3bf-1def9c450ea1'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "5.41"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''33b01840-7a23-4e5c-81e2-ed026c72e770'', ''{"type": "fixed", "reimbursement_amount": "5.41"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1716568-bb33-42e7-abd2-b9125df2596b'', ''Амлодипін 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''132c90b1-eff3-42b4-a88d-462dd4022baf'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'АМЛОДИПІН-ТЕВА'
            AND m.package_qty = 30
            AND m.certificate = 'UA/16717/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/16717/01/01', '2023-05-16'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''88834440-8935-4b8f-9b0b-cb14c5d0bfa5'', ''АМЛОДИПІН-ТЕВА'', ''BRAND'', ''{"name": "АТ Фармацевтичний завод ТЕВА", "country": " Угорщина"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/16717/01/01'', ''2023-05-16'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''f1ab53c6-1a84-40c3-bb6d-49cd7e7bbaa2'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "8.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''53955d9f-c168-4d75-925b-7f362bdc1462'', ''{"type": "fixed", "reimbursement_amount": "8.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1716568-bb33-42e7-abd2-b9125df2596b'', ''Амлодипін 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''ce5fbcd3-dc90-4391-8620-fba659c377e9'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'АМЛОДИПІН'
            AND m.package_qty = 30
            AND m.certificate = 'UA/1586/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/1586/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''103b5aa4-0197-44f4-9497-72db6195ffbb'', ''АМЛОДИПІН'', ''BRAND'', ''{"name": "ПАТ \"Київмедпрепарат\"", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/1586/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''06b5ab9d-1c78-4578-9b8b-6e94c804a078'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "8.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''acfb8786-85e3-41bc-a9bd-a45a0bf663f4'', ''{"type": "fixed", "reimbursement_amount": "8.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1716568-bb33-42e7-abd2-b9125df2596b'', ''Амлодипін 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''652b25bd-ccef-44c7-8921-32e56cea6d6a'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'СТАМЛО'
            AND m.package_qty = 30
            AND m.certificate = 'UA/1421/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/1421/01/01', '2019-07-03'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5980c132-2281-4376-9716-acca421e6d6b'', ''СТАМЛО'', ''BRAND'', ''{"name": "Д-р Редді''''с Лабораторіс Лтд", "country": " Індія"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/1421/01/01'', ''2019-07-03'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''86b2845c-c1de-4058-80b4-74a4ef9130e0'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "8.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''797aa51c-05f2-4f7f-9604-1a7237a2e404'', ''{"type": "fixed", "reimbursement_amount": "8.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1716568-bb33-42e7-abd2-b9125df2596b'', ''Амлодипін 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''0bb832d4-a59b-47b0-bcae-7b4b4a5e512f'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'АМЛОДИПІН САНДОЗ®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/11166/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/11166/01/01', '2020-08-19'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''f41e1a50-25ef-430f-9c96-52a6dfaaec9b'', ''АМЛОДИПІН САНДОЗ®'', ''BRAND'', ''{"name": "Лек фармацевтична компанія д.д.", "country": " Словенія"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/11166/01/01'', ''2020-08-19'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''b1e62108-3a12-4a43-b01e-fb3d24e92f4a'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "8.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''1721d99e-d6fd-442c-977b-49c253a4e801'', ''{"type": "fixed", "reimbursement_amount": "8.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1716568-bb33-42e7-abd2-b9125df2596b'', ''Амлодипін 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''fc5f3ab8-4d3c-486e-9704-1a6da256320d'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'ЕМЛОДИН®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/6382/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/6382/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''469c974c-02e5-4a28-af4a-fb5745e06ec5'', ''ЕМЛОДИН®'', ''BRAND'', ''{"name": "ЗАТ Фармацевтичний завод ЕГІС", "country": " Угорщина"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/6382/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''8545eac5-fe2d-4b26-9753-6c991c9cba8b'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "8.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''670813d6-7504-4ec2-867f-a1067121ea66'', ''{"type": "fixed", "reimbursement_amount": "8.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1716568-bb33-42e7-abd2-b9125df2596b'', ''Амлодипін 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''82929644-d51c-493d-a934-ce1f17ad53ac'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'АМЛОЦИМ 5 МГ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/14494/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/14494/01/02', '2020-11-04'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''0b680f49-fd70-4b3f-8569-03ed081f298f'', ''АМЛОЦИМ 5 МГ'', ''BRAND'', ''{"name": "Юнікем Лабораторіз Лімітед", "country": " Індія"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/14494/01/02'', ''2020-11-04'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''b6f1abbf-72a6-41ad-927f-5cdf7f513d16'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "8.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''482bdef2-05c7-42bf-b3cf-16cf17ad0900'', ''{"type": "fixed", "reimbursement_amount": "8.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5c7b575a-193b-4ef5-b7fd-3e93465c0a1c'', ''Амлодипін 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''447f4837-e003-4de9-a319-d5d9157ad0c8'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'АЛАДИН®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/11314/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/11314/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''60724001-6918-490d-b170-af5c376afbd1'', ''АЛАДИН®'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/11314/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''f283322f-dd30-40a6-bda6-7291a2e0db31'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.24"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''6ed42caa-8c5b-481a-b8e9-794568a74364'', ''{"type": "fixed", "reimbursement_amount": "16.24"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5c7b575a-193b-4ef5-b7fd-3e93465c0a1c'', ''Амлодипін 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''1fc23971-17f3-43f8-92b7-4efc125fbdbb'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'АЛАДИН®'
            AND m.package_qty = 50
            AND m.certificate = 'UA/11314/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/11314/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c16f7c17-a0af-4b8c-8caf-1d4ae33a2161'', ''АЛАДИН®'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 50, 50, ''UA/11314/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''5c8f96bb-33c4-4f0d-ac06-63ab7d155022'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "27.07"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''6b2277d9-1501-4b66-84dd-2558d5a1064c'', ''{"type": "fixed", "reimbursement_amount": "27.07"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5c7b575a-193b-4ef5-b7fd-3e93465c0a1c'', ''Амлодипін 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''b3b832c6-2f39-4b0c-b59a-fdd790b8ad83'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'АЛАДИН®-ФАРМАК'
            AND m.package_qty = 30
            AND m.certificate = 'UA/16983/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/16983/01/02', '2023-10-22'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''079997eb-4a60-409f-badd-fd520849c82a'', ''АЛАДИН®-ФАРМАК'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/16983/01/02'', ''2023-10-22'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''9aad5ad9-d214-4bce-8ae8-e678864242db'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.24"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''f08e9486-3d74-45b6-a982-668af66a75e0'', ''{"type": "fixed", "reimbursement_amount": "16.24"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5c7b575a-193b-4ef5-b7fd-3e93465c0a1c'', ''Амлодипін 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''f05a0958-3b50-4ddc-a190-f1bcdddfc91d'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'АЛАДИН®-ФАРМАК'
            AND m.package_qty = 50
            AND m.certificate = 'UA/16983/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/16983/01/02', '2023-10-22'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''88440bfb-46aa-4970-b2e9-1598d4570eae'', ''АЛАДИН®-ФАРМАК'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 50, 50, ''UA/16983/01/02'', ''2023-10-22'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''e2dc57da-73ed-4797-9680-0a818652664f'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "27.07"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''a2572dd4-245a-4cfa-9c0b-d2b0ae75ce26'', ''{"type": "fixed", "reimbursement_amount": "27.07"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5c7b575a-193b-4ef5-b7fd-3e93465c0a1c'', ''Амлодипін 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''4859a7b8-9859-40e0-ac9d-8ce1cc5f573d'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'АМЛОДИПІН'
            AND m.package_qty = 30
            AND m.certificate = 'UA/1427/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/1427/01/02', '2019-08-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c81138c3-45e3-4d96-b2ac-957f48e093b0'', ''АМЛОДИПІН'', ''BRAND'', ''{"name": "ПрАТ \"Технолог\"", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/1427/01/02'', ''2019-08-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''15411b35-2d1f-42e2-bced-0ef29333c266'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.24"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''e031eade-d528-474a-98f0-f160bf47728a'', ''{"type": "fixed", "reimbursement_amount": "16.24"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5c7b575a-193b-4ef5-b7fd-3e93465c0a1c'', ''Амлодипін 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''9e622801-e36e-4622-a564-a3fba6129be2'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'АМЛОДИПІН'
            AND m.package_qty = 60
            AND m.certificate = 'UA/1427/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/1427/01/02', '2019-08-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''2ec5ac36-e7a0-4ae8-9a33-a86f4ca4f390'', ''АМЛОДИПІН'', ''BRAND'', ''{"name": "ПрАТ \"Технолог\"", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 60, 60, ''UA/1427/01/02'', ''2019-08-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''6a990281-f5c8-442b-a3ec-931bb85273d6'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "32.49"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''76112490-be61-4448-82a0-2976764e8a1e'', ''{"type": "fixed", "reimbursement_amount": "32.49"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5c7b575a-193b-4ef5-b7fd-3e93465c0a1c'', ''Амлодипін 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''af4be9c1-d41f-42c1-bbea-feed5cb92939'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'АМЛОДИПІН-ДАРНИЦЯ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/7940/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/7940/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''780f10dd-466b-408b-b0b4-55098436c76b'', ''АМЛОДИПІН-ДАРНИЦЯ'', ''BRAND'', ''{"name": "ПрАТ \"Фармацевтична фірма \"Дарниця\"", "country": "Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/7940/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''cfae97c3-503e-4356-a85c-07d096cc61b1'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "10.83"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''956cd7bb-b987-4c3a-8a8b-9466745cdb25'', ''{"type": "fixed", "reimbursement_amount": "10.83"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5c7b575a-193b-4ef5-b7fd-3e93465c0a1c'', ''Амлодипін 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''18bc1604-1a4e-4c3a-9c87-95b6755c57af'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'АМЛОДИПІН-АСТРАФАРМ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/3673/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/3673/01/02', '2020-04-21'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''1b6a9ff5-95b0-4036-9b46-c3801ceaa02f'', ''АМЛОДИПІН-АСТРАФАРМ'', ''BRAND'', ''{"name": "ТОВ \"АСТРАФАРМ\"", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/3673/01/02'', ''2020-04-21'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''e979beb1-32ad-4116-9a50-4899917041e1'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "10.83"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''7aa0d4a9-85eb-4604-b1fd-79cbd5f600b1'', ''{"type": "fixed", "reimbursement_amount": "10.83"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5c7b575a-193b-4ef5-b7fd-3e93465c0a1c'', ''Амлодипін 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''3478c514-7bbc-436c-92ea-1a029026263a'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'АМЛОДИПІН'
            AND m.package_qty = 90
            AND m.certificate = 'UA/1427/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/1427/01/02', '2019-08-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''35c2c967-78cb-4237-bfee-4b986f9700be'', ''АМЛОДИПІН'', ''BRAND'', ''{"name": "ПрАТ \"Технолог\"", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 90, 90, ''UA/1427/01/02'', ''2019-08-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''dc36c9bb-b238-4514-ab46-a023fdc9944b'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "48.73"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''92bfc0f7-0459-428d-9b16-8c291b369626'', ''{"type": "fixed", "reimbursement_amount": "48.73"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5c7b575a-193b-4ef5-b7fd-3e93465c0a1c'', ''Амлодипін 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''8b03972c-19af-4285-a48a-0e9c3f5f1c90'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'АМЛОДИПІН-АСТРАФАРМ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/3673/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/3673/01/02', '2020-04-21'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e1d636ab-3a36-46df-aecc-1028e53960e8'', ''АМЛОДИПІН-АСТРАФАРМ'', ''BRAND'', ''{"name": "ТОВ \"АСТРАФАРМ\"", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/3673/01/02'', ''2020-04-21'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''e2971516-53b9-49e1-8dea-7a9925da4d58'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.24"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''b80f66e5-bec8-4e25-93ab-737187f3c495'', ''{"type": "fixed", "reimbursement_amount": "16.24"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5c7b575a-193b-4ef5-b7fd-3e93465c0a1c'', ''Амлодипін 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''6cb88a52-4cf8-4f30-b707-bedd5530063d'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'АМЛОДИПІН-ФАРМАК'
            AND m.package_qty = 20
            AND m.certificate = 'UA/4556/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/4556/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9eb6d25d-37a6-469e-910b-30ead07c06b8'', ''АМЛОДИПІН-ФАРМАК'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/4556/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''293e52fe-dc11-4b27-b0eb-04feccb3b229'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "10.83"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''f090e07e-0f1c-4ddd-9a64-f216a8ecc937'', ''{"type": "fixed", "reimbursement_amount": "10.83"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5c7b575a-193b-4ef5-b7fd-3e93465c0a1c'', ''Амлодипін 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''fb28ead3-f31c-4529-82e5-364a1b1503c6'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'АМЛОДИПІН-ЗДОРОВ''Я'
            AND m.package_qty = 30
            AND m.certificate = 'UA/1538/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/1538/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''f107bf8d-e238-461b-baeb-794e7769d3ed'', ''АМЛОДИПІН-ЗДОРОВ''''Я'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Фармацевтична компанія \"Здоров''''я\" ", "country": " Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/1538/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''58c1b78f-6c44-42a9-859e-57d08e0ec9eb'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.24"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''42ba752a-d624-49bf-a3c8-21d94c6fdfcb'', ''{"type": "fixed", "reimbursement_amount": "16.24"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5c7b575a-193b-4ef5-b7fd-3e93465c0a1c'', ''Амлодипін 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''0109af24-0295-4d3f-b2f9-f473c0a1e1a1'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'АМЛОДИПІН-КВ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/7831/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/7831/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''14ea8b4d-1770-4140-981c-17300917b8be'', ''АМЛОДИПІН-КВ'', ''BRAND'', ''{"name": "АТ \"КИЇВСЬКИЙ ВІТАМІННИЙ ЗАВОД\"", "country": "Україна"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/7831/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''b7b89e96-e217-46cf-9fc4-16afc5a425eb'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.24"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''c600d1cc-b916-4609-bb42-5abc3e1b5936'', ''{"type": "fixed", "reimbursement_amount": "16.24"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5c7b575a-193b-4ef5-b7fd-3e93465c0a1c'', ''Амлодипін 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''d43673be-f93c-4531-b439-ef81069aa5f3'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'АМЛОДИПІН-ТЕВА'
            AND m.package_qty = 30
            AND m.certificate = 'UA/16717/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/16717/01/02', '2023-05-16'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''99a6e631-e9ee-46be-b7e4-de7c02cbd11f'', ''АМЛОДИПІН-ТЕВА'', ''BRAND'', ''{"name": "АТ Фармацевтичний завод ТЕВА", "country": " Угорщина"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/16717/01/02'', ''2023-05-16'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''ddaf233c-d861-4164-bdb0-eb771d37c494'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.24"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''c3336da1-7572-41ac-9c72-d5719a740a42'', ''{"type": "fixed", "reimbursement_amount": "16.24"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5c7b575a-193b-4ef5-b7fd-3e93465c0a1c'', ''Амлодипін 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''159e896e-5534-4c1b-8256-4d3b1faab07b'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'СТАМЛО'
            AND m.package_qty = 30
            AND m.certificate = 'UA/1421/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/1421/01/02', '2019-07-03'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ab02f9c8-251e-47e2-a7e7-5eced62ba658'', ''СТАМЛО'', ''BRAND'', ''{"name": "Д-р Редді''''с Лабораторіс Лтд", "country": " Індія"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/1421/01/02'', ''2019-07-03'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''699d8bf8-5d88-4352-8f13-9dd775a05609'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.24"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''51a42feb-d077-49b8-9284-d027e5bd69aa'', ''{"type": "fixed", "reimbursement_amount": "16.24"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5c7b575a-193b-4ef5-b7fd-3e93465c0a1c'', ''Амлодипін 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''b0f2ce32-b882-4d36-a67a-fc6b55c8abc1'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'АМЛОДИПІН САНДОЗ®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/11166/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/11166/01/02', '2020-08-19'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''f42df523-8256-4855-8e28-95bc05137b1c'', ''АМЛОДИПІН САНДОЗ®'', ''BRAND'', ''{"name": "Лек фармацевтична компанія д.д.", "country": " Словенія"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/11166/01/02'', ''2020-08-19'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''d755ee30-0553-46ad-8387-73ca3dc85d4e'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.24"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''c30d1ec0-e6cd-4f3d-bfba-c3908ac16ee7'', ''{"type": "fixed", "reimbursement_amount": "16.24"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5c7b575a-193b-4ef5-b7fd-3e93465c0a1c'', ''Амлодипін 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''b00cbd5e-ede6-4bb2-99a1-0401ffc58893'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'ЕМЛОДИН®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/6382/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/6382/01/03', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e4c2b8be-d8eb-46d2-aa53-b9cd591c89b1'', ''ЕМЛОДИН®'', ''BRAND'', ''{"name": "ЗАТ Фармацевтичний завод ЕГІС", "country": " Угорщина"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/6382/01/03'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''ca16dddc-3337-4a3c-ac2d-84ab9f810c38'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.24"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''23190c79-95c4-421f-8f96-b1beb91e643d'', ''{"type": "fixed", "reimbursement_amount": "16.24"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Амлодипін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Амлодипін 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5c7b575a-193b-4ef5-b7fd-3e93465c0a1c'', ''Амлодипін 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''1755d856-34f4-45df-813e-2e536237e474'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'АМЛОЦИМ 10 МГ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/14494/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08CA01"]'::jsonb, 'UA/14494/01/01', '2020-11-04'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''8891dc2c-eb6c-4c37-be29-dc4ad363a341'', ''АМЛОЦИМ 10 МГ'', ''BRAND'', ''{"name": "Юнікем Лабораторіз Лімітед", "country": " Індія"}'', ''["C08CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/14494/01/01'', ''2020-11-04'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''62290fa5-a36a-4997-8a45-1135ee7017a2'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.24"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''53df510c-e677-4344-be6f-575e81ac91d9'', ''{"type": "fixed", "reimbursement_amount": "16.24"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Атенолол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Атенолол 100 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''0500b68f-81d9-4d74-a9df-1f30aa1545fe'', ''Атенолол 100 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''db4e1dac-0a8c-4e11-a446-9e305bde59b9'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'АТЕНОЛОЛ-АСТРАФАРМ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/4941/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB03"]'::jsonb, 'UA/4941/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''abc47ddb-0b76-4770-a1c7-77e27839a581'', ''АТЕНОЛОЛ-АСТРАФАРМ'', ''BRAND'', ''{"name": "ТОВ \"АСТРАФАРМ\"", "country": " Україна"}'', ''["C07AB03"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/4941/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''f429a4ce-b071-48ea-ad25-825a38604207'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "12.99"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''be6e8307-2660-4b1a-89cf-b72af50c97a3'', ''{"type": "fixed", "reimbursement_amount": "12.99"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Атенолол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Атенолол 50 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''bbb635c9-6d66-4e7b-8d09-80017c8ec794'', ''Атенолол 50 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''ff675d2e-bae7-4b4f-a646-6c092806ddbf'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 50
            AND m.name = 'АТЕНОЛОЛ-АСТРАФАРМ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/4941/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB03"]'::jsonb, 'UA/4941/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c305881b-7014-4b6c-a4eb-5c4617aab4cd'', ''АТЕНОЛОЛ-АСТРАФАРМ'', ''BRAND'', ''{"name": "ТОВ \"АСТРАФАРМ\"", "country": " Україна"}'', ''["C07AB03"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/4941/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''f369634c-c110-4b9b-b89f-ed02e059de2e'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "6.50"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''56985b75-35b4-4bca-aec1-f2225f2d0f6f'', ''{"type": "fixed", "reimbursement_amount": "6.50"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Атенолол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Атенолол 50 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''bbb635c9-6d66-4e7b-8d09-80017c8ec794'', ''Атенолол 50 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''7607ec39-b81e-4157-a2d8-d52048857d58'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 50
            AND m.name = 'АТЕНОЛОЛ - ЗДОРОВ''Я'
            AND m.package_qty = 20
            AND m.certificate = 'UA/6065/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB03"]'::jsonb, 'UA/6065/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''272b059e-e237-4785-bfc4-167b490a231d'', ''АТЕНОЛОЛ - ЗДОРОВ''''Я'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Фармацевтична компанія \"Здоров''''я\" ", "country": " Україна"}'', ''["C07AB03"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/6065/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''0ea0d9e1-8e79-4eba-9b77-9c3d221a1279'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "6.50"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''f9714b69-1c29-4894-91d7-e536a7459253'', ''{"type": "fixed", "reimbursement_amount": "6.50"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Атенолол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Атенолол 50 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''bbb635c9-6d66-4e7b-8d09-80017c8ec794'', ''Атенолол 50 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''aff998f0-7abf-4850-a11a-df98d52313e9'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 50
            AND m.name = 'АТЕНОЛОЛ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/8377/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["С07АВ03"]'::jsonb, 'UA/8377/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''af1ed2f6-42fb-415d-96c8-155251bf48fd'', ''АТЕНОЛОЛ'', ''BRAND'', ''{"name": "ПАТ \"МОНФАРМ\"", "country": " Україна"}'', ''["С07АВ03"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/8377/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''bd000c59-8f45-44aa-ab41-d470ace5d34e'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "6.50"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''b47b6265-d62b-4c6c-89c6-542803fcc63b'', ''{"type": "fixed", "reimbursement_amount": "6.50"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Верапаміл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Верапаміл 40 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''b2ad2808-a330-496c-9602-81894385f3ce'', ''Верапаміл 40 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''f94d4b50-1b09-4aec-bc7f-deade481efb1'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 40
            AND m.name = 'ВЕРАПАМІЛ-ДАРНИЦЯ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/3582/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08DA01"]'::jsonb, 'UA/3582/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''14328eda-edbb-41fa-9c5c-e9b16ee8962e'', ''ВЕРАПАМІЛ-ДАРНИЦЯ'', ''BRAND'', ''{"name": "ПрАТ \"Фармацевтична фірма \"Дарниця\"", "country": "Україна"}'', ''["C08DA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/3582/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''4695d888-5b3d-42e3-94de-e4bb3a7a08e6'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "6.09"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''834d30ac-5afc-46fa-b591-53a58790e4cc'', ''{"type": "fixed", "reimbursement_amount": "6.09"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Верапаміл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Верапаміл 40 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''b2ad2808-a330-496c-9602-81894385f3ce'', ''Верапаміл 40 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''92d9e42a-409c-45a8-b00f-08fd5eb56d7e'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 40
            AND m.name = 'ВЕРАПАМІЛУ ГІДРОХЛОРИД'
            AND m.package_qty = 20
            AND m.certificate = 'UA/5540/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08DA01"]'::jsonb, 'UA/5540/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''4ebb4c90-00bb-4d7e-9bfb-57e3384a37f4'', ''ВЕРАПАМІЛУ ГІДРОХЛОРИД'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Дослідний завод \"ГНЦЛС\"", "country": " Україна"}'', ''["C08DA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/5540/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''3a3488d6-eff2-49d1-8a9a-76a9bc819396'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "6.09"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''ee2afa6e-b378-4e65-8fd5-50b5043a79ee'', ''{"type": "fixed", "reimbursement_amount": "6.09"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Верапаміл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Верапаміл 80 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''49c04cb1-7bbd-4b59-a591-9f3072f6afe1'', ''Верапаміл 80 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''e37105c7-8e4b-45d8-885d-060ab431db8b'', ''{"numerator_unit": "MG", "numerator_value": "80", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 80
            AND m.name = 'ВЕРАПАМІЛ-ДАРНИЦЯ'
            AND m.package_qty = 50
            AND m.certificate = 'UA/3582/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08DA01"]'::jsonb, 'UA/3582/01/01', '2020-06-12'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''73b6ee39-4a7e-4c6c-b977-6fd565a1878e'', ''ВЕРАПАМІЛ-ДАРНИЦЯ'', ''BRAND'', ''{"name": "ПрАТ \"Фармацевтична фірма \"Дарниця\"", "country": "Україна"}'', ''["C08DA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 50, 50, ''UA/3582/01/01'', ''2020-06-12'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''d57b8c3d-c5de-46e0-990c-7ae27dd456eb'', ''{"numerator_unit": "MG", "numerator_value": "80", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "30.45"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''4a7ffa14-d374-4b15-86af-dbd6331f6003'', ''{"type": "fixed", "reimbursement_amount": "30.45"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Верапаміл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Верапаміл 80 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''49c04cb1-7bbd-4b59-a591-9f3072f6afe1'', ''Верапаміл 80 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''0df5aca9-4bfe-4863-b839-1529cacd092b'', ''{"numerator_unit": "MG", "numerator_value": "80", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 80
            AND m.name = 'ВЕРАПАМІЛУ ГІДРОХЛОРИД'
            AND m.package_qty = 50
            AND m.certificate = 'UA/3226/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C08DA01"]'::jsonb, 'UA/3226/01/01', '2020-03-06'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5d2edacf-3b86-4c42-bcdd-4fd4f3874ee7'', ''ВЕРАПАМІЛУ ГІДРОХЛОРИД'', ''BRAND'', ''{"name": "Публічне акціонерне товариство \"Науково-виробничий центр \"Борщагівський хіміко-фармацевтичний завод\"", "country": "Україна"}'', ''["C08DA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 50, 50, ''UA/3226/01/01'', ''2020-03-06'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''28bbbf9a-e47b-47bd-8852-b36f04fc4f61'', ''{"numerator_unit": "MG", "numerator_value": "80", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "30.45"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''f39d729e-87b6-46c0-ad56-7b73445b197f'', ''{"type": "fixed", "reimbursement_amount": "30.45"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Гідрохлортіазид' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Гідрохлортіазид 25 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c58d51ee-6ae3-4ca3-9509-202560a03e9e'', ''Гідрохлортіазид 25 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''4a7547e2-d250-4510-b5a4-e7cf22bbbc69'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 25
            AND m.name = 'ГІДРОХЛОРТІАЗИД'
            AND m.package_qty = 20
            AND m.certificate = 'UA/6721/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C03AA03"]'::jsonb, 'UA/6721/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''a2689b01-36cd-455c-92d7-e5f3a61374cd'', ''ГІДРОХЛОРТІАЗИД'', ''BRAND'', ''{"name": "Публічне акціонерне товариство \"Науково-виробничий центр \"Борщагівський хіміко-фармацевтичний завод\"", "country": " Україна"}'', ''["C03AA03"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/6721/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''390abbfc-f89a-4377-b799-d8ed01860153'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "23.69"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''a7f220f4-cf26-4f97-afd8-8bc94b243990'', ''{"type": "fixed", "reimbursement_amount": "23.69"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Спіронолактон' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Спіронолактон 25 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''11634c8d-e2cf-4931-9081-4443ee5c5f44'', ''Спіронолактон 25 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''dd174067-189d-4085-8011-028ba1d3e830'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 25
            AND m.name = 'ВЕРОШПІРОН'
            AND m.package_qty = 20
            AND m.certificate = 'UA/2775/02/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C03DA01"]'::jsonb, 'UA/2775/02/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''a47b3cd2-fbc4-4623-aaeb-338c5bd7d52f'', ''ВЕРОШПІРОН'', ''BRAND'', ''{"name": "ВАТ \"Гедеон Ріхтер\"", "country": " Угорщина"}'', ''["C03DA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/2775/02/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''ca920f24-cc51-4f63-9f99-c5355eb1c5fd'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "18.81"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''7aee2ac4-6297-4884-bcdc-3e3e4931addf'', ''{"type": "fixed", "reimbursement_amount": "18.81"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Спіронолактон' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Спіронолактон 25 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''11634c8d-e2cf-4931-9081-4443ee5c5f44'', ''Спіронолактон 25 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''219d3ac3-518f-4fb0-b60c-4b01a0dbc52e'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 25
            AND m.name = 'СПІРОНОЛАКТОН-ДАРНИЦЯ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/0808/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C03DA01"]'::jsonb, 'UA/0808/01/01', '2019-04-16'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''daf6be7e-aece-4235-99d8-6d972f6475de'', ''СПІРОНОЛАКТОН-ДАРНИЦЯ'', ''BRAND'', ''{"name": "ПрАТ \"Фармацевтична фірма \"Дарниця\"", "country": "Україна"}'', ''["C03DA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/0808/01/01'', ''2019-04-16'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''98f298d6-c983-4b01-b6dc-f0c738cc82cf'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "28.21"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''009da514-6ff8-4af6-8320-8c751ab52f03'', ''{"type": "fixed", "reimbursement_amount": "28.21"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Спіронолактон' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Спіронолактон 50 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''71cabb26-5e2d-423e-bcf1-f1cec4137724'', ''Спіронолактон 50 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''86e7c310-3a14-4fc1-83dd-5a36a76a21f3'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 50
            AND m.name = 'СПІРОНОЛАКТОН САНДОЗ®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/14227/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C03DA01"]'::jsonb, 'UA/14227/01/01', '2020-03-03'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''2f332860-a0d9-4e24-a2ed-893de3a5bded'', ''СПІРОНОЛАКТОН САНДОЗ®'', ''BRAND'', ''{"name": "Салютас Фарма ГмбХ", "country": " Німеччина"}'', ''["C03DA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/14227/01/01'', ''2020-03-03'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''b313a1a2-cb7e-4601-962c-5378e1d681fb'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "56.42"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''adf76371-3b93-4416-b224-4385c16e123f'', ''{"type": "fixed", "reimbursement_amount": "56.42"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Спіронолактон' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Спіронолактон 100 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''74531fc0-3e05-4ab1-9609-8a62ee4a7f87'', ''Спіронолактон 100 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''4d2bdf72-bb3d-4319-8452-cda728243037'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'СПІРОНОЛАКТОН-ДАРНИЦЯ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/0808/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C03DA01"]'::jsonb, 'UA/0808/01/02', '2021-12-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''8ecd7424-8d83-4974-9082-a34e602c79a9'', ''СПІРОНОЛАКТОН-ДАРНИЦЯ'', ''BRAND'', ''{"name": "ПрАТ \"Фармацевтична фірма \"Дарниця\"", "country": "Україна"}'', ''["C03DA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/0808/01/02'', ''2021-12-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''b0d19e4a-2429-40ac-ba86-fff059735bbf'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "112.83"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''cda295d7-a593-4586-919f-6792c86575a4'', ''{"type": "fixed", "reimbursement_amount": "112.83"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Спіронолактон' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Спіронолактон 100 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''74531fc0-3e05-4ab1-9609-8a62ee4a7f87'', ''Спіронолактон 100 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''59025d4f-3c9e-4aa3-8027-4228867e3473'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'СПІРОНОЛАКТОН САНДОЗ®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/14227/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C03DA01"]'::jsonb, 'UA/14227/01/02', '2020-03-03'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''87a727b9-783e-4f93-b724-014ffde87f72'', ''СПІРОНОЛАКТОН САНДОЗ®'', ''BRAND'', ''{"name": "Салютас Фарма ГмбХ", "country": " Німеччина"}'', ''["C03DA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/14227/01/02'', ''2020-03-03'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''aecefd9a-0e2f-4608-9d4f-ae334617c1a4'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "112.83"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''775afab8-dae6-4be8-976e-df8418f6cb49'', ''{"type": "fixed", "reimbursement_amount": "112.83"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Фуросемід' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Фуросемід 40 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''66b044ff-e500-4501-af15-33fa9509fb92'', ''Фуросемід 40 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''5f3f51ef-bbd1-405b-97d0-3073c57f98b6'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 40
            AND m.name = 'ФУРОСЕМІД-ДАРНИЦЯ'
            AND m.package_qty = 50
            AND m.certificate = 'UA/2353/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C03CA01"]'::jsonb, 'UA/2353/01/01', '2019-12-25'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''fe5c9c79-1c13-41fd-b691-29e572b64061'', ''ФУРОСЕМІД-ДАРНИЦЯ'', ''BRAND'', ''{"name": "ПрАТ \"Фармацевтична фірма \"Дарниця\"", "country": "Україна"}'', ''["C03CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 50, 50, ''UA/2353/01/01'', ''2019-12-25'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''0cf3e81f-49b2-4194-aa9f-4ee93db729be'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "8.60"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''b0d4feda-0bcf-4aab-90f0-864696815b4f'', ''{"type": "fixed", "reimbursement_amount": "8.60"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Фуросемід' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Фуросемід 40 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''66b044ff-e500-4501-af15-33fa9509fb92'', ''Фуросемід 40 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''4ca01dce-c3f4-4b04-bc91-dbbe6f4eb1e0'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 40
            AND m.name = 'ФУРОСЕМІД'
            AND m.package_qty = 50
            AND m.certificate = 'UA/3983/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C03CA01"]'::jsonb, 'UA/3983/01/01', '2020-09-21'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''aa00c19a-0e20-466b-93f9-6695cd707217'', ''ФУРОСЕМІД'', ''BRAND'', ''{"name": "Публічне акціонерне товариство \"Науково-виробничий центр \"Борщагівський хіміко-фармацевтичний завод\"", "country": " Україна"}'', ''["C03CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 50, 50, ''UA/3983/01/01'', ''2020-09-21'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''5fabd13f-f815-4d01-880d-e2a47fd512fc'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "8.60"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''fc1203ab-acff-434f-a8b5-8ac99c61c63a'', ''{"type": "fixed", "reimbursement_amount": "8.60"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Фуросемід' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Фуросемід 40 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''66b044ff-e500-4501-af15-33fa9509fb92'', ''Фуросемід 40 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''1701c1f1-26f7-463c-986b-19773f3df25f'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 40
            AND m.name = 'ФУРОСЕМІД'
            AND m.package_qty = 50
            AND m.certificate = 'UA/5153/02/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C03CA01"]'::jsonb, 'UA/5153/02/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''720bab68-888c-4076-9394-2c3c7cbb14ba'', ''ФУРОСЕМІД'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Дослідний завод \"ГНЦЛС\"", "country": " Україна"}'', ''["C03CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 50, 50, ''UA/5153/02/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''34c8cfb6-8796-40c0-987d-0213074f41c8'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "8.60"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''498c6b28-e8ed-45d8-b16b-a582b6dac689'', ''{"type": "fixed", "reimbursement_amount": "8.60"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Фуросемід' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Фуросемід 40 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''66b044ff-e500-4501-af15-33fa9509fb92'', ''Фуросемід 40 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''822eb91b-f393-4523-a05d-eaf8d903718a'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 40
            AND m.name = 'ФУРОСЕМІД'
            AND m.package_qty = 50
            AND m.certificate = 'UA/0187/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C03CA01"]'::jsonb, 'UA/0187/01/01', '2019-02-26'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''06e83c23-1154-4c75-afe1-e7875db0c60a'', ''ФУРОСЕМІД'', ''BRAND'', ''{"name": "ПАТ \"Київмедпрепарат\"", "country": " Україна"}'', ''["C03CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 50, 50, ''UA/0187/01/01'', ''2019-02-26'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''6e0c888b-5e3a-4444-990b-e520fb617925'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "8.60"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''6438e093-4a26-463f-8adc-d0bbb9a889de'', ''{"type": "fixed", "reimbursement_amount": "8.60"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Дигоксин' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Дигоксин 0.25 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''dc605141-ba6d-4a76-b710-2ddc14dec706'', ''Дигоксин 0.25 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''746ee976-0130-48f2-b543-2f056478a1ab'', ''{"numerator_unit": "MG", "numerator_value": "0.25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 0.25
            AND m.name = 'ДИГОКСИН'
            AND m.package_qty = 40
            AND m.certificate = 'UA/7365/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["С01АА05"]'::jsonb, 'UA/7365/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''b657f8e3-0982-475e-b5f8-01fdcda7ed5e'', ''ДИГОКСИН'', ''BRAND'', ''{"name": "Публічне акціонерне товариство \"Науково-виробничий центр \"Борщагівський хіміко-фармацевтичний завод\"", "country": "Україна"}'', ''["С01АА05"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 40, 40, ''UA/7365/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''f1c41cb5-c93e-47ac-b27a-670f937ae376'', ''{"numerator_unit": "MG", "numerator_value": "0.25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "8.26"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''1ac18117-5e3a-4497-9ed3-244498095c94'', ''{"type": "fixed", "reimbursement_amount": "8.26"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Дигоксин' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Дигоксин 0.25 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''dc605141-ba6d-4a76-b710-2ddc14dec706'', ''Дигоксин 0.25 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''45fad4f3-8114-4650-9548-c656e9f23c47'', ''{"numerator_unit": "MG", "numerator_value": "0.25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 0.25
            AND m.name = 'ДИГОКСИН-ЗДОРОВ''Я'
            AND m.package_qty = 50
            AND m.certificate = 'UA/4231/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C01AA05"]'::jsonb, 'UA/4231/01/01', '2020-09-04'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''0e985145-da8d-46ef-88ac-04a199339dbc'', ''ДИГОКСИН-ЗДОРОВ''''Я'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Фармацевтична компанія \"Здоров''''я\" ", "country": " Україна"}'', ''["C01AA05"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 50, 50, ''UA/4231/01/01'', ''2020-09-04'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''d26c71d6-34eb-4031-a204-111a542e3cc9'', ''{"numerator_unit": "MG", "numerator_value": "0.25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "10.32"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''ca1be4e4-643c-4a5d-9d61-d9caefe994bf'', ''{"type": "fixed", "reimbursement_amount": "10.32"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Еналаприл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Еналаприл 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''1d7a87b9-b17d-4a7d-856e-5971a1105f32'', ''Еналаприл 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''f4bf99cc-67fe-4e6f-94d8-36895b5cd063'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'ЕНАЛАПРИЛ-ЗДОРОВ''Я'
            AND m.package_qty = 20
            AND m.certificate = 'UA/5913/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09AA02"]'::jsonb, 'UA/5913/01/03', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''fece6626-1fb2-4db9-a7c5-dde0fc5b881b'', ''ЕНАЛАПРИЛ-ЗДОРОВ''''Я'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Фармацевтична компанія \"Здоров''''я\" ", "country": " Україна"}'', ''["C09AA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/5913/01/03'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''3df0b6a2-c3f9-4f72-8925-a06b303465a7'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "2.38"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''a49c655c-de55-4739-bdfc-0bde31dca3bc'', ''{"type": "fixed", "reimbursement_amount": "2.38"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Еналаприл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Еналаприл 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''1d7a87b9-b17d-4a7d-856e-5971a1105f32'', ''Еналаприл 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''c0b68124-c133-4011-a03c-057b525c3228'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'ЕНАЛАПРИЛ-ЗДОРОВ''Я'
            AND m.package_qty = 30
            AND m.certificate = 'UA/5913/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09AA02"]'::jsonb, 'UA/5913/01/03', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''6b8941e8-2a36-4d37-9cf7-9286f7d0a209'', ''ЕНАЛАПРИЛ-ЗДОРОВ''''Я'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Фармацевтична компанія \"Здоров''''я\" ", "country": " Україна"}'', ''["C09AA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/5913/01/03'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''35ff7090-76ce-4933-aec3-b82fab870f58'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "3.57"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''03f42b08-149b-47f9-ad46-41531f66f9ac'', ''{"type": "fixed", "reimbursement_amount": "3.57"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Еналаприл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Еналаприл 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''1d7a87b9-b17d-4a7d-856e-5971a1105f32'', ''Еналаприл 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''499612e1-5a56-4f6d-a3c6-381ae2b5de26'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'ЕНАЛАПРИЛ-ТЕВА'
            AND m.package_qty = 30
            AND m.certificate = 'UA/16349/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09AA02"]'::jsonb, 'UA/16349/01/02', '2022-10-11'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''b157c737-1cce-4586-938e-b87fe8467015'', ''ЕНАЛАПРИЛ-ТЕВА'', ''BRAND'', ''{"name": "ТОВ Тева Оперейшнз Поланд", "country": " Польща"}'', ''["C09AA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/16349/01/02'', ''2022-10-11'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''426659c9-841c-4b88-acfe-da7af1249489'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "3.57"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''39e2f29d-e692-4c00-ad3b-3feb7f51de2a'', ''{"type": "fixed", "reimbursement_amount": "3.57"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Еналаприл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Еналаприл 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''de3c44c4-0397-4757-a0ee-81772c25cfb1'', ''Еналаприл 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''eb83f54c-7278-406f-9524-3c649d54a005'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'ЕНАЛАПРИЛ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/1195/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09AA02"]'::jsonb, 'UA/1195/01/02', '2019-10-17'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''2c49c037-96c0-4310-b75c-6019fdad4359'', ''ЕНАЛАПРИЛ'', ''BRAND'', ''{"name": "ПАТ \"Лубнифарм\"", "country": " Україна"}'', ''["C09AA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/1195/01/02'', ''2019-10-17'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''f33ee3fc-b0ae-4d7a-8ffa-49c3f6272475'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "4.76"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''a02df9be-49f1-4eeb-a032-b0301eaef300'', ''{"type": "fixed", "reimbursement_amount": "4.76"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Еналаприл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Еналаприл 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''de3c44c4-0397-4757-a0ee-81772c25cfb1'', ''Еналаприл 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''83ae9e26-54a3-4abf-9064-2a01562c4398'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'ЕНАЛАПРИЛ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/6582/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09AA02"]'::jsonb, 'UA/6582/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''7b435a18-4e6a-42e1-b168-4cd87b5332b5'', ''ЕНАЛАПРИЛ'', ''BRAND'', ''{"name": "ПАТ \"Хімфармзавод \"Червона зірка\"", "country": " Україна"}'', ''["C09AA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/6582/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''a0f839cf-6a98-4021-b766-aa2a2501cef6'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "4.76"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''c6c2eb70-526d-4a1b-9ed6-0d0d0567d69d'', ''{"type": "fixed", "reimbursement_amount": "4.76"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Еналаприл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Еналаприл 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''de3c44c4-0397-4757-a0ee-81772c25cfb1'', ''Еналаприл 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''34a4985a-eece-403b-a7e3-529f9cde12d3'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'ЕНАЛАПРИЛ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/8867/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09AA02"]'::jsonb, 'UA/8867/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''cf9ff7b7-b1e5-45de-8e42-e893b30f7c47'', ''ЕНАЛАПРИЛ'', ''BRAND'', ''{"name": "ПАТ \"Київмедпрепарат\"", "country": " Україна"}'', ''["C09AA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/8867/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''ddaf8fac-2354-4101-9995-9e033488872b'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "4.76"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''555a6741-41c8-40ed-8181-4f19ecca746a'', ''{"type": "fixed", "reimbursement_amount": "4.76"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Еналаприл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Еналаприл 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''de3c44c4-0397-4757-a0ee-81772c25cfb1'', ''Еналаприл 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''46aac357-b6bc-483e-8cec-41dee591ec09'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'ЕНАЛАПРИЛ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/2818/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09AA02"]'::jsonb, 'UA/2818/01/01', '2020-03-06'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''acaceedb-da92-4814-8383-1d638d7503cf'', ''ЕНАЛАПРИЛ'', ''BRAND'', ''{"name": "Приватне акціонерне товариство \"Лекхім-Харків\"", "country": " Україна"}'', ''["C09AA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/2818/01/01'', ''2020-03-06'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''493cb9a1-1bf4-4ba9-b253-06576cd714ff'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "4.76"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''47f7cfd1-b55f-4fba-8ef9-b4c375472d9d'', ''{"type": "fixed", "reimbursement_amount": "4.76"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Еналаприл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Еналаприл 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''de3c44c4-0397-4757-a0ee-81772c25cfb1'', ''Еналаприл 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''c27154f6-29d3-4f0e-bc15-25ead4d01b88'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'ЕНАЛАПРИЛ'
            AND m.package_qty = 50
            AND m.certificate = 'UA/2818/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09AA02"]'::jsonb, 'UA/2818/01/01', '2020-03-06'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c3601bc9-fba4-4e1b-874b-eff05f4cad0c'', ''ЕНАЛАПРИЛ'', ''BRAND'', ''{"name": "Приватне акціонерне товариство \"Лекхім-Харків\"", "country": " Україна"}'', ''["C09AA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 50, 50, ''UA/2818/01/01'', ''2020-03-06'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''867407a9-7282-49dc-967d-673e19744925'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "11.91"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''4229c6e0-01cf-43be-9568-7d1e118f444c'', ''{"type": "fixed", "reimbursement_amount": "11.91"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Еналаприл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Еналаприл 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''de3c44c4-0397-4757-a0ee-81772c25cfb1'', ''Еналаприл 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''e9639927-ea9d-453e-b670-83170678c275'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'ЕНАЛАПРИЛ'
            AND m.package_qty = 90
            AND m.certificate = 'UA/2818/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09AA02"]'::jsonb, 'UA/2818/01/01', '2020-03-06'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ac7ea697-9ef7-46ed-ab31-6007c8be130c'', ''ЕНАЛАПРИЛ'', ''BRAND'', ''{"name": "Приватне акціонерне товариство \"Лекхім-Харків\"", "country": " Україна"}'', ''["C09AA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 90, 90, ''UA/2818/01/01'', ''2020-03-06'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''9678f27c-6be3-471a-b635-290ae68d4318'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "21.44"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''507b0c87-24b6-40dd-8215-799b33064c72'', ''{"type": "fixed", "reimbursement_amount": "21.44"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Еналаприл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Еналаприл 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''de3c44c4-0397-4757-a0ee-81772c25cfb1'', ''Еналаприл 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''44d0ead0-a1d5-476a-a2b7-5c27ee74916e'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'ЕНАЛАПРИЛ-АСТРАФАРМ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/5232/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09AA02"]'::jsonb, 'UA/5232/01/02', '2019-02-08'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''14763173-dd00-4d5d-b4a3-f3e00c629ecd'', ''ЕНАЛАПРИЛ-АСТРАФАРМ'', ''BRAND'', ''{"name": "ТОВ \"АСТРАФАРМ\"", "country": " Україна"}'', ''["C09AA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/5232/01/02'', ''2019-02-08'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''6f913ac1-6a7b-4fdf-b93b-0ee92629463c'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "4.76"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''c0c76e8f-ea20-4509-9875-75154a79a171'', ''{"type": "fixed", "reimbursement_amount": "4.76"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Еналаприл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Еналаприл 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''de3c44c4-0397-4757-a0ee-81772c25cfb1'', ''Еналаприл 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''f6207c03-4c0a-4701-a3d0-b3bbefd6a2bb'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'ЕНАЛАПРИЛ-ДАРНИЦЯ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/9020/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09AA02"]'::jsonb, 'UA/9020/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''4c9ce30e-d696-4a2d-aec0-bd91f35ecd10'', ''ЕНАЛАПРИЛ-ДАРНИЦЯ'', ''BRAND'', ''{"name": "ПрАТ \"Фармацевтична фірма \"Дарниця\"", "country": "Україна"}'', ''["C09AA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/9020/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''0f0126ef-af27-428a-996e-db9c4d2d12bd'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "4.76"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''99bbd0da-6ac4-4185-a804-7daceb5443aa'', ''{"type": "fixed", "reimbursement_amount": "4.76"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Еналаприл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Еналаприл 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''de3c44c4-0397-4757-a0ee-81772c25cfb1'', ''Еналаприл 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''0d333cd4-4273-4bbc-b9cb-61f19d3b0c2f'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'ЕНАЛАПРИЛ-ЗДОРОВ''Я'
            AND m.package_qty = 20
            AND m.certificate = 'UA/5913/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09AA02"]'::jsonb, 'UA/5913/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''96c2758a-7ebb-4088-bde4-ef77c32c917a'', ''ЕНАЛАПРИЛ-ЗДОРОВ''''Я'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Фармацевтична компанія \"Здоров''''я\" ", "country": " Україна"}'', ''["C09AA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/5913/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''35abd589-b6de-4d1b-bf16-e4e5cda8cf5d'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "4.76"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''a217c500-46ca-4ec3-b561-ebfdff2c4d16'', ''{"type": "fixed", "reimbursement_amount": "4.76"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Еналаприл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Еналаприл 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''de3c44c4-0397-4757-a0ee-81772c25cfb1'', ''Еналаприл 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''08a0dbab-9629-4acb-bce3-0e9f5b4a698e'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'ЕНАЛАПРИЛ-ТЕВА'
            AND m.package_qty = 30
            AND m.certificate = 'UA/16349/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09AA02"]'::jsonb, 'UA/16349/01/03', '2022-10-11'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d6079d77-1cd8-4e9e-8946-6f4edc3ed2c9'', ''ЕНАЛАПРИЛ-ТЕВА'', ''BRAND'', ''{"name": "ТОВ Тева Оперейшнз Поланд", "country": " Польща"}'', ''["C09AA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/16349/01/03'', ''2022-10-11'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''a89196a2-f091-474d-bd42-a7f94f337cbc'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "7.15"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''5c43425e-7fb1-4ca7-9dd9-1289a07e998c'', ''{"type": "fixed", "reimbursement_amount": "7.15"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Еналаприл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Еналаприл 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''de3c44c4-0397-4757-a0ee-81772c25cfb1'', ''Еналаприл 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''c9f2c65a-1719-4334-9302-93c8fd603246'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'ЕНАЛОЗИД® МОНО'
            AND m.package_qty = 20
            AND m.certificate = 'UA/15415/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09AA02"]'::jsonb, 'UA/15415/01/02', '2021-09-15'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''53841886-3800-42cf-8aa4-075cf08cc648'', ''ЕНАЛОЗИД® МОНО'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["C09AA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/15415/01/02'', ''2021-09-15'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''38973bdd-e1ae-42d6-b7a2-096cfc240507'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "4.76"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''9128976c-87fc-4bee-bf9c-49c31f10f709'', ''{"type": "fixed", "reimbursement_amount": "4.76"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Еналаприл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Еналаприл 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''de3c44c4-0397-4757-a0ee-81772c25cfb1'', ''Еналаприл 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''9229e76f-a515-4be1-bcc9-7455b3ac5105'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'ЕНАМ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/2251/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09AA02"]'::jsonb, 'UA/2251/01/03', '2020-03-12'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''cd5f47b5-3f11-4fe9-b727-6ffb8a03a944'', ''ЕНАМ'', ''BRAND'', ''{"name": "Д-р Редді''''с Лабораторіс Лтд", "country": " Індія"}'', ''["C09AA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/2251/01/03'', ''2020-03-12'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''a877f0c7-7fdc-4669-b244-eab40ea805cc'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "4.76"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''163a4861-45b5-4403-82e7-4139045ceef2'', ''{"type": "fixed", "reimbursement_amount": "4.76"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Еналаприл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Еналаприл 20 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''b120baa0-9155-4804-be56-48c9fb1ef608'', ''Еналаприл 20 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''f075c41f-27f1-4398-b92c-2921a4455044'', ''{"numerator_unit": "MG", "numerator_value": "20", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 20
            AND m.name = 'ЕНАЛАПРИЛ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/8867/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09AA02"]'::jsonb, 'UA/8867/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''0e6c24c3-73da-43d4-adc2-a764b43f23fb'', ''ЕНАЛАПРИЛ'', ''BRAND'', ''{"name": "ПАТ \"Київмедпрепарат\"", "country": " Україна"}'', ''["C09AA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/8867/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''bd66e031-94c5-4cb2-9fd0-470c50e4bb1d'', ''{"numerator_unit": "MG", "numerator_value": "20", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "9.53"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''75692252-41c9-425a-97fe-3d6b9fd9ad20'', ''{"type": "fixed", "reimbursement_amount": "9.53"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Еналаприл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Еналаприл 20 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''b120baa0-9155-4804-be56-48c9fb1ef608'', ''Еналаприл 20 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''97f6ad45-fdaf-4dfe-908a-a26a5ff5b435'', ''{"numerator_unit": "MG", "numerator_value": "20", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 20
            AND m.name = 'ЕНАЛАПРИЛ-АСТРАФАРМ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/5232/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09AA02"]'::jsonb, 'UA/5232/01/03', '2019-02-08'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''b1d75b0f-e86c-446a-9a7e-216368dcf882'', ''ЕНАЛАПРИЛ-АСТРАФАРМ'', ''BRAND'', ''{"name": "ТОВ \"АСТРАФАРМ\"", "country": " Україна"}'', ''["C09AA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/5232/01/03'', ''2019-02-08'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''0db5a430-e1ef-4949-ab35-659d44b7b86d'', ''{"numerator_unit": "MG", "numerator_value": "20", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "9.53"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''9adff327-fa60-4df9-82b3-043ca057c53b'', ''{"type": "fixed", "reimbursement_amount": "9.53"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Еналаприл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Еналаприл 20 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''b120baa0-9155-4804-be56-48c9fb1ef608'', ''Еналаприл 20 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''bde40ed4-1dcc-4cbf-89c5-c6e5cd77d260'', ''{"numerator_unit": "MG", "numerator_value": "20", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 20
            AND m.name = 'ЕНАЛАПРИЛ-ЗДОРОВ''Я'
            AND m.package_qty = 20
            AND m.certificate = 'UA/5913/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09AA02"]'::jsonb, 'UA/5913/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''bb89c49b-a32a-471d-8453-015955a795af'', ''ЕНАЛАПРИЛ-ЗДОРОВ''''Я'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Фармацевтична компанія \"Здоров''''я\" ", "country": " Україна"}'', ''["C09AA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/5913/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''23026371-450e-45f3-9a35-554475763d05'', ''{"numerator_unit": "MG", "numerator_value": "20", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "9.53"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''6189eeb2-74b9-4cc4-868a-e251c0224995'', ''{"type": "fixed", "reimbursement_amount": "9.53"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Еналаприл' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Еналаприл 20 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''b120baa0-9155-4804-be56-48c9fb1ef608'', ''Еналаприл 20 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''ecfe9f13-8983-415d-a382-4726f2cffa56'', ''{"numerator_unit": "MG", "numerator_value": "20", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 20
            AND m.name = 'ЕНАЛАПРИЛ-ТЕВА'
            AND m.package_qty = 30
            AND m.certificate = 'UA/16349/01/04';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09AA02"]'::jsonb, 'UA/16349/01/04', '2022-10-11'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''02dd51e0-f2fa-465d-83fd-98c045e11fba'', ''ЕНАЛАПРИЛ-ТЕВА'', ''BRAND'', ''{"name": "ТОВ Тева Оперейшнз Поланд", "country": " Польща"}'', ''["C09AA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/16349/01/04'', ''2022-10-11'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''94b82fb1-7e97-4507-8925-5b6f992fc2f5'', ''{"numerator_unit": "MG", "numerator_value": "20", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "14.29"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''f6b2a721-d748-499d-a2d3-edcc608de898'', ''{"type": "fixed", "reimbursement_amount": "14.29"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Ізосорбіду динітрат' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Ізосорбіду динітрат 5 MG таблетки сублінгвальні ' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5046c87f-d766-4e77-8d5e-4b0a476d7e88'', ''Ізосорбіду динітрат 5 MG таблетки сублінгвальні '', ''INNM_DOSAGE'', TRUE, ''SUBLINGVAL_TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''fe12f0c9-b427-49e5-80e5-5278dc2f4b67'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'SUBLINGVAL_TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'ІЗО-МІК® 5 мг'
            AND m.package_qty = 50
            AND m.certificate = 'UA/3186/03/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C01DA08"]'::jsonb, 'UA/3186/03/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''b5f611c1-9744-4224-92b2-a6015af66501'', ''ІЗО-МІК® 5 мг'', ''BRAND'', ''{"name": "ТОВ НВФ \"Мікрохім\"", "country": " Україна"}'', ''["C01DA08"]'', true, ''SUBLINGVAL_TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 50, 50, ''UA/3186/03/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''778295ff-1c57-44fd-bf2e-12c8a9236ab9'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "17.89"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''3049d9b6-6341-4d1d-9b14-aa9e94a7bd78'', ''{"type": "fixed", "reimbursement_amount": "17.89"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Карведилол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Карведилол 6.25 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''6e9bc705-b272-4be7-9c59-0253b5a5b2dc'', ''Карведилол 6.25 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''c8603fd8-d81a-41f4-b689-f8bc02d6c79a'', ''{"numerator_unit": "MG", "numerator_value": "6.25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 6.25
            AND m.name = 'КАРВЕДИЛОЛ АУРОБІНДО'
            AND m.package_qty = 30
            AND m.certificate = 'UA/15796/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AG02"]'::jsonb, 'UA/15796/01/01', '2022-02-15'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''46df56dc-f758-4b19-856b-396dddeafbe2'', ''КАРВЕДИЛОЛ АУРОБІНДО'', ''BRAND'', ''{"name": "Ауробіндо Фарма Лімітед", "country": " Індія"}'', ''["C07AG02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/15796/01/01'', ''2022-02-15'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''de62cd00-1a8b-40a1-a713-c900c31292a3'', ''{"numerator_unit": "MG", "numerator_value": "6.25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "12.18"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''10fb8848-bf85-442c-9c3a-9b985f6e2483'', ''{"type": "fixed", "reimbursement_amount": "12.18"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Карведилол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Карведилол 6.25 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''6e9bc705-b272-4be7-9c59-0253b5a5b2dc'', ''Карведилол 6.25 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''9093540e-dbf5-4e7d-859c-bc350b44d244'', ''{"numerator_unit": "MG", "numerator_value": "6.25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 6.25
            AND m.name = 'КАРВІДЕКС'
            AND m.package_qty = 20
            AND m.certificate = 'UA/8820/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AG02"]'::jsonb, 'UA/8820/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''16cfce30-fad4-4042-bf24-1f4f725efa78'', ''КАРВІДЕКС'', ''BRAND'', ''{"name": "Д-р Редді''''с Лабораторіс Лтд", "country": " Індія"}'', ''["C07AG02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/8820/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''4250732b-6db6-4710-8e29-6dd1b5dd048d'', ''{"numerator_unit": "MG", "numerator_value": "6.25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "8.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''d8fed7ff-44c7-4fc5-b766-109d7f818bb2'', ''{"type": "fixed", "reimbursement_amount": "8.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Карведилол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Карведилол 6.25 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''6e9bc705-b272-4be7-9c59-0253b5a5b2dc'', ''Карведилол 6.25 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''52ff635d-b3ee-4193-99e9-5fffaae10288'', ''{"numerator_unit": "MG", "numerator_value": "6.25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 6.25
            AND m.name = 'КАРВІУМ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/13976/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AG02"]'::jsonb, 'UA/13976/01/01', '2019-10-24'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''68e72240-4d0d-4d4d-b317-3887414e2dbe'', ''КАРВІУМ'', ''BRAND'', ''{"name": "С.К. Лабормед-Фарма С.А.", "country": " Румунія"}'', ''["C07AG02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/13976/01/01'', ''2019-10-24'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''de85745e-2348-414b-ab4e-d0c405fab35b'', ''{"numerator_unit": "MG", "numerator_value": "6.25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "12.18"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''17ff5c48-55bf-42d5-9daf-91171bf3e668'', ''{"type": "fixed", "reimbursement_amount": "12.18"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Карведилол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Карведилол 6.25 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''6e9bc705-b272-4be7-9c59-0253b5a5b2dc'', ''Карведилол 6.25 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''7289c11a-bc4f-490c-ba55-95f07d604ade'', ''{"numerator_unit": "MG", "numerator_value": "6.25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 6.25
            AND m.name = 'ТАЛЛІТОН®'
            AND m.package_qty = 28
            AND m.certificate = 'UA/0947/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AG02"]'::jsonb, 'UA/0947/01/01', '2019-04-02'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''f9036544-c67d-437c-9d7e-5e8f8648aa27'', ''ТАЛЛІТОН®'', ''BRAND'', ''{"name": "ЗАТ Фармацевтичний завод ЕГІС", "country": " Угорщина"}'', ''["C07AG02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 28, 28, ''UA/0947/01/01'', ''2019-04-02'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''459cda36-cb54-4a87-bb03-726fc7b06aa3'', ''{"numerator_unit": "MG", "numerator_value": "6.25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "11.37"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''d8c99473-9a97-488b-b9ed-e81a7552c485'', ''{"type": "fixed", "reimbursement_amount": "11.37"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Карведилол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Карведилол 12.5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1f85b6f-18c2-43e9-b155-ef73bb32502f'', ''Карведилол 12.5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''9f01c785-eef3-4beb-a88d-0b986e10d597'', ''{"numerator_unit": "MG", "numerator_value": "12.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 12.5
            AND m.name = 'КАРВЕДИЛОЛ АУРОБІНДО'
            AND m.package_qty = 30
            AND m.certificate = 'UA/15796/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AG02"]'::jsonb, 'UA/15796/01/02', '2022-02-15'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''cdcb89c2-0fec-47ca-a36c-61b34a42f3f2'', ''КАРВЕДИЛОЛ АУРОБІНДО'', ''BRAND'', ''{"name": "Ауробіндо Фарма Лімітед", "country": " Індія"}'', ''["C07AG02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/15796/01/02'', ''2022-02-15'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''4fa69b58-2615-4ace-a2ac-df4d3e9c4c8b'', ''{"numerator_unit": "MG", "numerator_value": "12.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "24.36"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''77e09bbc-7ec3-4d33-9f16-9f9265f0b6f6'', ''{"type": "fixed", "reimbursement_amount": "24.36"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Карведилол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Карведилол 12.5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1f85b6f-18c2-43e9-b155-ef73bb32502f'', ''Карведилол 12.5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''3b0880e4-bdab-4eea-b5b7-5e92c00f1c5c'', ''{"numerator_unit": "MG", "numerator_value": "12.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 12.5
            AND m.name = 'КАРВЕДИЛОЛ-КВ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/8685/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AG02"]'::jsonb, 'UA/8685/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''bcee2218-303b-42a1-b183-aa4a84c02029'', ''КАРВЕДИЛОЛ-КВ'', ''BRAND'', ''{"name": "АТ \"КИЇВСЬКИЙ ВІТАМІННИЙ ЗАВОД\"", "country": "Україна"}'', ''["C07AG02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/8685/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''6e5906e4-a7d2-421b-8073-1f965ece1671'', ''{"numerator_unit": "MG", "numerator_value": "12.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "24.36"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''a3f7b9fc-b40c-4bbd-be33-3bd31aac13d8'', ''{"type": "fixed", "reimbursement_amount": "24.36"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Карведилол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Карведилол 12.5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1f85b6f-18c2-43e9-b155-ef73bb32502f'', ''Карведилол 12.5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''8da2d116-5241-4b37-a8d3-e5ee475d0e5e'', ''{"numerator_unit": "MG", "numerator_value": "12.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 12.5
            AND m.name = 'КАРВІДЕКС'
            AND m.package_qty = 20
            AND m.certificate = 'UA/8820/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AG02"]'::jsonb, 'UA/8820/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d6a1385a-7adf-4df9-adbb-25dc71605b4f'', ''КАРВІДЕКС'', ''BRAND'', ''{"name": "Д-р Редді''''с Лабораторіс Лтд", "country": " Індія"}'', ''["C07AG02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/8820/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''abafb5e5-3ea9-4d5a-94d8-0236845a2676'', ''{"numerator_unit": "MG", "numerator_value": "12.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.24"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''5da34c68-50d5-45af-9138-fc8db65e3670'', ''{"type": "fixed", "reimbursement_amount": "16.24"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Карведилол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Карведилол 12.5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1f85b6f-18c2-43e9-b155-ef73bb32502f'', ''Карведилол 12.5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''ff2a2462-f04e-4082-8f13-ae5c4b4006c3'', ''{"numerator_unit": "MG", "numerator_value": "12.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 12.5
            AND m.name = 'КАРВІУМ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/13976/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AG02"]'::jsonb, 'UA/13976/01/02', '2019-10-24'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3536ea79-9d43-436a-910c-b52ca4ffb710'', ''КАРВІУМ'', ''BRAND'', ''{"name": "С.К. Лабормед-Фарма С.А.", "country": " Румунія"}'', ''["C07AG02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/13976/01/02'', ''2019-10-24'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''aa60f41c-3632-409b-ba42-87a3d3b51a7e'', ''{"numerator_unit": "MG", "numerator_value": "12.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "24.36"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''7d924de6-61da-4594-8984-72dfb3151d41'', ''{"type": "fixed", "reimbursement_amount": "24.36"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Карведилол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Карведилол 12.5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1f85b6f-18c2-43e9-b155-ef73bb32502f'', ''Карведилол 12.5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''c274dd70-e6ff-4ec6-9812-77c3b4eed241'', ''{"numerator_unit": "MG", "numerator_value": "12.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 12.5
            AND m.name = 'КОРВАЗАН®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/1371/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AG02"]'::jsonb, 'UA/1371/01/02', '2019-06-27'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''4fb2f74e-7679-4f40-8e0d-4ba310de4b09'', ''КОРВАЗАН®'', ''BRAND'', ''{"name": "ПАТ \"Київмедпрепарат\"", "country": " Україна"}'', ''["C07AG02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/1371/01/02'', ''2019-06-27'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''20169944-e29f-4566-bf87-f5df60307416'', ''{"numerator_unit": "MG", "numerator_value": "12.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "24.36"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''a1e2b13b-19c1-47f8-9c8b-53e3e35cd577'', ''{"type": "fixed", "reimbursement_amount": "24.36"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Карведилол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Карведилол 12.5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d1f85b6f-18c2-43e9-b155-ef73bb32502f'', ''Карведилол 12.5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''c780ae66-63aa-4330-b54e-c8d9a2716e5f'', ''{"numerator_unit": "MG", "numerator_value": "12.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 12.5
            AND m.name = 'ТАЛЛІТОН®'
            AND m.package_qty = 28
            AND m.certificate = 'UA/0947/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AG02"]'::jsonb, 'UA/0947/01/02', '2019-04-02'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''34bc7647-e8f3-4002-b66c-f51cd2349638'', ''ТАЛЛІТОН®'', ''BRAND'', ''{"name": "ЗАТ Фармацевтичний завод ЕГІС", "country": " Угорщина"}'', ''["C07AG02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 28, 28, ''UA/0947/01/02'', ''2019-04-02'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''35d8c0ff-f859-43c4-b9cc-0e8ce9987ad6'', ''{"numerator_unit": "MG", "numerator_value": "12.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "22.74"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''c1a6eaa1-28e8-42a4-b484-5d49c9f2b9d4'', ''{"type": "fixed", "reimbursement_amount": "22.74"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Карведилол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Карведилол 25 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''324220d7-e998-4591-8789-546b4cd2354c'', ''Карведилол 25 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''3bc4a962-33f4-4a30-a737-36143773bdea'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 25
            AND m.name = 'КАРВЕДИЛОЛ АУРОБІНДО'
            AND m.package_qty = 30
            AND m.certificate = 'UA/15796/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AG02"]'::jsonb, 'UA/15796/01/03', '2022-02-15'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''0ea3fcfe-8578-4b81-ae64-9ddd675567bf'', ''КАРВЕДИЛОЛ АУРОБІНДО'', ''BRAND'', ''{"name": "Ауробіндо Фарма Лімітед", "country": " Індія"}'', ''["C07AG02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/15796/01/03'', ''2022-02-15'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''3cfbe8d2-fa7b-4684-b9bf-5ef9efe3ed53'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "48.73"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''eb816abe-3f7b-482f-94ff-1cc07499498f'', ''{"type": "fixed", "reimbursement_amount": "48.73"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Карведилол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Карведилол 25 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''324220d7-e998-4591-8789-546b4cd2354c'', ''Карведилол 25 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''954907b2-612f-4efa-a7af-d01af3565f86'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 25
            AND m.name = 'КАРВЕДИЛОЛ-КВ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/8685/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AG02"]'::jsonb, 'UA/8685/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3895fd25-7a75-444a-b8bb-32bf4eb3e46e'', ''КАРВЕДИЛОЛ-КВ'', ''BRAND'', ''{"name": "АТ \"КИЇВСЬКИЙ ВІТАМІННИЙ ЗАВОД\"", "country": "Україна"}'', ''["C07AG02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/8685/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''e3334236-bfcc-419e-ac01-f110524d8ed5'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "48.73"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''4fd28faf-b15d-4d57-882e-33f7e2039c83'', ''{"type": "fixed", "reimbursement_amount": "48.73"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Карведилол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Карведилол 25 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''324220d7-e998-4591-8789-546b4cd2354c'', ''Карведилол 25 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''17a3f3f1-f08e-4121-8ff5-6893414f20dd'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 25
            AND m.name = 'КАРВІДЕКС'
            AND m.package_qty = 20
            AND m.certificate = 'UA/8820/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AG02"]'::jsonb, 'UA/8820/01/03', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''42fe877e-c3c3-4ff8-8e57-b672f6c80ca3'', ''КАРВІДЕКС'', ''BRAND'', ''{"name": "Д-р Редді''''с Лабораторіс Лтд", "country": " Індія"}'', ''["C07AG02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/8820/01/03'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''e563d7ab-a19d-4a4f-b6d4-199e645f7c3f'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "32.49"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''72d8843c-90d8-4319-a283-d099154b5c90'', ''{"type": "fixed", "reimbursement_amount": "32.49"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Карведилол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Карведилол 25 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''324220d7-e998-4591-8789-546b4cd2354c'', ''Карведилол 25 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''8631a9b4-11e4-4568-bc05-2591e3b996cd'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 25
            AND m.name = 'КАРВІУМ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/13976/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AG02"]'::jsonb, 'UA/13976/01/03', '2019-10-24'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''a4728bc3-f042-44d6-80b7-1134822b88c5'', ''КАРВІУМ'', ''BRAND'', ''{"name": "С.К. Лабормед-Фарма С.А.", "country": " Румунія"}'', ''["C07AG02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/13976/01/03'', ''2019-10-24'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''01969416-9029-4275-8db3-c1ddd3ce6c1d'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "48.73"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''4cd15ace-89fc-4869-a472-479e0d1434e0'', ''{"type": "fixed", "reimbursement_amount": "48.73"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Карведилол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Карведилол 25 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''324220d7-e998-4591-8789-546b4cd2354c'', ''Карведилол 25 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''82f8438b-38b6-479a-a049-447e0ca65119'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 25
            AND m.name = 'КОРВАЗАН®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/1371/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AG02"]'::jsonb, 'UA/1371/01/01', '2019-06-27'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''982b8840-05bb-4854-b787-e43873ccbada'', ''КОРВАЗАН®'', ''BRAND'', ''{"name": "ПАТ \"Київмедпрепарат\"", "country": " Україна"}'', ''["C07AG02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/1371/01/01'', ''2019-06-27'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''6c7b2c40-55fd-4366-b452-754d1205ac10'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "48.73"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''b37c088f-8cec-4842-95de-2145002f6786'', ''{"type": "fixed", "reimbursement_amount": "48.73"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Карведилол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Карведилол 25 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''324220d7-e998-4591-8789-546b4cd2354c'', ''Карведилол 25 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''ffb31432-e35c-4c8e-933e-5e2050fcd2be'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 25
            AND m.name = 'ТАЛЛІТОН®'
            AND m.package_qty = 28
            AND m.certificate = 'UA/0947/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AG02"]'::jsonb, 'UA/0947/01/03', '2019-04-02'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''2bc4b20e-f485-400f-a624-12082d55d4a1'', ''ТАЛЛІТОН®'', ''BRAND'', ''{"name": "ЗАТ Фармацевтичний завод ЕГІС", "country": " Угорщина"}'', ''["C07AG02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 28, 28, ''UA/0947/01/03'', ''2019-04-02'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''251e3e4c-4cc8-4832-a729-a0a37adbdf58'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "45.48"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''2953fbf4-4d88-446a-ad2d-19d335a385c9'', ''{"type": "fixed", "reimbursement_amount": "45.48"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''0a50e774-2975-4f28-adf6-e346a093a754'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'АТЕРОКАРД'
            AND m.package_qty = 10
            AND m.certificate = 'UA/3926/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/3926/01/01', '2020-04-02'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''86509250-75a2-40e7-9687-363e06aaf16d'', ''АТЕРОКАРД'', ''BRAND'', ''{"name": "АТ \"КИЇВСЬКИЙ ВІТАМІННИЙ ЗАВОД\"", "country": "Україна"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 10, 10, ''UA/3926/01/01'', ''2020-04-02'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''78b4be42-a378-432f-bb13-53ad7abd7090'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.01"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''6036c9e4-7ace-4152-a715-ad0f37d7dce0'', ''{"type": "fixed", "reimbursement_amount": "16.01"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''b5c2e2b0-2255-48d3-8a34-73b57ffdcb99'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'КЛОПІДОГРЕЛЬ'
            AND m.package_qty = 10
            AND m.certificate = 'UA/3924/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/3924/01/01', '2020-09-03'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9efc632a-6817-474c-a48f-fca4181e20a5'', ''КЛОПІДОГРЕЛЬ'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Дослідний завод \"ГНЦЛС\"", "country": " Україна"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 10, 10, ''UA/3924/01/01'', ''2020-09-03'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''5fb3cd73-92e6-4861-bd7f-24799d830ea9'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.01"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''d9e897f9-edfa-4e91-9e30-dc928506ce7a'', ''{"type": "fixed", "reimbursement_amount": "16.01"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''fbdbbd0d-bd98-453d-b447-517f26f1dc0f'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'АГРЕЛЬ 75 МГ'
            AND m.package_qty = 28
            AND m.certificate = 'UA/14800/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/14800/01/01', '2020-12-29'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''cf53991d-0726-434f-98e9-dd323e52bf9c'', ''АГРЕЛЬ 75 МГ'', ''BRAND'', ''{"name": "Асіно Фарма АГ", "country": " Швейцарія"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 28, 28, ''UA/14800/01/01'', ''2020-12-29'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''dd3c96de-ddf1-4603-a268-848ed271dc2c'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "44.82"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''9ee58ccd-7b05-4e8e-8425-b994908a0c85'', ''{"type": "fixed", "reimbursement_amount": "44.82"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''d80ce8f8-c287-4de2-95a5-572a2e5fb34e'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'ПЛАТОГРІЛ®'
            AND m.package_qty = 28
            AND m.certificate = 'UA/11433/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/11433/01/01', '2021-03-31'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''f24c2eaf-75b5-413d-9544-5c2244d6f130'', ''ПЛАТОГРІЛ®'', ''BRAND'', ''{"name": "ТОВ \"Кусум Фарм\"", "country": " Україна"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 28, 28, ''UA/11433/01/01'', ''2021-03-31'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''5a46be7f-9a8e-4e2a-a3c3-01e7402fe7a6'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "44.82"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''15e0c152-91d8-4f2c-9f26-fa05a0360e71'', ''{"type": "fixed", "reimbursement_amount": "44.82"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''b5cdf875-a22d-4874-bc88-b06251f5211f'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'АТРОГРЕЛ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/6567/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/6567/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''7cc6eb11-cea0-445e-b5bb-49a883c5fb45'', ''АТРОГРЕЛ'', ''BRAND'', ''{"name": "Публічне акціонерне товариство \"Науково-виробничий центр \"Борщагівський хіміко-фармацевтичний завод\"", "country": "Україна"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/6567/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''25123c83-6336-4a7c-980e-b3a9d9df190e'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "48.02"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''89b6d4e1-1847-42a1-8066-4823d2e74bc4'', ''{"type": "fixed", "reimbursement_amount": "48.02"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''058441ec-a0c5-4008-88f7-46d14b2fbd57'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'КЛОДІЯ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/13673/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/13673/01/01', '2019-06-16'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''91c94500-f487-4bb7-9219-0647650a8d50'', ''КЛОДІЯ'', ''BRAND'', ''{"name": "ФАРМАТЕН С.А.", "country": " Греція"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/13673/01/01'', ''2019-06-16'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''8bfb5392-87d9-4d73-b331-ad30eda261bd'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "48.02"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''54c37146-9ba0-4902-82a4-408e002b74b4'', ''{"type": "fixed", "reimbursement_amount": "48.02"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''445702f9-8fa9-4046-bb1c-814a6410b0cf'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'КЛОПІДОГРЕЛЬ-ЗЕНТІВА'
            AND m.package_qty = 30
            AND m.certificate = 'UA/11825/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/11825/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''cbe64354-21f2-4d47-a90c-64476e6460ae'', ''КЛОПІДОГРЕЛЬ-ЗЕНТІВА'', ''BRAND'', ''{"name": "Санофі Вінтроп Індастріа", "country": " Франція"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/11825/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''faaee6b1-60e6-4df2-98d5-1668626d6643'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "48.02"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''f3affcf6-35be-426e-aab6-a897b1d8320d'', ''{"type": "fixed", "reimbursement_amount": "48.02"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''16085b61-06ce-495f-a305-3115ba5245f7'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'КЛОПІДОГРЕЛЬ-САНОФІ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/11825/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/11825/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''907daf7f-abad-4a2f-8d85-50af6379b8e6'', ''КЛОПІДОГРЕЛЬ-САНОФІ'', ''BRAND'', ''{"name": "Санофі Вінтроп Індастріа", "country": " Франція"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/11825/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''df8d622b-8d0e-48e3-9cb1-279fc565898f'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "48.02"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''237fd7df-f701-4c1a-95bb-1226f0ce3d03'', ''{"type": "fixed", "reimbursement_amount": "48.02"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''9786c9b5-7f6e-4f2d-bdc8-165c9029961a'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'КЛОПІДОГРЕЛ-ТЕВА'
            AND m.package_qty = 30
            AND m.certificate = 'UA/14007/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/14007/01/01', '2019-10-31'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''1832832a-10eb-4d16-a033-94ad0b5f43a5'', ''КЛОПІДОГРЕЛ-ТЕВА'', ''BRAND'', ''{"name": "Тева Фармацевтікал Індастріз Лтд.", "country": " Ізраїль"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/14007/01/01'', ''2019-10-31'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''e71e11bd-1399-4ab8-840c-97fc92f583ca'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "48.02"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''766094d3-466b-4dec-bf3b-10d50815c50f'', ''{"type": "fixed", "reimbursement_amount": "48.02"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''9ad3be18-289b-4aa2-be8e-898b77cb8307'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'КЛОПІДОГРЕЛЬ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/3924/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/3924/01/01', '2020-09-03'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''6336976e-e446-458f-a0de-f3679274925a'', ''КЛОПІДОГРЕЛЬ'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Дослідний завод \"ГНЦЛС\"", "country": " Україна"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/3924/01/01'', ''2020-09-03'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''92153cf1-4f29-4dc5-b9c5-ea7cffeda927'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "48.02"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''76063ae0-2d24-43f6-b174-d653421980ad'', ''{"type": "fixed", "reimbursement_amount": "48.02"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''5f366605-c2bb-41ab-b5b7-0448571e378b'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'КЛОПІДОГРЕЛЬ-ФАРМЕКС'
            AND m.package_qty = 30
            AND m.certificate = 'UA/11699/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/11699/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''fa6f36bc-b47c-455f-a5cc-38ffe9e75707'', ''КЛОПІДОГРЕЛЬ-ФАРМЕКС'', ''BRAND'', ''{"name": "ТОВ \"ФАРМЕКС ГРУП\"", "country": " Україна"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/11699/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''fab5c852-e9b1-42e1-89c4-2a70a50c2fe0'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "48.02"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''c7154dab-ca8e-4b62-8e56-514efd7fe01e'', ''{"type": "fixed", "reimbursement_amount": "48.02"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''e7236094-6c6b-4b6b-87db-393348ff307e'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'ЛОПІРЕЛ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/11636/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/11636/01/01', '2021-07-19'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''46f10d29-2a29-4aea-b8e3-7c9a586979a9'', ''ЛОПІРЕЛ'', ''BRAND'', ''{"name": "Актавіс ЛТД", "country": " Мальта"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/11636/01/01'', ''2021-07-19'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''1058e898-fbdf-4622-9fb3-335951691423'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "48.02"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''92f3e4b1-0363-4a98-8a4a-4384c17373b6'', ''{"type": "fixed", "reimbursement_amount": "48.02"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''fe89f8b8-07cb-4025-a0e2-987d64aa86a6'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'МЕДОГРЕЛЬ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/12149/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/12149/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5c18f34a-4f6d-401e-89a3-e5222da5cac9'', ''МЕДОГРЕЛЬ'', ''BRAND'', ''{"name": "Актавіс ЛТД", "country": " Мальта"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/12149/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''0bfb129e-0951-4aa1-85d6-93f5e848655b'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "48.02"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''4df2faad-d521-4e76-81ff-a5ad5195de83'', ''{"type": "fixed", "reimbursement_amount": "48.02"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''3160be6c-814e-42dc-9177-190393223d97'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'ПЛАГРИЛ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/10625/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/10625/01/01', '2019-08-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e1a884bc-6eda-4952-bfb3-ca50a333c707'', ''ПЛАГРИЛ'', ''BRAND'', ''{"name": "Д-р Редді''''с Лабораторіс Лтд", "country": " Індія"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/10625/01/01'', ''2019-08-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''46e521af-c45c-48c5-ba68-aa19bf16db81'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "48.02"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''b4ac1a32-b097-4066-877f-e0cfddbd47c8'', ''{"type": "fixed", "reimbursement_amount": "48.02"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''f26a2a90-60f3-4336-a688-7730204ddafa'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'ТРОМБОНЕТ®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/4315/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/4315/01/01', '2021-02-17'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''07308ab8-8435-45e4-953a-67a28a00cf26'', ''ТРОМБОНЕТ®'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/4315/01/01'', ''2021-02-17'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''2969fc5f-149a-40ab-9c9b-75ee5e91f22c'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "48.02"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''017c7724-ca7f-4157-81bb-573563bf9b4a'', ''{"type": "fixed", "reimbursement_amount": "48.02"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''b49be6c5-5182-40a8-857c-455644dc0647'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'ФЛАМОГРЕЛЬ 75'
            AND m.package_qty = 30
            AND m.certificate = 'UA/7441/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/7441/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''96fa47d5-0ae4-44a9-97d2-48bbc783139f'', ''ФЛАМОГРЕЛЬ 75'', ''BRAND'', ''{"name": "Фламінго Фармасьютикалс Лтд.", "country": " Індія"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/7441/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''3d6b5f38-b561-4a40-8caa-e08c096fd589'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "48.02"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''3a24bd33-2cb7-48d4-ae33-0e0eb570ddc6'', ''{"type": "fixed", "reimbursement_amount": "48.02"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''cf23c1bc-d114-44bf-98cc-9be44800b020'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'АТЕРОКАРД'
            AND m.package_qty = 40
            AND m.certificate = 'UA/3926/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/3926/01/01', '2020-04-02'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''04809e74-e6a2-4b86-9400-b687d71480d8'', ''АТЕРОКАРД'', ''BRAND'', ''{"name": "АТ \"КИЇВСЬКИЙ ВІТАМІННИЙ ЗАВОД\"", "country": "Україна"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 40, 40, ''UA/3926/01/01'', ''2020-04-02'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''14b14b82-e0e1-40dd-a377-9154588d0245'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "64.03"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''09969a73-fed8-4002-aedf-133901872056'', ''{"type": "fixed", "reimbursement_amount": "64.03"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''890f1b14-982c-4398-84ae-3c2633dbb4fc'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'АТРОГРЕЛ'
            AND m.package_qty = 60
            AND m.certificate = 'UA/6567/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/6567/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''40a918b6-5e74-4179-95b3-0a678ce42154'', ''АТРОГРЕЛ'', ''BRAND'', ''{"name": "Публічне акціонерне товариство \"Науково-виробничий центр \"Борщагівський хіміко-фармацевтичний завод\"", "country": "Україна"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 60, 60, ''UA/6567/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''221420ab-174b-461e-9d5a-ccf042025e13'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "96.04"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''71bc4e9e-6de3-4f85-82aa-d7bd9f769e67'', ''{"type": "fixed", "reimbursement_amount": "96.04"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''baa370c9-afc0-4164-83c3-810ace4a9f7b'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'ТРОМБОНЕТ®'
            AND m.package_qty = 60
            AND m.certificate = 'UA/4315/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/4315/01/01', '2021-02-17'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5d81466c-7d09-4f07-b564-e553a760b48f'', ''ТРОМБОНЕТ®'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 60, 60, ''UA/4315/01/01'', ''2021-02-17'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''7eb7b79e-6237-47df-8862-e2f193464553'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "96.04"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''62b5fbb2-d172-4a83-8532-0626768fb32e'', ''{"type": "fixed", "reimbursement_amount": "96.04"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''a96bf591-8abd-4891-9971-2cd47ff8e98d'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'АТЕРОКАРД'
            AND m.package_qty = 70
            AND m.certificate = 'UA/3926/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/3926/01/01', '2020-04-02'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''7175abe1-8d10-432e-89a9-5bc6d00a6ecb'', ''АТЕРОКАРД'', ''BRAND'', ''{"name": "АТ \"КИЇВСЬКИЙ ВІТАМІННИЙ ЗАВОД\"", "country": "Україна"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 70, 70, ''UA/3926/01/01'', ''2020-04-02'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''45a87b28-9ad0-444f-b0ea-c79169ac0765'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "112.05"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''0687a02c-3395-41ea-b8fb-3cc82528b5a3'', ''{"type": "fixed", "reimbursement_amount": "112.05"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''5ca3ff2b-67cd-4284-ad2d-6f78c9a190ac'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'ПЛАТОГРІЛ®'
            AND m.package_qty = 84
            AND m.certificate = 'UA/11433/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/11433/01/01', '2021-03-31'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c67b4433-bac8-454d-9adf-4360ce39f468'', ''ПЛАТОГРІЛ®'', ''BRAND'', ''{"name": "ТОВ \"Кусум Фарм\"", "country": " Україна"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 84, 84, ''UA/11433/01/01'', ''2021-03-31'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''bb9cbbd1-8bf7-435f-92a7-1e8793a11271'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "134.45"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''b9999416-79c2-41e8-9120-0651cb859990'', ''{"type": "fixed", "reimbursement_amount": "134.45"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''81e9eeb2-9059-4b6f-b412-2eb4eaa929f1'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'КЛОПІДОГРЕЛЬ-ЗЕНТІВА'
            AND m.package_qty = 90
            AND m.certificate = 'UA/11825/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/11825/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''0806107c-ff1c-4db5-a76d-4e0da7fc2c65'', ''КЛОПІДОГРЕЛЬ-ЗЕНТІВА'', ''BRAND'', ''{"name": "Санофі Вінтроп Індастріа", "country": " Франція"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 90, 90, ''UA/11825/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''0f399bcb-17f2-4663-a3ce-486bfbe13d43'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "144.06"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''39839603-9ca4-4195-a54a-110d05d94b68'', ''{"type": "fixed", "reimbursement_amount": "144.06"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''574b3d61-0b11-4d29-99d4-87766aaafaf1'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'КЛОПІДОГРЕЛЬ-САНОФІ'
            AND m.package_qty = 90
            AND m.certificate = 'UA/11825/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/11825/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e972bcf2-ecdc-4c87-abc8-073fc4254139'', ''КЛОПІДОГРЕЛЬ-САНОФІ'', ''BRAND'', ''{"name": "Санофі Вінтроп Індастріа", "country": " Франція"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 90, 90, ''UA/11825/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''1324f6c3-002a-4f7f-92a7-cd9e20c8197c'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "144.06"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''e38717f7-b5c2-4add-9fd4-541efa413b74'', ''{"type": "fixed", "reimbursement_amount": "144.06"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''be089acf-8309-42b6-b7bc-7e40a46d6048'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'КЛОПІДОГРЕЛ-ТЕВА'
            AND m.package_qty = 90
            AND m.certificate = 'UA/14007/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/14007/01/01', '2019-10-31'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''427a7550-a989-422a-a62c-71e37d330a2c'', ''КЛОПІДОГРЕЛ-ТЕВА'', ''BRAND'', ''{"name": "Тева Фармацевтікал Індастріз Лтд.", "country": " Ізраїль"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 90, 90, ''UA/14007/01/01'', ''2019-10-31'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''70f2f6e3-5d66-4bf0-9593-801d871e1d29'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "144.06"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''219c6f4b-646e-45c1-aaad-b4ff3a745f21'', ''{"type": "fixed", "reimbursement_amount": "144.06"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''9ab0e42a-e62c-4c0e-8a83-252d57c28b13'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'ЛОПІРЕЛ'
            AND m.package_qty = 90
            AND m.certificate = 'UA/11636/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/11636/01/01', '2021-07-19'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ff3c80ee-7e52-4249-b047-ce240d7a7470'', ''ЛОПІРЕЛ'', ''BRAND'', ''{"name": "Актавіс ЛТД", "country": " Мальта"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 90, 90, ''UA/11636/01/01'', ''2021-07-19'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''17d90fb9-27b8-4c7c-8bd8-36dec481bdf9'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "144.06"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''d25ba817-afbd-4a73-80a9-46f54d838483'', ''{"type": "fixed", "reimbursement_amount": "144.06"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Клопідогрель' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Клопідогрель 75 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e7ef0ef2-68e6-475b-9448-8a59fbaaa75d'', ''Клопідогрель 75 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''bb15cb9e-289e-405b-a558-f628773a8ae7'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 75
            AND m.name = 'ФЛАМОГРЕЛЬ 75'
            AND m.package_qty = 100
            AND m.certificate = 'UA/7441/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["B01AC04"]'::jsonb, 'UA/7441/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''8f8b9799-f49a-402f-a2a7-8c765176bc22'', ''ФЛАМОГРЕЛЬ 75'', ''BRAND'', ''{"name": "Фламінго Фармасьютикалс Лтд.", "country": " Індія"}'', ''["B01AC04"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 100, 100, ''UA/7441/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''20b26679-f054-42a7-b9a7-89d5f42c43d1'', ''{"numerator_unit": "MG", "numerator_value": "75", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "160.06"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''3cb7260b-ea37-4c93-9e3d-1547ace73c1b'', ''{"type": "fixed", "reimbursement_amount": "160.06"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Лозартан' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Лозартан 25 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''34a5cc51-284f-4c4d-aafd-f0907f0f70ea'', ''Лозартан 25 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''246dca07-ce08-44fe-8f4a-b1d53434384b'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 25
            AND m.name = 'ЛОЗАРТАН-ТЕВА'
            AND m.package_qty = 30
            AND m.certificate = 'UA/16398/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '[" C09CA01"]'::jsonb, 'UA/16398/01/02', '2022-11-08'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''f2d46b27-b67c-461a-83bf-b3dd74b8970b'', ''ЛОЗАРТАН-ТЕВА'', ''BRAND'', ''{"name": "АТ Фармацевтичний завод ТЕВА", "country": " Угорщина"}'', ''[" C09CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/16398/01/02'', ''2022-11-08'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''05d057f4-061b-4a3d-9dd1-0b950af8d309'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "13.54"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''c05ff13b-619e-475f-81c1-2bb1035eba67'', ''{"type": "fixed", "reimbursement_amount": "13.54"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Лозартан' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Лозартан 50 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5d64c8fc-4605-471f-9b69-94290208ad3f'', ''Лозартан 50 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''c21875a3-c779-4ce2-ae3d-aa0281a41cd7'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 50
            AND m.name = 'КЛОСАРТ'
            AND m.package_qty = 28
            AND m.certificate = 'UA/8765/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09CA01"]'::jsonb, 'UA/8765/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''1618ab9a-0d10-4f75-8bb3-b8f0ce41a8de'', ''КЛОСАРТ'', ''BRAND'', ''{"name": "ТОВ \"Кусум Фарм\"", "country": " Україна"}'', ''["C09CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 28, 28, ''UA/8765/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''8d94eadd-1e38-4e8f-9787-fa90db045360'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "25.27"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''3e299e1d-ff93-4c3a-9455-99d773b09947'', ''{"type": "fixed", "reimbursement_amount": "25.27"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Лозартан' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Лозартан 50 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5d64c8fc-4605-471f-9b69-94290208ad3f'', ''Лозартан 50 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''2360075c-f8cf-4e39-b67c-9bb0221c997b'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 50
            AND m.name = 'КЛОСАРТ'
            AND m.package_qty = 84
            AND m.certificate = 'UA/8765/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09CA01"]'::jsonb, 'UA/8765/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3b515dd4-d58a-442b-912d-ea8daed640c2'', ''КЛОСАРТ'', ''BRAND'', ''{"name": "ТОВ \"Кусум Фарм\"", "country": " Україна"}'', ''["C09CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 84, 84, ''UA/8765/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''6962ee37-a223-4190-afea-ce3d1b5a5171'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "75.80"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''ca498222-ccce-4a9c-84d2-6e31f5bd286e'', ''{"type": "fixed", "reimbursement_amount": "75.80"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Лозартан' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Лозартан 50 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5d64c8fc-4605-471f-9b69-94290208ad3f'', ''Лозартан 50 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''7f65849e-e4c3-443e-a2b4-b45a4de12f97'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 50
            AND m.name = 'ЛОЗАП'
            AND m.package_qty = 90
            AND m.certificate = 'UA/3906/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '[" C09CA01"]'::jsonb, 'UA/3906/01/03', '202020-07-27'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''48a01baf-dd0f-4d25-883f-a258426fee1c'', ''ЛОЗАП'', ''BRAND'', ''{"name": "АТ \"Санека Фармасьютікалз\"", "country": " Словацька Республіка"}'', ''[" C09CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 90, 90, ''UA/3906/01/03'', ''202020-07-27'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''dfe1ea21-8a31-4ea2-9df7-4cf32bf431a1'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "81.21"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''4403a4fd-95c2-4691-98fb-364b781f5102'', ''{"type": "fixed", "reimbursement_amount": "81.21"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Лозартан' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Лозартан 50 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5d64c8fc-4605-471f-9b69-94290208ad3f'', ''Лозартан 50 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''aacc357f-3455-4864-bbb1-12c3ce161b3b'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 50
            AND m.name = 'ЛОЗАРТАН-ТЕВА'
            AND m.package_qty = 30
            AND m.certificate = 'UA/16398/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '[" C09CA01"]'::jsonb, 'UA/16398/01/03', '2022-11-08'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''a335a6ef-5db6-408f-bb8c-08608623c249'', ''ЛОЗАРТАН-ТЕВА'', ''BRAND'', ''{"name": "АТ Фармацевтичний завод ТЕВА", "country": " Угорщина"}'', ''[" C09CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/16398/01/03'', ''2022-11-08'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''6daeb9a0-4d11-4b99-8ef9-d89c1482165a'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "27.07"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''35882189-10dd-4e71-9e50-7303ac5b19af'', ''{"type": "fixed", "reimbursement_amount": "27.07"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Лозартан' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Лозартан 50 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5d64c8fc-4605-471f-9b69-94290208ad3f'', ''Лозартан 50 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''d95aba71-6e76-4747-b7b7-f8c8d9abf8c9'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 50
            AND m.name = 'ЛОЗАРТАН-ТЕВА'
            AND m.package_qty = 90
            AND m.certificate = 'UA/16398/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '[" C09CA01"]'::jsonb, 'UA/16398/01/03', '2022-11-08'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''82f78fd7-bcb5-4076-9b39-bf0f1eb917e3'', ''ЛОЗАРТАН-ТЕВА'', ''BRAND'', ''{"name": "АТ Фармацевтичний завод ТЕВА", "country": " Угорщина"}'', ''[" C09CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 90, 90, ''UA/16398/01/03'', ''2022-11-08'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''938bf540-283a-46ec-8753-037388b89d24'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "81.21"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''842f4231-3795-4865-9fed-047894ffdf48'', ''{"type": "fixed", "reimbursement_amount": "81.21"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Лозартан' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Лозартан 50 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5d64c8fc-4605-471f-9b69-94290208ad3f'', ''Лозартан 50 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''264e8a5e-3f16-4dba-a1e9-642edecc9914'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 50
            AND m.name = 'ЛОТАР®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/11210/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09CA02"]'::jsonb, 'UA/11210/01/01', '2021-02-17'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''8eecf52c-d589-4487-b062-e7da8771b859'', ''ЛОТАР®'', ''BRAND'', ''{"name": "Алкалоїд АД - Скоп''''є", "country": " Республіка Македонія"}'', ''["C09CA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/11210/01/01'', ''2021-02-17'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''8eed5869-91ea-408a-88a7-e2be6858c0ec'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "27.07"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''afc229b4-f44e-4c8f-a2ee-1c34dfa47de2'', ''{"type": "fixed", "reimbursement_amount": "27.07"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Лозартан' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Лозартан 50 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5d64c8fc-4605-471f-9b69-94290208ad3f'', ''Лозартан 50 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''65053ea0-94c2-4ff6-a460-fa44c96d0cec'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 50
            AND m.name = 'СЕНТОР'
            AND m.package_qty = 30
            AND m.certificate = 'UA/7042/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '[" C09CA01"]'::jsonb, 'UA/7042/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9f8ece3d-12f9-490d-bcd0-a75866bbd4c1'', ''СЕНТОР'', ''BRAND'', ''{"name": "ВАТ \"Гедеон Ріхтер\"", "country": " Угорщина"}'', ''[" C09CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/7042/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''d36e3b94-9824-4893-97b0-7e14ac8fb22f'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "27.07"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''32ba0b0a-b447-4fcc-843a-bcc60cfaea16'', ''{"type": "fixed", "reimbursement_amount": "27.07"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Лозартан' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Лозартан 50 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5d64c8fc-4605-471f-9b69-94290208ad3f'', ''Лозартан 50 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''6e303dfe-845d-4f42-a796-dcb0c8743cb7'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 50
            AND m.name = 'ТРОСАН'
            AND m.package_qty = 30
            AND m.certificate = 'UA/11737/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09CA01"]'::jsonb, 'UA/11737/01/02', '2021-09-15'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''36578a01-885c-4fd2-9ac0-580d28f85522'', ''ТРОСАН'', ''BRAND'', ''{"name": "Ауробіндо Фарма Лімітед", "country": " Індія"}'', ''["C09CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/11737/01/02'', ''2021-09-15'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''1ca8a0ad-5449-43b6-94c0-d57b675ff154'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "27.07"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''02e91143-fe02-4e93-8024-33166520ca70'', ''{"type": "fixed", "reimbursement_amount": "27.07"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Лозартан' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Лозартан 100 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9ba63d0f-aebe-4e93-8506-d89387933d18'', ''Лозартан 100 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''7d05486e-50b1-4aa6-a6ac-773de3e79af2'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'КЛОСАРТ'
            AND m.package_qty = 100
            AND m.certificate = 'UA/8765/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09CA01"]'::jsonb, 'UA/8765/01/03', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3da20251-9f2d-4c3b-ad27-97a5c682894a'', ''КЛОСАРТ'', ''BRAND'', ''{"name": "ТОВ \"Кусум Фарм\"", "country": " Україна"}'', ''["C09CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 100, 100, ''UA/8765/01/03'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''0e00ba68-1727-453a-8eef-4722f5b80aa1'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "180.47"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''6cd745f2-e517-479d-b68f-7ec2756e8a9a'', ''{"type": "fixed", "reimbursement_amount": "180.47"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Лозартан' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Лозартан 100 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9ba63d0f-aebe-4e93-8506-d89387933d18'', ''Лозартан 100 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''8fd6dac5-3fb6-4c4e-8498-5e2979323e8c'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'КЛОСАРТ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/8765/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09CA01"]'::jsonb, 'UA/8765/01/03', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''7b79dae7-d848-4e68-9803-c253c6751b5c'', ''КЛОСАРТ'', ''BRAND'', ''{"name": "ТОВ \"Кусум Фарм\"", "country": " Україна"}'', ''["C09CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/8765/01/03'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''d6d9a592-ad4e-4354-8132-a57703e336e8'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "54.14"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''4401b568-198b-4a02-bb92-b53acd5ac30c'', ''{"type": "fixed", "reimbursement_amount": "54.14"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Лозартан' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Лозартан 100 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9ba63d0f-aebe-4e93-8506-d89387933d18'', ''Лозартан 100 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''ea0dfed9-7d87-4666-bcc6-20fcacee6f2e'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'ЛОЗАП'
            AND m.package_qty = 90
            AND m.certificate = 'UA/3906/01/04';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '[" C09CA01"]'::jsonb, 'UA/3906/01/04', '202020-07-27'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ebeb900a-e272-45b9-8173-07abdc6867bb'', ''ЛОЗАП'', ''BRAND'', ''{"name": "АТ \"Санека Фармасьютікалз\"", "country": " Словацька Республіка"}'', ''[" C09CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 90, 90, ''UA/3906/01/04'', ''202020-07-27'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''681af8f7-c042-4266-b82a-b04da6eab279'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "162.43"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''298bf401-c024-47a7-905b-3a0f52c879fe'', ''{"type": "fixed", "reimbursement_amount": "162.43"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Лозартан' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Лозартан 100 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9ba63d0f-aebe-4e93-8506-d89387933d18'', ''Лозартан 100 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''45d945dd-5e7a-4e7f-8e32-5d3acfb2cdfe'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'ЛОЗАП'
            AND m.package_qty = 30
            AND m.certificate = 'UA/3906/01/04';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '[" C09CA01"]'::jsonb, 'UA/3906/01/04', '202020-07-27'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''624f0024-964c-4074-be47-b4b389c338da'', ''ЛОЗАП'', ''BRAND'', ''{"name": "АТ \"Санека Фармасьютікалз\"", "country": " Словацька Республіка"}'', ''[" C09CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/3906/01/04'', ''202020-07-27'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''37bb5d5c-6a00-4f47-9f61-4d483e9a2e08'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "54.14"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''6ed99229-8ade-4ad3-8861-3c3725ce213d'', ''{"type": "fixed", "reimbursement_amount": "54.14"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Лозартан' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Лозартан 100 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9ba63d0f-aebe-4e93-8506-d89387933d18'', ''Лозартан 100 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''1b68b37f-a1c7-42da-a419-c3925992ac3a'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'ЛОЗАРТАН-ТЕВА'
            AND m.package_qty = 30
            AND m.certificate = 'UA/16398/01/04';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '[" C09CA01"]'::jsonb, 'UA/16398/01/04', '2022-11-08'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c9395a9c-5eb0-4ac6-a1be-2ebfd6f186ed'', ''ЛОЗАРТАН-ТЕВА'', ''BRAND'', ''{"name": "АТ Фармацевтичний завод ТЕВА", "country": " Угорщина"}'', ''[" C09CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/16398/01/04'', ''2022-11-08'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''31f7d114-4ee7-4144-a923-1fe2999416a1'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "54.14"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''7d6dcf8e-50b7-4941-937c-5d1472743cc2'', ''{"type": "fixed", "reimbursement_amount": "54.14"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Лозартан' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Лозартан 100 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9ba63d0f-aebe-4e93-8506-d89387933d18'', ''Лозартан 100 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''ad2af8fc-33da-48c6-bdb8-d71e64f5c7e0'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'ЛОТАР®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/11210/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09CA03"]'::jsonb, 'UA/11210/01/02', '2021-02-17'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''34a55fc9-bc8d-4df4-93d9-06dd8002db12'', ''ЛОТАР®'', ''BRAND'', ''{"name": "Алкалоїд АД - Скоп''''є", "country": " Республіка Македонія"}'', ''["C09CA03"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/11210/01/02'', ''2021-02-17'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''309ba862-5e18-49d3-9b44-ee1b98bb5ce5'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "54.14"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''71d52eee-da45-4ece-aaae-e065d78f7ef2'', ''{"type": "fixed", "reimbursement_amount": "54.14"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Лозартан' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Лозартан 100 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9ba63d0f-aebe-4e93-8506-d89387933d18'', ''Лозартан 100 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''7205716e-cb08-4528-8ea7-3083b4085869'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'СЕНТОР'
            AND m.package_qty = 30
            AND m.certificate = 'UA/7042/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '[" C09CA01"]'::jsonb, 'UA/7042/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''1ec8e3d2-6ace-4aaf-a35d-5e95286535e0'', ''СЕНТОР'', ''BRAND'', ''{"name": "ВАТ \"Гедеон Ріхтер\"", "country": " Угорщина"}'', ''[" C09CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/7042/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''5521ce2c-8b0f-4803-ba84-8d61aaaf3df9'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "54.14"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''718252e8-e41f-4ecd-9d99-a15baba6038d'', ''{"type": "fixed", "reimbursement_amount": "54.14"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Лозартан' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Лозартан 100 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9ba63d0f-aebe-4e93-8506-d89387933d18'', ''Лозартан 100 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''b6555a21-a7e8-420c-af0a-b3a0f4386cc0'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'ТРОСАН'
            AND m.package_qty = 30
            AND m.certificate = 'UA/11737/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C09CA01"]'::jsonb, 'UA/11737/01/03', '2021-09-15'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''aab63084-8397-4563-b2e7-d20313c58b92'', ''ТРОСАН'', ''BRAND'', ''{"name": "Ауробіндо Фарма Лімітед", "country": " Індія"}'', ''["C09CA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/11737/01/03'', ''2021-09-15'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''6af20f55-29a0-4860-8072-d1182280cf16'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "54.14"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''9643d63a-d4bb-4c21-8ae7-127f1da529fd'', ''{"type": "fixed", "reimbursement_amount": "54.14"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метопролол 25 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''a381d0a4-0d53-4f7d-b60d-61a7c71a00f9'', ''Метопролол 25 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''ef93aff8-16e2-4ff0-81b2-4437fd75c5e9'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 25
            AND m.name = 'ЕГІЛОК®'
            AND m.package_qty = 60
            AND m.certificate = 'UA/9635/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB02"]'::jsonb, 'UA/9635/01/01', '2019-07-21'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9b69b1c5-a142-435c-8b4c-f0df5822ff2d'', ''ЕГІЛОК®'', ''BRAND'', ''{"name": "ЗАТ Фармацевтичний завод ЕГІС", "country": " Угорщина"}'', ''["C07AB02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 60, 60, ''UA/9635/01/01'', ''2019-07-21'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''573cc6c4-1ea8-4f9c-a4e8-734ccc1f9760'', ''{"numerator_unit": "MG", "numerator_value": "25", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "11.06"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''ecd7f656-72a9-48db-994b-8e055cfd7ffa'', ''{"type": "fixed", "reimbursement_amount": "11.06"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метопролол 50 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9e12c3f2-a891-4ac0-a27b-bdd08cf08c89'', ''Метопролол 50 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''e4211087-f6e5-4850-a298-41fc3271d8ce'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 50
            AND m.name = 'ЕГІЛОК®'
            AND m.package_qty = 60
            AND m.certificate = 'UA/9635/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB02"]'::jsonb, 'UA/9635/01/02', '2019-07-21'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3dd5e190-72c1-4835-ad78-9ab7ea89268a'', ''ЕГІЛОК®'', ''BRAND'', ''{"name": "ЗАТ Фармацевтичний завод ЕГІС", "country": " Угорщина"}'', ''["C07AB02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 60, 60, ''UA/9635/01/02'', ''2019-07-21'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''f49ab253-012d-4085-9b62-d180735a84ba'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "22.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''0e583fdd-79c2-4885-8592-b47972d73532'', ''{"type": "fixed", "reimbursement_amount": "22.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метопролол 50 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9e12c3f2-a891-4ac0-a27b-bdd08cf08c89'', ''Метопролол 50 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''61456d10-3f63-4ad1-b2f9-5178ba97a32d'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 50
            AND m.name = 'МЕТОПРОЛОЛ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/2548/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB02"]'::jsonb, 'UA/2548/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''bd17c2f3-90d6-43c2-b099-ab89c85387f6'', ''МЕТОПРОЛОЛ'', ''BRAND'', ''{"name": "ПАТ \"Київмедпрепарат\"", "country": " Україна"}'', ''["C07AB02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/2548/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''ef8c94a8-4876-40d5-95d7-75e55dc0c6fd'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "11.06"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''c033a69a-fce5-4b49-8a20-a7307b08ca9e'', ''{"type": "fixed", "reimbursement_amount": "11.06"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метопролол 50 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9e12c3f2-a891-4ac0-a27b-bdd08cf08c89'', ''Метопролол 50 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''77101878-2d65-4a77-88f6-2d68367a0f0b'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 50
            AND m.name = 'МЕТОПРОЛОЛУ ТАРТРАТ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/6755/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB02"]'::jsonb, 'UA/6755/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3bd61fa5-5fec-44ce-bd48-193e31fa1b22'', ''МЕТОПРОЛОЛУ ТАРТРАТ'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["C07AB02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/6755/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''d93a5f9b-7c85-4a3a-8826-8bd28a2ee2d7'', ''{"numerator_unit": "MG", "numerator_value": "50", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "7.37"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''91c22bea-7cb3-4a35-89af-a08f5b4bc0a4'', ''{"type": "fixed", "reimbursement_amount": "7.37"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метопролол 100 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''08fa0fa8-7a12-44b7-907c-37933def5cd7'', ''Метопролол 100 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''a7521a25-04e4-4d3b-be44-9e953324814d'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'ЕГІЛОК®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/9635/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB02"]'::jsonb, 'UA/9635/01/03', '2019-07-21'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''0a2f2bf3-e38a-436c-a58e-aa6b3a1d5c44'', ''ЕГІЛОК®'', ''BRAND'', ''{"name": "ЗАТ Фармацевтичний завод ЕГІС", "country": " Угорщина"}'', ''["C07AB02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/9635/01/03'', ''2019-07-21'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''1746a349-a30b-472a-bb77-8f383396532d'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "22.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''2eb59526-2a3a-4492-993c-501872cb67fe'', ''{"type": "fixed", "reimbursement_amount": "22.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метопролол 100 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''08fa0fa8-7a12-44b7-907c-37933def5cd7'', ''Метопролол 100 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''d699304a-8c8d-4e82-821d-361474882450'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'ЕГІЛОК®'
            AND m.package_qty = 60
            AND m.certificate = 'UA/9635/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB02"]'::jsonb, 'UA/9635/01/03', '2019-07-21'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ec2dd8d1-60bc-453f-b622-f33ac02a8b0f'', ''ЕГІЛОК®'', ''BRAND'', ''{"name": "ЗАТ Фармацевтичний завод ЕГІС", "country": " Угорщина"}'', ''["C07AB02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 60, 60, ''UA/9635/01/03'', ''2019-07-21'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''e0716b23-5b37-4ed2-80fd-cd06787fb94f'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "44.23"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''60d37780-7798-4652-9939-63170c439921'', ''{"type": "fixed", "reimbursement_amount": "44.23"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метопролол 100 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''08fa0fa8-7a12-44b7-907c-37933def5cd7'', ''Метопролол 100 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''9dd22094-c2e4-4722-bd84-17356fd55312'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'МЕТОПРОЛОЛ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/2548/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB02"]'::jsonb, 'UA/2548/01/03', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''4c75151b-09eb-4962-99ed-1ff201997ca1'', ''МЕТОПРОЛОЛ'', ''BRAND'', ''{"name": "ПАТ \"Київмедпрепарат\"", "country": " Україна"}'', ''["C07AB02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/2548/01/03'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''db58d0ed-aff9-435f-88c3-973b0f05434c'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "22.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''caef08bb-d1cb-44ae-a9b6-60f9ed1741b5'', ''{"type": "fixed", "reimbursement_amount": "22.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метопролол 100 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''08fa0fa8-7a12-44b7-907c-37933def5cd7'', ''Метопролол 100 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''d80c927f-035b-4329-842f-2d917afd6a1c'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'МЕТОПРОЛОЛУ ТАРТРАТ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/6755/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB02"]'::jsonb, 'UA/6755/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''342fbf7b-8a41-43e0-89f1-9faa75329b28'', ''МЕТОПРОЛОЛУ ТАРТРАТ'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["C07AB02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/6755/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''b1b506d2-8620-4495-9550-ac078f660945'', ''{"numerator_unit": "MG", "numerator_value": "100", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "14.74"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''7f737061-da66-40f2-b12e-e55cb1a2a941'', ''{"type": "fixed", "reimbursement_amount": "14.74"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Нітрогліцерин' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Нітрогліцерин 0.5 MG таблетки сублінгвальні ' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''bfba43f3-d447-495c-ba26-109f62542bec'', ''Нітрогліцерин 0.5 MG таблетки сублінгвальні '', ''INNM_DOSAGE'', TRUE, ''SUBLINGVAL_TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''2fa49750-312d-4b44-9bce-405d4e6c3d78'', ''{"numerator_unit": "MG", "numerator_value": "0.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'SUBLINGVAL_TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 0.5
            AND m.name = 'НІТРОГЛІЦЕРИН'
            AND m.package_qty = 40
            AND m.certificate = 'UA/6393/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C01DA02"]'::jsonb, 'UA/6393/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''14e3d50b-bd05-40b6-baad-78e8dea73fd9'', ''НІТРОГЛІЦЕРИН'', ''BRAND'', ''{"name": "ПрАТ \"Технолог\"", "country": " Україна"}'', ''["C01DA02"]'', true, ''SUBLINGVAL_TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 40, 40, ''UA/6393/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''ff39a5fd-a880-40fd-a893-22f1bee00ffa'', ''{"numerator_unit": "MG", "numerator_value": "0.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "8.53"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''1143beac-3131-4bb1-a473-5e2aaeff96b3'', ''{"type": "fixed", "reimbursement_amount": "8.53"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Нітрогліцерин' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Нітрогліцерин 0.5 MG таблетки сублінгвальні ' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''bfba43f3-d447-495c-ba26-109f62542bec'', ''Нітрогліцерин 0.5 MG таблетки сублінгвальні '', ''INNM_DOSAGE'', TRUE, ''SUBLINGVAL_TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''74e92d0d-f08c-4cec-b00c-956fbfd2f2c3'', ''{"numerator_unit": "MG", "numerator_value": "0.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'SUBLINGVAL_TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 0.5
            AND m.name = 'НІТРОГЛІЦЕРИН'
            AND m.package_qty = 40
            AND m.certificate = 'UA/0129/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C01DA02"]'::jsonb, 'UA/0129/01/01', '2019-05-19'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c8b02a6b-eea5-4208-9c30-983de3d92143'', ''НІТРОГЛІЦЕРИН'', ''BRAND'', ''{"name": "ТОВ НВФ \"Мікрохім\"", "country": " Україна"}'', ''["C01DA02"]'', true, ''SUBLINGVAL_TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 40, 40, ''UA/0129/01/01'', ''2019-05-19'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''e848d580-1c1c-45ca-9f89-67def4fd4a24'', ''{"numerator_unit": "MG", "numerator_value": "0.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "8.53"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''630c3778-23d6-4329-a577-5159eabb70c7'', ''{"type": "fixed", "reimbursement_amount": "8.53"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Нітрогліцерин' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Нітрогліцерин 0.5 MG таблетки сублінгвальні ' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''bfba43f3-d447-495c-ba26-109f62542bec'', ''Нітрогліцерин 0.5 MG таблетки сублінгвальні '', ''INNM_DOSAGE'', TRUE, ''SUBLINGVAL_TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''85659051-2498-4110-b525-423ef288ddd5'', ''{"numerator_unit": "MG", "numerator_value": "0.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'SUBLINGVAL_TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 0.5
            AND m.name = 'НІТРОГЛІЦЕРИН-ЗДОРОВ''Я'
            AND m.package_qty = 40
            AND m.certificate = 'UA/0052/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C01DA02"]'::jsonb, 'UA/0052/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''bf638f91-ce38-4c4c-ac41-9fae355cdcff'', ''НІТРОГЛІЦЕРИН-ЗДОРОВ''''Я'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Фармацевтична компанія \"Здоров''''я\" ", "country": " Україна"}'', ''["C01DA02"]'', true, ''SUBLINGVAL_TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 40, 40, ''UA/0052/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''0e9754a7-4d60-4a34-8a05-2b7102d47faf'', ''{"numerator_unit": "MG", "numerator_value": "0.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "8.53"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''6b8b1d1f-03a0-4afc-872b-bea708699943'', ''{"type": "fixed", "reimbursement_amount": "8.53"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Симвастатин' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Симвастатин 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''616064ea-95de-4eb5-b109-4d0d09629c0f'', ''Симвастатин 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''de7c7df1-3af1-4697-9030-cc269293e5a9'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'ВАЗОСТАТ-ЗДОРОВ''Я'
            AND m.package_qty = 30
            AND m.certificate = 'UA/3579/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C10AA01"]'::jsonb, 'UA/3579/01/01', '2020-03-03'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''bc79c71e-8841-4352-9937-9f4211be1bb3'', ''ВАЗОСТАТ-ЗДОРОВ''''Я'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Фармацевтична компанія \"Здоров''''я\" ", "country": " Україна"}'', ''["C10AA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/3579/01/01'', ''2020-03-03'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''1aaed519-00d4-48b6-8084-c2633d89253c'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "23.01"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''3c5fc922-ca05-4755-9456-ce68c0fd0301'', ''{"type": "fixed", "reimbursement_amount": "23.01"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Симвастатин' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Симвастатин 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''616064ea-95de-4eb5-b109-4d0d09629c0f'', ''Симвастатин 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''ce359592-d37b-403a-ad97-0b46b8e6de22'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'КАРДАК'
            AND m.package_qty = 30
            AND m.certificate = 'UA/11834/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C10AA01"]'::jsonb, 'UA/11834/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''035937b2-ff64-4467-b9e6-b81745ed0bb8'', ''КАРДАК'', ''BRAND'', ''{"name": "Ауробіндо Фарма Лімітед", "country": " Індія"}'', ''["C10AA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/11834/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''723793dc-491e-44e2-a02f-5a8480a7a3a2'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "23.01"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''034ff8d8-ceab-4903-8823-67a9217d765c'', ''{"type": "fixed", "reimbursement_amount": "23.01"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Симвастатин' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Симвастатин 20 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''0cb5d8e5-721e-408c-b5ee-b69401a88eda'', ''Симвастатин 20 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''4dcd6e98-f40d-44b0-bf10-8b397966425d'', ''{"numerator_unit": "MG", "numerator_value": "20", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 20
            AND m.name = 'АЛЛЕСТА®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/4290/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C10AA01"]'::jsonb, 'UA/4290/01/02', '2021-10-04'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ef8ad867-2f76-40b6-8aed-4f98bd164cc0'', ''АЛЛЕСТА®'', ''BRAND'', ''{"name": "Алкалоїд АД - Скоп''''є", "country": " Республіка Македонія"}'', ''["C10AA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/4290/01/02'', ''2021-10-04'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''e6ccfbd9-a443-48f2-8313-70d537eba09a'', ''{"numerator_unit": "MG", "numerator_value": "20", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "46.02"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''29193659-acb8-4391-a7b7-c87600ce0e2e'', ''{"type": "fixed", "reimbursement_amount": "46.02"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Симвастатин' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Симвастатин 20 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''0cb5d8e5-721e-408c-b5ee-b69401a88eda'', ''Симвастатин 20 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''a2af8035-0125-4662-985a-9f1f8faa8517'', ''{"numerator_unit": "MG", "numerator_value": "20", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 20
            AND m.name = 'ВАЗИЛІП®'
            AND m.package_qty = 28
            AND m.certificate = 'UA/3792/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C10AA01"]'::jsonb, 'UA/3792/01/02', '2020-09-03'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''7f7e091c-afa5-4d93-ac4d-61534e3f3757'', ''ВАЗИЛІП®'', ''BRAND'', ''{"name": "КРКА", "country": " Словенія"}'', ''["C10AA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 28, 28, ''UA/3792/01/02'', ''2020-09-03'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''14054fbe-9b5e-4ae6-a851-27fbd55dbee4'', ''{"numerator_unit": "MG", "numerator_value": "20", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "42.95"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''3922af6f-a015-46a1-a43d-1ed1adf418e2'', ''{"type": "fixed", "reimbursement_amount": "42.95"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Симвастатин' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Симвастатин 20 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''0cb5d8e5-721e-408c-b5ee-b69401a88eda'', ''Симвастатин 20 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''3bd2799e-8d19-4a9e-9601-04c581c9049e'', ''{"numerator_unit": "MG", "numerator_value": "20", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 20
            AND m.name = 'ВАЗОСТАТ-ЗДОРОВ''Я'
            AND m.package_qty = 30
            AND m.certificate = 'UA/3579/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C10AA01"]'::jsonb, 'UA/3579/01/02', '2020-03-03'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''77070ae2-4602-4637-bfc1-52ccc773e43f'', ''ВАЗОСТАТ-ЗДОРОВ''''Я'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Фармацевтична компанія \"Здоров''''я\" ", "country": " Україна"}'', ''["C10AA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/3579/01/02'', ''2020-03-03'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''25ddfde5-de2a-42e0-b98c-0b1bda116df2'', ''{"numerator_unit": "MG", "numerator_value": "20", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "46.02"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''15d308bc-9a1d-49ce-86be-29b7ada88dbd'', ''{"type": "fixed", "reimbursement_amount": "46.02"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Симвастатин' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Симвастатин 20 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''0cb5d8e5-721e-408c-b5ee-b69401a88eda'', ''Симвастатин 20 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''dfea3cbf-5ad7-4cdd-a86c-684eefccb5e0'', ''{"numerator_unit": "MG", "numerator_value": "20", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 20
            AND m.name = 'КАРДАК'
            AND m.package_qty = 30
            AND m.certificate = 'UA/11834/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C10AA01"]'::jsonb, 'UA/11834/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ad969021-b8dc-4db0-8102-053d9d46b424'', ''КАРДАК'', ''BRAND'', ''{"name": "Ауробіндо Фарма Лімітед", "country": " Індія"}'', ''["C10AA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/11834/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''5f80cf48-44ff-41fd-bd1c-844c7f07703f'', ''{"numerator_unit": "MG", "numerator_value": "20", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "46.02"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''08fbddfa-27cf-4174-9845-7178be5e5c0e'', ''{"type": "fixed", "reimbursement_amount": "46.02"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Симвастатин' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Симвастатин 20 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''0cb5d8e5-721e-408c-b5ee-b69401a88eda'', ''Симвастатин 20 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''5deedd25-0f81-47e1-9560-6c6843b5eab3'', ''{"numerator_unit": "MG", "numerator_value": "20", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 20
            AND m.name = 'СИМВАСТАТИН 20 АНАНТА'
            AND m.package_qty = 28
            AND m.certificate = 'UA/14019/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C10AA01"]'::jsonb, 'UA/14019/01/02', '202019-10-31'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''49bfabf0-8a5a-42e1-a051-9dea23965850'', ''СИМВАСТАТИН 20 АНАНТА'', ''BRAND'', ''{"name": "Марксанс Фарма Лтд.", "country": " Індія"}'', ''["C10AA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 28, 28, ''UA/14019/01/02'', ''202019-10-31'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''e666161b-4570-4f20-9823-bb54b3ef8d9c'', ''{"numerator_unit": "MG", "numerator_value": "20", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "42.95"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''fc4fe4b0-e0bf-4d09-8a62-3a8a8fea31a9'', ''{"type": "fixed", "reimbursement_amount": "42.95"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Симвастатин' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Симвастатин 40 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9d73161b-c782-4770-8b33-9bb169600a3a'', ''Симвастатин 40 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''cd9c8cfe-39e9-443e-bcd2-97d01064a5fe'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 40
            AND m.name = 'АЛЛЕСТА®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/4290/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C10AA01"]'::jsonb, 'UA/4290/01/03', '2021-10-04'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d5f53fee-d1b9-4ef6-bf9d-5d8aeeece220'', ''АЛЛЕСТА®'', ''BRAND'', ''{"name": "Алкалоїд АД - Скоп''''є", "country": " Республіка Македонія"}'', ''["C10AA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/4290/01/03'', ''2021-10-04'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''08847efc-4138-402f-aded-b209a8cf8629'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "92.04"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''32a281f0-14f4-448a-aedb-20b21477f476'', ''{"type": "fixed", "reimbursement_amount": "92.04"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Симвастатин' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Симвастатин 40 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9d73161b-c782-4770-8b33-9bb169600a3a'', ''Симвастатин 40 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''8c3e6358-8c10-43f7-b2f1-e3b4b3dbd353'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 40
            AND m.name = 'ВАЗИЛІП®'
            AND m.package_qty = 28
            AND m.certificate = 'UA/3792/01/04';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C10AA01"]'::jsonb, 'UA/3792/01/04', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''45a8cfa2-ebde-47d3-974b-9b1b76eda0fe'', ''ВАЗИЛІП®'', ''BRAND'', ''{"name": "КРКА", "country": " Словенія"}'', ''["C10AA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 28, 28, ''UA/3792/01/04'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''49168b13-7374-49c0-a1f1-a3aa531e51fa'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "85.91"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''bc174afb-433a-48dc-a508-bf498f4f5982'', ''{"type": "fixed", "reimbursement_amount": "85.91"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Симвастатин' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Симвастатин 40 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9d73161b-c782-4770-8b33-9bb169600a3a'', ''Симвастатин 40 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''863df65c-ee90-4f87-94c6-4e6d5db4fd39'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 40
            AND m.name = 'ВАЗИЛІП®'
            AND m.package_qty = 84
            AND m.certificate = 'UA/3792/01/04';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C10AA01"]'::jsonb, 'UA/3792/01/04', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e046cddc-28ef-49d2-864a-e90294a0c2b6'', ''ВАЗИЛІП®'', ''BRAND'', ''{"name": "КРКА", "country": " Словенія"}'', ''["C10AA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 84, 84, ''UA/3792/01/04'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''97235ac3-f7d3-4996-b577-c6e2e27547cd'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "257.72"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''42aa3f7f-999a-43a8-bc26-eed5c205fd90'', ''{"type": "fixed", "reimbursement_amount": "257.72"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Симвастатин' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Симвастатин 40 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9d73161b-c782-4770-8b33-9bb169600a3a'', ''Симвастатин 40 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''85b39216-d8ca-45af-970c-26b10257a12f'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 40
            AND m.name = 'ВАЗОСТАТ-ЗДОРОВ''Я'
            AND m.package_qty = 30
            AND m.certificate = 'UA/3579/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C10AA01"]'::jsonb, 'UA/3579/01/03', '2020-03-03'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''339994ef-5bfc-42e9-a591-17d05c96cc20'', ''ВАЗОСТАТ-ЗДОРОВ''''Я'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Фармацевтична компанія \"Здоров''''я\" ", "country": " Україна"}'', ''["C10AA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/3579/01/03'', ''2020-03-03'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''e15bbe16-aaeb-4bce-8811-c39746569448'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "92.04"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''1766f9f2-69ad-4d61-9d2c-63cc8689789e'', ''{"type": "fixed", "reimbursement_amount": "92.04"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Симвастатин' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Симвастатин 40 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9d73161b-c782-4770-8b33-9bb169600a3a'', ''Симвастатин 40 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''cc394941-52c7-40e8-a83e-8ccd26c5cd14'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 40
            AND m.name = 'КАРДАК'
            AND m.package_qty = 30
            AND m.certificate = 'UA/11834/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C10AA01"]'::jsonb, 'UA/11834/01/03', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''fcf34d90-ea91-42a2-9611-e3c059c8fc8f'', ''КАРДАК'', ''BRAND'', ''{"name": "Ауробіндо Фарма Лімітед", "country": " Індія"}'', ''["C10AA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/11834/01/03'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''f86edeae-2d7e-4f06-be48-ebd81a84ed4b'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "92.04"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''e0f36ad7-ade5-43e7-ac03-44d89712bcee'', ''{"type": "fixed", "reimbursement_amount": "92.04"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Симвастатин' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Симвастатин 40 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9d73161b-c782-4770-8b33-9bb169600a3a'', ''Симвастатин 40 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''d5ca36a9-c0bb-4718-8723-73ddd486efac'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 40
            AND m.name = 'СИМВАСТАТИН 40 АНАНТА'
            AND m.package_qty = 28
            AND m.certificate = 'UA/14019/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C10AA01"]'::jsonb, 'UA/14019/01/03', '202019-10-31'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''6f5dfdc7-e788-47f9-9240-376b869a5b29'', ''СИМВАСТАТИН 40 АНАНТА'', ''BRAND'', ''{"name": "Марксанс Фарма Лтд.", "country": " Індія"}'', ''["C10AA01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 28, 28, ''UA/14019/01/03'', ''202019-10-31'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''00d40d29-cdcb-4595-aee0-36ddb5e47ddb'', ''{"numerator_unit": "MG", "numerator_value": "40", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "85.91"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''4b111aee-d339-4420-bba5-d64916681f90'', ''{"type": "fixed", "reimbursement_amount": "85.91"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 2.5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''62374dfe-7ae5-4bb8-afb5-f33b712b6fa8'', ''Бісопролол 2.5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''8969c9ad-1cc8-418a-951c-0296370c0e9a'', ''{"numerator_unit": "MG", "numerator_value": "2.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 2.5
            AND m.name = 'БІСОПРОЛОЛ-АУРОБІНДО'
            AND m.package_qty = 28
            AND m.certificate = 'UA/16250/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/16250/01/01', '2022-10-11'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''b567e0a7-1e4a-4ff6-873b-28c05388ca2c'', ''БІСОПРОЛОЛ-АУРОБІНДО'', ''BRAND'', ''{"name": "Ауробіндо Фарма Лімітед", "country": " Індія"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 28, 28, ''UA/16250/01/01'', ''2022-10-11'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''2e2d04a8-fbf3-495b-8a47-23fb4a48f0ee'', ''{"numerator_unit": "MG", "numerator_value": "2.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "5.27"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''a5c0dd4c-9068-40cb-baa3-44cf06d44143'', ''{"type": "fixed", "reimbursement_amount": "5.27"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 2.5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''62374dfe-7ae5-4bb8-afb5-f33b712b6fa8'', ''Бісопролол 2.5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''6472f41e-b11f-472e-bae9-f45dcc8a2024'', ''{"numerator_unit": "MG", "numerator_value": "2.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 2.5
            AND m.name = 'БІПРОЛОЛ-ЗДОРОВ’Я'
            AND m.package_qty = 30
            AND m.certificate = 'UA/14025/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/14025/01/01', '2019-11-06'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''437a03c5-ab6c-4b64-8954-372439ac20e7'', ''БІПРОЛОЛ-ЗДОРОВ’Я'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Фармацевтична компанія \"Здоров''''я\" ", "country": " Україна"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/14025/01/01'', ''2019-11-06'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''e343e43b-f804-46ca-9a27-406eede3559f'', ''{"numerator_unit": "MG", "numerator_value": "2.5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "5.65"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''ae9a0890-1eba-47b6-8622-b865c341a8e4'', ''{"type": "fixed", "reimbursement_amount": "5.65"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5a3c34c5-469b-45a1-9f3c-816f465f4005'', ''Бісопролол 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''b9bc7278-ca05-4b1f-b84d-f32af94fd161'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'БІСОПРОЛ®'
            AND m.package_qty = 50
            AND m.certificate = 'UA/3214/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/3214/01/01', '2020-03-30'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''f1b8837c-b5e5-41f6-a2d1-3901baa25f87'', ''БІСОПРОЛ®'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 50, 50, ''UA/3214/01/01'', ''2020-03-30'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''cd604d0a-17da-4c80-83ee-2cf611ed1ba9'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "18.84"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''bb1eb6b9-8f49-482c-b222-b631e710d061'', ''{"type": "fixed", "reimbursement_amount": "18.84"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5a3c34c5-469b-45a1-9f3c-816f465f4005'', ''Бісопролол 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''d0346e9d-54fc-4783-80f2-6f7c56fdf61c'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'БІСОПРОЛОЛ-АУРОБІНДО'
            AND m.package_qty = 28
            AND m.certificate = 'UA/16250/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/16250/01/02', '2022-10-11'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d635a2d5-4f87-43b4-86bb-e2413d35310a'', ''БІСОПРОЛОЛ-АУРОБІНДО'', ''BRAND'', ''{"name": "Ауробіндо Фарма Лімітед", "country": " Індія"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 28, 28, ''UA/16250/01/02'', ''2022-10-11'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''60100f09-f6c0-4496-b640-65aa4b48ae18'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "10.55"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''6cadb2f1-9f49-461e-a6a6-3d9fbdf11258'', ''{"type": "fixed", "reimbursement_amount": "10.55"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5a3c34c5-469b-45a1-9f3c-816f465f4005'', ''Бісопролол 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''a9996572-dc82-4a05-a860-a069b7e3f627'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'БІПРОЛОЛ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/3800/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/3800/01/01', '2020-10-21'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''fe0f251a-c042-485f-a141-1a0174707ec2'', ''БІПРОЛОЛ'', ''BRAND'', ''{"name": "Публічне акціонерне товариство \"Науково-виробничий центр \"Борщагівський хіміко-фармацевтичний завод\"", "country": " Україна"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/3800/01/01'', ''2020-10-21'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''ef76305b-65e7-4e90-b1f6-6b1762c71cf5'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "11.30"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''18e111e7-8424-4268-88a1-aa4d24523fe7'', ''{"type": "fixed", "reimbursement_amount": "11.30"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5a3c34c5-469b-45a1-9f3c-816f465f4005'', ''Бісопролол 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''9239197f-2202-4e98-9919-0c982e9c55d3'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'БІСОПРОЛОЛ-КВ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/8672/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/8672/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''7ee9d974-e3b1-4d6f-9879-bc79ae15cd7b'', ''БІСОПРОЛОЛ-КВ'', ''BRAND'', ''{"name": "АТ \"КИЇВСЬКИЙ ВІТАМІННИЙ ЗАВОД\"", "country": "Україна"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/8672/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''b8df0824-eb1e-43ff-87af-0ca2e129b1bc'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "11.30"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''895737ca-ae8c-4a2c-942b-45e5d26f1fb0'', ''{"type": "fixed", "reimbursement_amount": "11.30"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5a3c34c5-469b-45a1-9f3c-816f465f4005'', ''Бісопролол 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''79808bc0-00a9-4459-8dcb-5bcce585efc7'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'БІПРОЛОЛ-ЗДОРОВ’Я'
            AND m.package_qty = 30
            AND m.certificate = 'UA/14025/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/14025/01/02', '2019-11-06'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c6c96c1e-baee-4718-b7fd-953d9a26cacd'', ''БІПРОЛОЛ-ЗДОРОВ’Я'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Фармацевтична компанія \"Здоров''''я\" ", "country": " Україна"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/14025/01/02'', ''2019-11-06'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''1a1a8c6d-a446-4dcb-9d33-4b8852cb76a7'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "11.30"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''fd437e6b-76bb-45a5-acdc-6b6448c6d9ff'', ''{"type": "fixed", "reimbursement_amount": "11.30"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5a3c34c5-469b-45a1-9f3c-816f465f4005'', ''Бісопролол 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''a26c6229-51b0-45bf-9660-11e064d9d7a5'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'БІСОПРОЛ®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/3214/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/3214/01/01', '2020-03-30'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c74eb6b8-38d7-4d9f-88f2-64b36a5daff9'', ''БІСОПРОЛ®'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/3214/01/01'', ''2020-03-30'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''152d0998-df2d-4c0d-97b6-b0aa4cc4e4de'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "11.30"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''81e43e58-ff92-4777-b403-46c0709651f0'', ''{"type": "fixed", "reimbursement_amount": "11.30"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5a3c34c5-469b-45a1-9f3c-816f465f4005'', ''Бісопролол 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''1b956a1d-b90a-4a81-b25b-076666a8ee5c'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'БІСОПРОЛОЛ - АСТРАФАРМ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/8959/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/8959/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''86bfbef4-0794-42ac-a79d-9d11a4e8864a'', ''БІСОПРОЛОЛ - АСТРАФАРМ'', ''BRAND'', ''{"name": "ТОВ \"АСТРАФАРМ\"", "country": " Україна"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/8959/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''0c21b74e-28a6-45f3-a702-2cd755e0a9eb'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "11.30"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''2740f37f-0210-4272-bf27-9be5fcc8a178'', ''{"type": "fixed", "reimbursement_amount": "11.30"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5a3c34c5-469b-45a1-9f3c-816f465f4005'', ''Бісопролол 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''b4882e16-ec08-4fc7-bd5f-29e68a5545b2'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'БІСОПРОЛОЛ - АСТРАФАРМ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/8959/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/8959/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''7a469dcc-67eb-4fe2-bae5-b702bc674218'', ''БІСОПРОЛОЛ - АСТРАФАРМ'', ''BRAND'', ''{"name": "ТОВ \"АСТРАФАРМ\"", "country": " Україна"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/8959/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''d8803f04-8d57-4d05-8524-0e892d46e03b'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "7.53"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''af92d197-0bb3-43e4-a79d-05f4fc3ee8dc'', ''{"type": "fixed", "reimbursement_amount": "7.53"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5a3c34c5-469b-45a1-9f3c-816f465f4005'', ''Бісопролол 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''68e8fdf7-82f2-4aba-88f3-2f97822e51d4'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'БІСОПРОЛ®'
            AND m.package_qty = 20
            AND m.certificate = 'UA/3214/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/3214/01/02', '2020-03-30'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''61ae9553-39a2-4d3b-aa6b-abab3de271b4'', ''БІСОПРОЛ®'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/3214/01/02'', ''2020-03-30'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''da44ad71-8544-4893-a917-0849aeb1a9d2'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "7.53"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''8e396599-a62a-4c96-9931-2a976f4895ce'', ''{"type": "fixed", "reimbursement_amount": "7.53"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5a3c34c5-469b-45a1-9f3c-816f465f4005'', ''Бісопролол 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''735b5eb5-b410-4557-b11f-70e5e210e632'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'БІСОПРОЛОЛ САНДОЗ®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/4401/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/4401/01/01', '2020-11-27'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''245f09e5-f2d4-447d-b6ee-b2f1fd7be915'', ''БІСОПРОЛОЛ САНДОЗ®'', ''BRAND'', ''{"name": "Салютас Фарма ГмбХ", "country": " Німеччина"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/4401/01/01'', ''2020-11-27'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''0a120f97-f379-446b-b88a-f1beef36e299'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "11.30"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''c8faa59e-c40c-4796-bdf5-2992fcc8bcd1'', ''{"type": "fixed", "reimbursement_amount": "11.30"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5a3c34c5-469b-45a1-9f3c-816f465f4005'', ''Бісопролол 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''78e67413-5111-4854-acb1-2cffe3bb9d4d'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'БІСОПРОЛОЛ-ТЕВА'
            AND m.package_qty = 30
            AND m.certificate = 'UA/1728/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/1728/01/01', '2021-03-16'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c71e7839-bff8-4a6f-b88f-ecc0fddb0678'', ''БІСОПРОЛОЛ-ТЕВА'', ''BRAND'', ''{"name": "Меркле ГмбХ", "country": " Німеччина"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/1728/01/01'', ''2021-03-16'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''30d7195e-a41f-48a7-bfb7-a0571dbfb1a1'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "11.30"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''0b10400b-1748-4c97-9948-66119facfe1f'', ''{"type": "fixed", "reimbursement_amount": "11.30"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5a3c34c5-469b-45a1-9f3c-816f465f4005'', ''Бісопролол 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''e830822d-0700-4e70-a410-2ca6c2cae7d7'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'БІСОПРОЛОЛ-ТЕВА'
            AND m.package_qty = 50
            AND m.certificate = 'UA/1728/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/1728/01/01', '2021-03-16'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''8d203b23-775a-4b79-ba58-2221c573e80b'', ''БІСОПРОЛОЛ-ТЕВА'', ''BRAND'', ''{"name": "Меркле ГмбХ", "country": " Німеччина"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 50, 50, ''UA/1728/01/01'', ''2021-03-16'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''849eb562-e3aa-47e2-a611-e2f6afc1c79e'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "18.84"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''2b6054cf-ba80-4c8d-bd06-9f2adefbaea7'', ''{"type": "fixed", "reimbursement_amount": "18.84"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5a3c34c5-469b-45a1-9f3c-816f465f4005'', ''Бісопролол 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''a551dc88-7bbb-4828-b22d-9c59e48f7374'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'БІСОПРОЛОЛ САНДОЗ®'
            AND m.package_qty = 90
            AND m.certificate = 'UA/4401/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/4401/01/01', '2020-11-27'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''1a2aaee6-c121-4294-8685-cf0f3c8d1c91'', ''БІСОПРОЛОЛ САНДОЗ®'', ''BRAND'', ''{"name": "Салютас Фарма ГмбХ", "country": " Німеччина"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 90, 90, ''UA/4401/01/01'', ''2020-11-27'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''beb8eeb9-0be8-4b5c-952e-056b4176f34d'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "33.91"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''205ea00c-3db6-487a-9ebb-ebac29cb8098'', ''{"type": "fixed", "reimbursement_amount": "33.91"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ab5e2e95-d483-4627-bee5-076d90e3a38f'', ''Бісопролол 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''19b7f04c-bea7-4546-886c-d2238071a9cc'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'БІСОПРОЛОЛ-КВ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/8672/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/8672/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''621231af-6044-48f0-a111-0c14efe6f463'', ''БІСОПРОЛОЛ-КВ'', ''BRAND'', ''{"name": "АТ \"КИЇВСЬКИЙ ВІТАМІННИЙ ЗАВОД\"", "country": "Україна"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/8672/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''b9170a23-b64f-4045-84b0-c6f6edffed92'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "22.60"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''4df38b97-a595-4a1f-af44-cba41a1bacd9'', ''{"type": "fixed", "reimbursement_amount": "22.60"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ab5e2e95-d483-4627-bee5-076d90e3a38f'', ''Бісопролол 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''e8c2df3c-e44d-4ac8-859b-a9eed59773e0'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'БІСОПРОЛ®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/3214/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/3214/01/02', '2020-03-30'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5133b27b-48d6-4a10-9a27-7bf0f0a0efbc'', ''БІСОПРОЛ®'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/3214/01/02'', ''2020-03-30'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''40b8100c-7833-4d5d-b28a-7df8dbf09945'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "22.60"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''92c3853a-8318-4978-a08a-75bf10670b14'', ''{"type": "fixed", "reimbursement_amount": "22.60"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ab5e2e95-d483-4627-bee5-076d90e3a38f'', ''Бісопролол 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''ea0cf771-f0ae-4b0e-9c9b-47c8d1aa2fb7'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'БІСОПРОЛ®'
            AND m.package_qty = 50
            AND m.certificate = 'UA/3214/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/3214/01/02', '2020-03-30'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''0db256da-9094-4dfb-92c7-f75e63de402d'', ''БІСОПРОЛ®'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 50, 50, ''UA/3214/01/02'', ''2020-03-30'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''6e780525-27f6-4b6a-8250-eeb1843a11bc'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "37.67"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''94c1c662-92fc-46e1-8dff-fa075982e7c2'', ''{"type": "fixed", "reimbursement_amount": "37.67"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ab5e2e95-d483-4627-bee5-076d90e3a38f'', ''Бісопролол 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''aafa16d2-08ee-4c18-adaa-d12cb85011f4'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'БІСОПРОЛОЛ-АУРОБІНДО'
            AND m.package_qty = 28
            AND m.certificate = 'UA/16250/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/16250/01/03', '2022-10-11'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c1c763d0-b8a9-40ac-ab83-8138aad7fa87'', ''БІСОПРОЛОЛ-АУРОБІНДО'', ''BRAND'', ''{"name": "Ауробіндо Фарма Лімітед", "country": " Індія"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 28, 28, ''UA/16250/01/03'', ''2022-10-11'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''f6119c34-56a0-4926-8bdf-f8c23651ce0c'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "21.10"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''b6f48632-32b5-4576-b8cb-f2a6c4eb408e'', ''{"type": "fixed", "reimbursement_amount": "21.10"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ab5e2e95-d483-4627-bee5-076d90e3a38f'', ''Бісопролол 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''bceef72c-3963-4756-b3e0-3ca9f7a553d3'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'БІПРОЛОЛ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/3800/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/3800/01/02', '2020-10-21'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''d6c450b6-0b7d-4205-ae87-7a43408be6b1'', ''БІПРОЛОЛ'', ''BRAND'', ''{"name": "Публічне акціонерне товариство \"Науково-виробничий центр \"Борщагівський хіміко-фармацевтичний завод\"", "country": " Україна"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/3800/01/02'', ''2020-10-21'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''3f955414-a76c-4e10-a4dc-0abeb06490c9'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "22.60"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''42851ea4-fb05-4273-85b4-37d4d15350fc'', ''{"type": "fixed", "reimbursement_amount": "22.60"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ab5e2e95-d483-4627-bee5-076d90e3a38f'', ''Бісопролол 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''5cd1dacc-2eaf-4309-9cf3-fbe0834cf77a'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'БІСОПРОЛОЛ - АСТРАФАРМ'
            AND m.package_qty = 20
            AND m.certificate = 'UA/8959/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/8959/01/03', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''4ebc0256-71c1-49f8-a89d-6b1be040f08f'', ''БІСОПРОЛОЛ - АСТРАФАРМ'', ''BRAND'', ''{"name": "ТОВ \"АСТРАФАРМ\"", "country": " Україна"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/8959/01/03'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''853f0273-a70f-4a93-bf96-008a07f6854d'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "15.07"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''87d8d22b-3905-49db-b521-69ceff07975c'', ''{"type": "fixed", "reimbursement_amount": "15.07"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ab5e2e95-d483-4627-bee5-076d90e3a38f'', ''Бісопролол 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''a74a2ca1-0ffc-4119-9dd2-b13fc7aaf547'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'БІПРОЛОЛ-ЗДОРОВ’Я'
            AND m.package_qty = 30
            AND m.certificate = 'UA/14025/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/14025/01/03', '2019-11-06'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''4285dd93-0adc-47e3-b165-1b729d6089f3'', ''БІПРОЛОЛ-ЗДОРОВ’Я'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Фармацевтична компанія \"Здоров''''я\" ", "country": " Україна"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/14025/01/03'', ''2019-11-06'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''556f3b3e-cdb8-40da-82f7-826e31e83d5e'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "22.60"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''463297d8-4aab-4ff8-9a0f-ffa2c8674fe2'', ''{"type": "fixed", "reimbursement_amount": "22.60"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ab5e2e95-d483-4627-bee5-076d90e3a38f'', ''Бісопролол 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''2ce6beb2-20fe-4522-b0c7-5342aace4e12'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'БІСОПРОЛОЛ - АСТРАФАРМ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/8959/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/8959/01/03', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''cdc6f23e-a7c4-4881-9bf2-52e5bfd804f5'', ''БІСОПРОЛОЛ - АСТРАФАРМ'', ''BRAND'', ''{"name": "ТОВ \"АСТРАФАРМ\"", "country": " Україна"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/8959/01/03'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''30d03bce-4332-4e5c-a08a-7604f1dfd014'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "22.60"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''a36cc4b4-c5a6-4da0-9e9c-0cc87586b2a2'', ''{"type": "fixed", "reimbursement_amount": "22.60"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ab5e2e95-d483-4627-bee5-076d90e3a38f'', ''Бісопролол 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''b3bce7be-8a9c-453f-ac70-da573669efb8'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'БІСОПРОЛОЛ САНДОЗ®'
            AND m.package_qty = 90
            AND m.certificate = 'UA/4401/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/4401/01/02', '2020-11-27'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3c30c506-6d89-49bd-a688-72af41496b15'', ''БІСОПРОЛОЛ САНДОЗ®'', ''BRAND'', ''{"name": "Салютас Фарма ГмбХ", "country": " Німеччина"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 90, 90, ''UA/4401/01/02'', ''2020-11-27'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''df940082-081c-4474-aeff-469165743de2'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "67.81"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''1ed061ee-5405-4d0c-aa81-d9cfded7e540'', ''{"type": "fixed", "reimbursement_amount": "67.81"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ab5e2e95-d483-4627-bee5-076d90e3a38f'', ''Бісопролол 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''5f1d367d-fb4b-448c-afdf-5ef56e15c96a'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'БІСОПРОЛ®'
            AND m.package_qty = 20
            AND m.certificate = 'UA/3214/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/3214/01/02', '2020-03-30'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''b4455f05-a387-4fc9-b3db-b9d4e94a4a38'', ''БІСОПРОЛ®'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 20, 20, ''UA/3214/01/02'', ''2020-03-30'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''5c90cab7-8f74-4da2-9c10-d483f4dc0ecf'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "15.07"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''704fd06d-d181-470d-a3d6-3010a03a8c96'', ''{"type": "fixed", "reimbursement_amount": "15.07"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ab5e2e95-d483-4627-bee5-076d90e3a38f'', ''Бісопролол 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''67a00dbb-ac32-4550-8ed0-32fa0d584b2f'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'БІСОПРОЛОЛ САНДОЗ®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/4401/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/4401/01/02', '2020-11-27'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''b8bc205b-cd8e-4da3-9866-f206a2f4c216'', ''БІСОПРОЛОЛ САНДОЗ®'', ''BRAND'', ''{"name": "Салютас Фарма ГмбХ", "country": " Німеччина"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/4401/01/02'', ''2020-11-27'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''a894c441-23fc-408a-8c56-7ad5eeac3bf3'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "22.60"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''898a9a59-185c-405c-b460-fea12cad25fd'', ''{"type": "fixed", "reimbursement_amount": "22.60"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ab5e2e95-d483-4627-bee5-076d90e3a38f'', ''Бісопролол 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''2dbb0125-e253-4da3-950c-b3fec4399283'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'БІСОПРОЛОЛ-ТЕВА'
            AND m.package_qty = 30
            AND m.certificate = 'UA/1728/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/1728/01/02', '2021-03-16'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ba528844-1d7c-441d-a488-1d2ec039f07d'', ''БІСОПРОЛОЛ-ТЕВА'', ''BRAND'', ''{"name": "Меркле ГмбХ", "country": " Німеччина"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/1728/01/02'', ''2021-03-16'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''90ee52f2-b75c-4e0a-8e9e-87cd71d8c2b9'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "22.60"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''570fc213-c17e-4af8-879f-406b287e26d0'', ''{"type": "fixed", "reimbursement_amount": "22.60"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Бісопролол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Бісопролол 10 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ab5e2e95-d483-4627-bee5-076d90e3a38f'', ''Бісопролол 10 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''7bb419e5-c89d-4dc0-8e4e-f2e0bd2b0f8d'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 10
            AND m.name = 'БІСОПРОЛОЛ-ТЕВА'
            AND m.package_qty = 50
            AND m.certificate = 'UA/1728/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["C07AB07"]'::jsonb, 'UA/1728/01/02', '2021-03-16'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''840e5f82-8867-4e97-b6f6-62a6cb07305d'', ''БІСОПРОЛОЛ-ТЕВА'', ''BRAND'', ''{"name": "Меркле ГмбХ", "country": " Німеччина"}'', ''["C07AB07"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 50, 50, ''UA/1728/01/02'', ''2021-03-16'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''e51e5e95-3e08-4657-beae-fd202861f39c'', ''{"numerator_unit": "MG", "numerator_value": "10", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "37.67"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''8dac0e6b-1cd4-40ac-b97d-0629dcad0511'', ''{"type": "fixed", "reimbursement_amount": "37.67"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 500 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c3f17245-f227-4d0d-b822-ae6c982a9a3a'', ''Метформін 500 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''d121ea10-5477-4115-b44f-8d1b35658c80'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 500
            AND m.name = 'ДІАФОРМІН®'
            AND m.package_qty = 60
            AND m.certificate = 'UA/2508/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/2508/01/01', '2019-12-05'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''0123fdc1-6b51-4203-87de-2558b3cb5ed2'', ''ДІАФОРМІН®'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 60, 60, ''UA/2508/01/01'', ''2019-12-05'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''fa30c554-b0e9-4f1f-a133-902ee1e02a1c'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "33.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''cb8942b7-af75-45a8-9bac-a393f5841b31'', ''{"type": "fixed", "reimbursement_amount": "33.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 500 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c3f17245-f227-4d0d-b822-ae6c982a9a3a'', ''Метформін 500 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''2a00e6dd-c1f9-40ae-9cba-db4467eb65bb'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 500
            AND m.name = 'ДІАФОРМІН®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/2508/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/2508/01/01', '2019-12-05'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3e2bec6c-26bc-43db-912b-d4ba6a317811'', ''ДІАФОРМІН®'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/2508/01/01'', ''2019-12-05'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''a46c27b3-4df8-48cd-a25b-d16544d3f39b'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.56"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''a22ca921-7af5-47a6-aa98-5b02191b7550'', ''{"type": "fixed", "reimbursement_amount": "16.56"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 500 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c3f17245-f227-4d0d-b822-ae6c982a9a3a'', ''Метформін 500 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''5e23c978-b958-4476-83f8-7a0ccc9be4c0'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 500
            AND m.name = 'МЕТАМІН®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/11506/02/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/11506/02/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''1c5abee5-0692-4885-a04e-871e19de0efc'', ''МЕТАМІН®'', ''BRAND'', ''{"name": "ТОВ \"Кусум Фарм\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/11506/02/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''2c150f3b-b8be-4f64-a817-e0b75bbef7b3'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.56"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''112e9d21-c96c-4852-a48e-2f3b12041683'', ''{"type": "fixed", "reimbursement_amount": "16.56"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 500 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c3f17245-f227-4d0d-b822-ae6c982a9a3a'', ''Метформін 500 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''764a7962-c4dd-4ad7-8bb7-4f65f8d53d1e'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 500
            AND m.name = 'МЕТАМІН®'
            AND m.package_qty = 100
            AND m.certificate = 'UA/11506/02/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/11506/02/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''7cac6dec-b6ce-497b-a897-47b6938e7bfe'', ''МЕТАМІН®'', ''BRAND'', ''{"name": "ТОВ \"Кусум Фарм\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 100, 100, ''UA/11506/02/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''4e36e00a-7fb4-4371-80eb-e25f12406707'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "55.20"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''5b005a83-b044-4357-a441-809d4bee2e68'', ''{"type": "fixed", "reimbursement_amount": "55.20"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 500 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c3f17245-f227-4d0d-b822-ae6c982a9a3a'', ''Метформін 500 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''45f6d97d-f551-4451-9ca4-ba40910922b9'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 500
            AND m.name = 'МЕТФОРМІН ЗЕНТІВА'
            AND m.package_qty = 30
            AND m.certificate = 'UA/15295/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA03"]'::jsonb, 'UA/15295/01/01', '2021-07-07'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c23d69b9-dad8-42dc-b64e-eab407ff420d'', ''МЕТФОРМІН ЗЕНТІВА'', ''BRAND'', ''{"name": "Санофі Індія Лімітед ", "country": " Індія"}'', ''["A10BA03"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/15295/01/01'', ''2021-07-07'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''d174ea9a-c121-463a-a865-2b5a85555d5d'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.56"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''034fa176-308d-4609-8121-cc6851288302'', ''{"type": "fixed", "reimbursement_amount": "16.56"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 500 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c3f17245-f227-4d0d-b822-ae6c982a9a3a'', ''Метформін 500 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''d9a9a4aa-3a1e-4268-bc8d-72ee3a30b454'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 500
            AND m.name = 'МЕТФОРМІН-САНОФІ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/15295/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA03"]'::jsonb, 'UA/15295/01/01', '2021-07-07'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''b438c358-f184-4006-ade6-8236c9aec349'', ''МЕТФОРМІН-САНОФІ'', ''BRAND'', ''{"name": "Санофі Індія Лімітед ", "country": " Індія"}'', ''["A10BA03"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/15295/01/01'', ''2021-07-07'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''1c5ddf98-0949-4cd1-8398-f597f48cfa5b'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.56"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''d1e13c31-a68d-4efc-a8a5-c93a1f087cc2'', ''{"type": "fixed", "reimbursement_amount": "16.56"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 500 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c3f17245-f227-4d0d-b822-ae6c982a9a3a'', ''Метформін 500 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''0b1f897e-f54e-4e86-9651-b0fc428c9d1f'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 500
            AND m.name = 'МЕТФОРМІН-АСТРАФАРМ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/15739/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/15739/01/01', '2022-01-17'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''829ca841-291f-47e2-9234-efddd815f795'', ''МЕТФОРМІН-АСТРАФАРМ'', ''BRAND'', ''{"name": "ТОВ \"АСТРАФАРМ\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/15739/01/01'', ''2022-01-17'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''6ad98f2d-7ac8-4928-b558-cfcd400e75b4'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.56"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''ebab77bb-f752-4241-ad32-8c030ca40fa8'', ''{"type": "fixed", "reimbursement_amount": "16.56"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 500 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c3f17245-f227-4d0d-b822-ae6c982a9a3a'', ''Метформін 500 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''78be2f4c-4a1f-4062-82e3-dcbb653b1e10'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 500
            AND m.name = 'МЕТФОРМІН-АСТРАФАРМ'
            AND m.package_qty = 60
            AND m.certificate = 'UA/15739/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/15739/01/01', '2022-01-17'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''4f01324e-8d16-43b5-afc5-18e37efa3913'', ''МЕТФОРМІН-АСТРАФАРМ'', ''BRAND'', ''{"name": "ТОВ \"АСТРАФАРМ\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 60, 60, ''UA/15739/01/01'', ''2022-01-17'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''9d75bff0-8200-4f72-a8ad-febe36b715ca'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "33.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''826c501f-d0cc-4e82-ba82-14dc6293473f'', ''{"type": "fixed", "reimbursement_amount": "33.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 500 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c3f17245-f227-4d0d-b822-ae6c982a9a3a'', ''Метформін 500 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''1633ce22-fe6a-4f49-9fbf-f86add580e20'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 500
            AND m.name = 'МЕТФОРМІН ІНДАР'
            AND m.package_qty = 30
            AND m.certificate = 'UA/15947/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/15947/01/01', '2022-04-28'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''b8f34eab-6f40-4c5d-97ae-03d5617e56f8'', ''МЕТФОРМІН ІНДАР'', ''BRAND'', ''{"name": "ПрАТ \"По виробництву інсулінів \"ІНДАР\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/15947/01/01'', ''2022-04-28'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''f2f55060-61fc-4dfa-9c44-447e44e9baf9'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.56"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''badad650-ad3b-4392-b082-0705b6b3fc48'', ''{"type": "fixed", "reimbursement_amount": "16.56"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 500 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c3f17245-f227-4d0d-b822-ae6c982a9a3a'', ''Метформін 500 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''259e4348-5565-4ec6-b191-d45ab92e21f1'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 500
            AND m.name = 'МЕТФОРМІН ІНДАР'
            AND m.package_qty = 60
            AND m.certificate = 'UA/15947/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/15947/01/01', '2022-04-28'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''b3ad1433-1dbe-407e-8307-16ae79eb1515'', ''МЕТФОРМІН ІНДАР'', ''BRAND'', ''{"name": "ПрАТ \"По виробництву інсулінів \"ІНДАР\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 60, 60, ''UA/15947/01/01'', ''2022-04-28'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''eb7a7c85-97d9-45b8-9fd7-684b956a282d'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "33.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''088951c2-742a-4d51-8d28-35d6720a2ab2'', ''{"type": "fixed", "reimbursement_amount": "33.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 500 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c3f17245-f227-4d0d-b822-ae6c982a9a3a'', ''Метформін 500 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''6f5d0599-54f6-48d4-8837-87ec08ccbb6a'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 500
            AND m.name = 'МЕТФОРМІН-ТЕВА'
            AND m.package_qty = 30
            AND m.certificate = 'UA/7769/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/7769/01/01', '2019-12-05'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''2aaf5f41-468a-41fa-860a-038ec226162e'', ''МЕТФОРМІН-ТЕВА'', ''BRAND'', ''{"name": "ТОВ Тева Оперейшнз Поланд", "country": " Польща"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/7769/01/01'', ''2019-12-05'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''d981a5aa-9e33-4195-a3f1-1ba87b3304e3'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.56"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''ee166468-0d00-4f20-8cfc-3c9ff7ffddc8'', ''{"type": "fixed", "reimbursement_amount": "16.56"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 500 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c3f17245-f227-4d0d-b822-ae6c982a9a3a'', ''Метформін 500 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''08debb48-05ec-49a0-ae87-3625dce92637'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 500
            AND m.name = 'МЕФАРМІЛ®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/14013/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/14013/01/01', '2019-11-06'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''b2b21535-6adf-4cc1-b2d0-61f408ed9dae'', ''МЕФАРМІЛ®'', ''BRAND'', ''{"name": "ПАТ \"Київмедпрепарат\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/14013/01/01'', ''2019-11-06'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''832d0619-38c9-4bdd-984e-7e4012fd8c5a'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.56"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''a39f061b-01a2-4458-bfe0-0833021db42e'', ''{"type": "fixed", "reimbursement_amount": "16.56"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 500 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c3f17245-f227-4d0d-b822-ae6c982a9a3a'', ''Метформін 500 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''972bdb86-e935-40e7-8278-8224d9addc58'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 500
            AND m.name = 'МЕФАРМІЛ®'
            AND m.package_qty = 60
            AND m.certificate = 'UA/14013/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/14013/01/01', '2019-11-06'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''1d3a861a-097b-4071-8c36-c3884f799ee7'', ''МЕФАРМІЛ®'', ''BRAND'', ''{"name": "ПАТ \"Київмедпрепарат\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 60, 60, ''UA/14013/01/01'', ''2019-11-06'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''75ad4b5d-a34d-4f20-80b9-3cbad167241f'', ''{"numerator_unit": "MG", "numerator_value": "500", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "33.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''35ef5824-c632-406f-bc90-6bb93d7cfa38'', ''{"type": "fixed", "reimbursement_amount": "33.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 850 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3006fccf-0c89-4155-9881-1a09ef0c6bb3'', ''Метформін 850 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''9398c17b-9dc6-4b33-b22a-f9ebe2686b3d'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 850
            AND m.name = 'ДІАФОРМІН®'
            AND m.package_qty = 60
            AND m.certificate = 'UA/2508/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/2508/01/02', '2019-12-05'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''be2fff7a-a075-4ea1-baf3-1d2a0b6b565f'', ''ДІАФОРМІН®'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 60, 60, ''UA/2508/01/02'', ''2019-12-05'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''cd4d2eb7-a64d-4598-bec3-01390dc0f6ea'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "56.31"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''c4a93b63-7420-400d-a027-13e79eb3197a'', ''{"type": "fixed", "reimbursement_amount": "56.31"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 850 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3006fccf-0c89-4155-9881-1a09ef0c6bb3'', ''Метформін 850 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''f9ddbfd7-37d1-484b-a341-1b169516d8cb'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 850
            AND m.name = 'ДІАФОРМІН®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/2508/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/2508/01/02', '2019-12-05'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''7827c5fe-75bc-4e23-9301-b431996127cb'', ''ДІАФОРМІН®'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/2508/01/02'', ''2019-12-05'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''df4ea339-bb63-4fd7-98d7-1f8f51aaee0c'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "28.15"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''3a5f5789-3815-4b32-b36b-b1be798176ad'', ''{"type": "fixed", "reimbursement_amount": "28.15"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 850 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3006fccf-0c89-4155-9881-1a09ef0c6bb3'', ''Метформін 850 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''b770ca43-b77a-4751-ad06-b524aaa9759b'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 850
            AND m.name = 'МЕТАМІН®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/11506/02/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/11506/02/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''c1dabb95-636b-4aeb-b379-c66313b827da'', ''МЕТАМІН®'', ''BRAND'', ''{"name": "ТОВ \"Кусум Фарм\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/11506/02/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''b28e1a55-be37-40cb-b9de-7aa33c014e11'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "28.15"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''d1ea87fc-7206-4b6e-af4e-becd35c67054'', ''{"type": "fixed", "reimbursement_amount": "28.15"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 850 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3006fccf-0c89-4155-9881-1a09ef0c6bb3'', ''Метформін 850 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''375c5b83-da1d-4e8c-bbf4-16a55738b23b'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 850
            AND m.name = 'МЕТАМІН®'
            AND m.package_qty = 100
            AND m.certificate = 'UA/11506/02/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/11506/02/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''dca1f3e9-a948-4cff-9c2b-3739349d8142'', ''МЕТАМІН®'', ''BRAND'', ''{"name": "ТОВ \"Кусум Фарм\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 100, 100, ''UA/11506/02/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''939c33fe-d54a-46b4-a52c-107af021850b'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "93.85"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''00fccd21-578b-4e4a-9078-a78680f8f716'', ''{"type": "fixed", "reimbursement_amount": "93.85"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 850 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3006fccf-0c89-4155-9881-1a09ef0c6bb3'', ''Метформін 850 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''1ef7c5f2-6d93-45e5-b44c-eae1e65259f3'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 850
            AND m.name = 'МЕТФОРМІН ЗЕНТІВА'
            AND m.package_qty = 30
            AND m.certificate = 'UA/15295/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA03"]'::jsonb, 'UA/15295/01/02', '2021-07-07'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''4ad9b7d9-875c-445c-b026-d226977766b4'', ''МЕТФОРМІН ЗЕНТІВА'', ''BRAND'', ''{"name": "Санофі Індія Лімітед ", "country": " Індія"}'', ''["A10BA03"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/15295/01/02'', ''2021-07-07'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''f140a989-8d6f-4158-aee3-cb3c2414759f'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "28.15"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''20e6681b-f061-473b-9adc-bcbc3ba3a88a'', ''{"type": "fixed", "reimbursement_amount": "28.15"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 850 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3006fccf-0c89-4155-9881-1a09ef0c6bb3'', ''Метформін 850 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''6af00e74-06b1-447f-9b79-fde3567776c1'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 850
            AND m.name = 'МЕТФОРМІН-САНОФІ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/15295/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA03"]'::jsonb, 'UA/15295/01/02', '2021-07-07'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''bc16d02e-df3d-444d-932e-b07fac85da4d'', ''МЕТФОРМІН-САНОФІ'', ''BRAND'', ''{"name": "Санофі Індія Лімітед ", "country": " Індія"}'', ''["A10BA03"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/15295/01/02'', ''2021-07-07'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''5ff8a9e1-aca3-44da-8cc2-5c94ff69b012'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "28.15"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''c0db2ed9-8197-4d05-a565-5703026d2c72'', ''{"type": "fixed", "reimbursement_amount": "28.15"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 850 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3006fccf-0c89-4155-9881-1a09ef0c6bb3'', ''Метформін 850 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''851480ea-975a-424c-b494-70865f3b909f'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 850
            AND m.name = 'МЕТФОРМІН-АСТРАФАРМ'
            AND m.package_qty = 60
            AND m.certificate = 'UA/15739/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/15739/01/02', '2022-01-17'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''399e40a0-cd35-4d1b-8cd6-84beabe3af09'', ''МЕТФОРМІН-АСТРАФАРМ'', ''BRAND'', ''{"name": "ТОВ \"АСТРАФАРМ\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 60, 60, ''UA/15739/01/02'', ''2022-01-17'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''40377f97-8c2d-4c8f-b20f-72017d9da037'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "56.31"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''a63d2927-0274-46d4-9426-4793ceffadf0'', ''{"type": "fixed", "reimbursement_amount": "56.31"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 850 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3006fccf-0c89-4155-9881-1a09ef0c6bb3'', ''Метформін 850 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''db795b4c-440a-4e27-bda3-bbcb1a14848a'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 850
            AND m.name = 'МЕТФОРМІН-АСТРАФАРМ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/15739/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/15739/01/02', '2022-01-17'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''cf4c216f-8a6a-41ef-bd45-89039ecfd356'', ''МЕТФОРМІН-АСТРАФАРМ'', ''BRAND'', ''{"name": "ТОВ \"АСТРАФАРМ\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/15739/01/02'', ''2022-01-17'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''3ca2818c-c21a-417b-a164-731b0bc7f9bf'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "28.15"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''02a1ecf7-1266-4636-bbe2-11dff94d476c'', ''{"type": "fixed", "reimbursement_amount": "28.15"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 850 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3006fccf-0c89-4155-9881-1a09ef0c6bb3'', ''Метформін 850 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''a2a0cfee-a271-476f-9ec5-5c6a878b3633'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 850
            AND m.name = 'МЕТФОРМІН-ТЕВА'
            AND m.package_qty = 30
            AND m.certificate = 'UA/7795/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/7795/01/02', '2019-12-05'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''6eda50bf-376f-40d1-b237-d656a2d3fe8b'', ''МЕТФОРМІН-ТЕВА'', ''BRAND'', ''{"name": "ТОВ Тева Оперейшнз Поланд", "country": " Польща"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/7795/01/02'', ''2019-12-05'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''1ff0f95c-38d6-4648-890b-85009b78104c'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "28.15"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''1af3f211-ae83-4fef-978d-a0ee935f532e'', ''{"type": "fixed", "reimbursement_amount": "28.15"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 850 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3006fccf-0c89-4155-9881-1a09ef0c6bb3'', ''Метформін 850 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''5334a8a4-146a-4d6d-9cda-05c22d51d0ae'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 850
            AND m.name = 'МЕФАРМІЛ®'
            AND m.package_qty = 60
            AND m.certificate = 'UA/14013/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/14013/01/02', '2019-11-06'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e874b636-e1cf-4507-8e4e-864b6a4626f1'', ''МЕФАРМІЛ®'', ''BRAND'', ''{"name": "ПАТ \"Київмедпрепарат\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 60, 60, ''UA/14013/01/02'', ''2019-11-06'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''cc9cf9e9-8f02-488d-be91-316aa0828957'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "56.31"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''31219123-5597-42fb-9f52-d59bc84ddcba'', ''{"type": "fixed", "reimbursement_amount": "56.31"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 850 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3006fccf-0c89-4155-9881-1a09ef0c6bb3'', ''Метформін 850 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''4ff32510-34d1-46d6-a044-6feb7f613f22'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 850
            AND m.name = 'МЕФАРМІЛ®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/14013/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/14013/01/02', '2019-11-06'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''fd730b3a-f780-4863-9893-5af932c708c3'', ''МЕФАРМІЛ®'', ''BRAND'', ''{"name": "ПАТ \"Київмедпрепарат\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/14013/01/02'', ''2019-11-06'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''cb32fe8b-81ab-4df1-89bb-cc2360375c32'', ''{"numerator_unit": "MG", "numerator_value": "850", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "28.15"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''1f8a9a21-dae1-4e74-8f7a-f42896b6102d'', ''{"type": "fixed", "reimbursement_amount": "28.15"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 1000 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e365fe61-3bff-4524-8cab-597543155ea3'', ''Метформін 1000 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''110fa957-b624-4558-9b6a-a77c223ead65'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 1000
            AND m.name = 'ДІАФОРМІН®'
            AND m.package_qty = 60
            AND m.certificate = 'UA/15141/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/15141/01/03', '2021-05-12'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''af0819f9-f39e-44e2-a9f9-4b69e10d07ad'', ''ДІАФОРМІН®'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 60, 60, ''UA/15141/01/03'', ''2021-05-12'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''ee893cb4-2510-43cd-aae6-6a93563d9153'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "66.24"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''d302e0ae-d4be-4975-bda1-50d224c0bcef'', ''{"type": "fixed", "reimbursement_amount": "66.24"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 1000 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e365fe61-3bff-4524-8cab-597543155ea3'', ''Метформін 1000 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''68de8f35-2345-454e-83b5-41f4b662b44b'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 1000
            AND m.name = 'ДІАФОРМІН®'
            AND m.package_qty = 60
            AND m.certificate = 'UA/11857/02/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/11857/02/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''fd009adf-2d90-4e73-b7e4-7d048b291157'', ''ДІАФОРМІН®'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 60, 60, ''UA/11857/02/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''b63fc413-1e6c-4b35-9fb6-e25e47f2d711'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "66.24"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''f20ea73f-3db1-43c7-8942-a929a61ca164'', ''{"type": "fixed", "reimbursement_amount": "66.24"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 1000 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e365fe61-3bff-4524-8cab-597543155ea3'', ''Метформін 1000 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''0d7d1062-a039-4ab0-8913-432f69ca735a'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 1000
            AND m.name = 'МЕТАМІН®'
            AND m.package_qty = 30
            AND m.certificate = 'UA/11506/02/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/11506/02/03', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''eb517aeb-84ca-4d4f-a830-716c82abc83e'', ''МЕТАМІН®'', ''BRAND'', ''{"name": "ТОВ \"Кусум Фарм\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/11506/02/03'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''d1f8c765-3dba-4441-a670-8201de19c950'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "33.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''4461d510-703e-4963-a915-b43d9d79237a'', ''{"type": "fixed", "reimbursement_amount": "33.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 1000 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e365fe61-3bff-4524-8cab-597543155ea3'', ''Метформін 1000 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''a2dd7baf-a135-453a-8afa-3928712d58b4'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 1000
            AND m.name = 'МЕТАМІН®'
            AND m.package_qty = 90
            AND m.certificate = 'UA/11506/02/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/11506/02/03', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''cc1e89d1-f7e9-42da-a1a1-ff5544d15165'', ''МЕТАМІН®'', ''BRAND'', ''{"name": "ТОВ \"Кусум Фарм\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 90, 90, ''UA/11506/02/03'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''dead5682-6b2d-4a33-ac83-dc10213775cf'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "99.37"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''79a202e1-9ed0-4bd7-bd59-2d37cbb1a6b3'', ''{"type": "fixed", "reimbursement_amount": "99.37"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 1000 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e365fe61-3bff-4524-8cab-597543155ea3'', ''Метформін 1000 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''64a39e55-39d4-45fa-be27-c31f22b55dd0'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 1000
            AND m.name = 'МЕТФОРМІН ЗЕНТІВА'
            AND m.package_qty = 30
            AND m.certificate = 'UA/15295/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA03"]'::jsonb, 'UA/15295/01/03', '2021-07-07'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''6a2f17a4-76bb-4ceb-99e9-7aeffbe47d32'', ''МЕТФОРМІН ЗЕНТІВА'', ''BRAND'', ''{"name": "Санофі Індія Лімітед ", "country": " Індія"}'', ''["A10BA03"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/15295/01/03'', ''2021-07-07'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''1878cab4-b436-4946-993c-2fe01be260cf'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "33.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''0a19737e-ccc8-4768-b8fe-39687dfbe5ec'', ''{"type": "fixed", "reimbursement_amount": "33.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 1000 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e365fe61-3bff-4524-8cab-597543155ea3'', ''Метформін 1000 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''981062e8-4fd0-4c5c-9d87-bc8a26737ed8'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 1000
            AND m.name = 'МЕТФОРМІН-САНОФІ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/15295/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA03"]'::jsonb, 'UA/15295/01/03', '2021-07-07'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ca484ac1-aa8a-4f62-8db3-bdb6cd150fa0'', ''МЕТФОРМІН-САНОФІ'', ''BRAND'', ''{"name": "Санофі Індія Лімітед ", "country": " Індія"}'', ''["A10BA03"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/15295/01/03'', ''2021-07-07'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''85f959ce-ff6b-4b51-b35e-a5e5eef83c17'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "33.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''0bf8f982-f7f9-436c-97b0-aee457269149'', ''{"type": "fixed", "reimbursement_amount": "33.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 1000 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e365fe61-3bff-4524-8cab-597543155ea3'', ''Метформін 1000 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''27163357-214d-4655-8601-8191d0981a0a'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 1000
            AND m.name = 'МЕТФОРМІН-АСТРАФАРМ'
            AND m.package_qty = 30
            AND m.certificate = 'UA/15739/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/15739/01/03', '2022-01-17'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''fd7b1d94-c33a-4832-a05c-01a9e446023c'', ''МЕТФОРМІН-АСТРАФАРМ'', ''BRAND'', ''{"name": "ТОВ \"АСТРАФАРМ\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/15739/01/03'', ''2022-01-17'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''f86eae51-1d8b-4e52-8cbb-d0f0db6ecfba'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "33.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''ef42e170-36ad-4d67-baee-2d7e05126ae5'', ''{"type": "fixed", "reimbursement_amount": "33.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 1000 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e365fe61-3bff-4524-8cab-597543155ea3'', ''Метформін 1000 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''7108f1b4-701f-41e0-b333-256b4ed29450'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 1000
            AND m.name = 'МЕТФОРМІН-АСТРАФАРМ'
            AND m.package_qty = 60
            AND m.certificate = 'UA/15739/01/03';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/15739/01/03', '2022-01-17'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ed445601-58c8-414f-b250-6d790050c48b'', ''МЕТФОРМІН-АСТРАФАРМ'', ''BRAND'', ''{"name": "ТОВ \"АСТРАФАРМ\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 60, 60, ''UA/15739/01/03'', ''2022-01-17'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''33611f0e-50a6-4ac4-82bd-2904bfbdf2c2'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "66.24"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''426f2e66-bce7-4287-8ff9-ce850d5d58c5'', ''{"type": "fixed", "reimbursement_amount": "66.24"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 1000 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e365fe61-3bff-4524-8cab-597543155ea3'', ''Метформін 1000 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''bbb80e25-4135-47ce-872e-d37c30dbc8bc'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 1000
            AND m.name = 'МЕТФОРМІН ІНДАР'
            AND m.package_qty = 30
            AND m.certificate = 'UA/15947/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/15947/01/02', '2022-04-28'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e4a8da08-7135-4c51-9f69-b27a876ee712'', ''МЕТФОРМІН ІНДАР'', ''BRAND'', ''{"name": "ПрАТ \"По виробництву інсулінів \"ІНДАР\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/15947/01/02'', ''2022-04-28'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''d2e4943a-7434-4626-bfa0-c6fb5aeae282'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "33.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''6e632162-71c0-49e7-b6ca-7c88e468c7c3'', ''{"type": "fixed", "reimbursement_amount": "33.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 1000 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e365fe61-3bff-4524-8cab-597543155ea3'', ''Метформін 1000 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''31255459-d129-4d93-91df-010bc7d3a9c7'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 1000
            AND m.name = 'МЕТФОРМІН ІНДАР'
            AND m.package_qty = 60
            AND m.certificate = 'UA/15947/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/15947/01/02', '2022-04-28'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''bfc606c8-296e-4945-bd48-b3863f396cb1'', ''МЕТФОРМІН ІНДАР'', ''BRAND'', ''{"name": "ПрАТ \"По виробництву інсулінів \"ІНДАР\"", "country": " Україна"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 60, 60, ''UA/15947/01/02'', ''2022-04-28'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''d6e509a9-bf79-400e-a5a5-437f8211ee81'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "66.24"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''15af093f-e33d-4405-a4ab-74be4d7063ad'', ''{"type": "fixed", "reimbursement_amount": "66.24"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Метформін' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Метформін 1000 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''e365fe61-3bff-4524-8cab-597543155ea3'', ''Метформін 1000 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''50e4d65f-6ec5-42c9-a82b-7db225a2f0f1'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 1000
            AND m.name = 'МЕТФОРМІН-ТЕВА'
            AND m.package_qty = 30
            AND m.certificate = 'UA/12382/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BA02"]'::jsonb, 'UA/12382/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''66b1a39d-953d-4eae-b682-d3aa578b9b7f'', ''МЕТФОРМІН-ТЕВА'', ''BRAND'', ''{"name": "Тева Фармацевтікал Індастріз Лтд.", "country": " Угорщина"}'', ''["A10BA02"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/12382/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''f360c796-f04a-4d51-bb3e-ee9670d257dd'', ''{"numerator_unit": "MG", "numerator_value": "1000", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "33.12"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''3c0f10de-8601-421f-a43c-0f8f532fa1e4'', ''{"type": "fixed", "reimbursement_amount": "33.12"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Гліклазид' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Гліклазид 60 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''f0f4c855-31b3-4939-af65-8a4b0946db4c'', ''Гліклазид 60 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''c798f549-8013-4bbc-9445-00b7c1ba9908'', ''{"numerator_unit": "MG", "numerator_value": "60", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 60
            AND m.name = 'ГЛІКЛАДА'
            AND m.package_qty = 30
            AND m.certificate = 'UA/14151/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BB09"]'::jsonb, 'UA/14151/01/01', '202019-12-29'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''5451d20d-1f0b-4193-9a24-a4c1b5d00946'', ''ГЛІКЛАДА'', ''BRAND'', ''{"name": "КРКА", "country": " Словенія"}'', ''["A10BB09"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/14151/01/01'', ''202019-12-29'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''0be0fd60-dfeb-4142-b79d-fd778468819e'', ''{"numerator_unit": "MG", "numerator_value": "60", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "36.68"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''37dcba90-2409-4ecc-80c6-5bd490c3456b'', ''{"type": "fixed", "reimbursement_amount": "36.68"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Гліклазид' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Гліклазид 60 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''f0f4c855-31b3-4939-af65-8a4b0946db4c'', ''Гліклазид 60 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''cb58bd7c-f3f7-4f59-863a-3f1b44579c73'', ''{"numerator_unit": "MG", "numerator_value": "60", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 60
            AND m.name = 'ДІАБЕТОН® MR 60 мг'
            AND m.package_qty = 30
            AND m.certificate = 'UA/2158/02/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BB09"]'::jsonb, 'UA/2158/02/02', '2021-03-16'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''2044bc11-8126-40f9-b0ff-047eaed397dd'', ''ДІАБЕТОН® MR 60 мг'', ''BRAND'', ''{"name": "Лабораторії Серв''''є Індастрі", "country": " Франція"}'', ''["A10BB09"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/2158/02/02'', ''2021-03-16'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''7fb6f744-d4e7-4c48-ac76-b49bc95ccb19'', ''{"numerator_unit": "MG", "numerator_value": "60", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "36.68"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''a424818a-7a0d-4dd0-9757-bf96b9fc3ae7'', ''{"type": "fixed", "reimbursement_amount": "36.68"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Гліклазид' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Гліклазид 80 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''308cfdc4-0051-41ba-8adc-99fb35954d36'', ''Гліклазид 80 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''7f6463af-ba52-4c91-bb36-5cc26d9485bc'', ''{"numerator_unit": "MG", "numerator_value": "80", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 80
            AND m.name = 'ДІАГЛІЗИД®'
            AND m.package_qty = 60
            AND m.certificate = 'UA/6986/02/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BB09"]'::jsonb, 'UA/6986/02/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''8c2798c1-28d9-4861-aca0-4cbe134b7108'', ''ДІАГЛІЗИД®'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["A10BB09"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 60, 60, ''UA/6986/02/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''80c07f9e-7c1c-4deb-9b6b-3010f72ab1be'', ''{"numerator_unit": "MG", "numerator_value": "80", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "97.81"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''9643bbb1-b55e-4366-93e5-ba1f99e6b93d'', ''{"type": "fixed", "reimbursement_amount": "97.81"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Гліклазид' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Гліклазид 30 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''a6b0fba3-6fa3-4e59-8c81-2ace5246f8be'', ''Гліклазид 30 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''67ab55b4-68f4-4219-8dfd-ccf539b67225'', ''{"numerator_unit": "MG", "numerator_value": "30", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 30
            AND m.name = 'ДІАГЛІЗИД® MR'
            AND m.package_qty = 30
            AND m.certificate = 'UA/6986/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BB09"]'::jsonb, 'UA/6986/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''0ece464e-be71-4910-a6f7-f0d19da86aa0'', ''ДІАГЛІЗИД® MR'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["A10BB09"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/6986/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''c7b8a5f1-cec6-4013-a887-a60de8c74a48'', ''{"numerator_unit": "MG", "numerator_value": "30", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "18.34"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''5ebee01f-d9a9-4372-bf6c-a96915dd1776'', ''{"type": "fixed", "reimbursement_amount": "18.34"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Гліклазид' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Гліклазид 30 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''a6b0fba3-6fa3-4e59-8c81-2ace5246f8be'', ''Гліклазид 30 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''13faa113-8d3a-4710-acfd-1d6836dbcc05'', ''{"numerator_unit": "MG", "numerator_value": "30", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 30
            AND m.name = 'ДІАГЛІЗИД® MR'
            AND m.package_qty = 60
            AND m.certificate = 'UA/6986/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BB09"]'::jsonb, 'UA/6986/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''20707013-935e-486e-8070-87642722f1fc'', ''ДІАГЛІЗИД® MR'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["A10BB09"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 60, 60, ''UA/6986/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''69ea29d5-7cda-4fd5-a02e-0ba41890a37d'', ''{"numerator_unit": "MG", "numerator_value": "30", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "36.68"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''331d262c-f3f7-4805-aa6d-e1bd45b339c5'', ''{"type": "fixed", "reimbursement_amount": "36.68"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Гліклазид' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Гліклазид 60 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''f0f4c855-31b3-4939-af65-8a4b0946db4c'', ''Гліклазид 60 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''7d3cb454-27bf-4ae8-a3e2-9a8e7a8d131f'', ''{"numerator_unit": "MG", "numerator_value": "60", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 60
            AND m.name = 'ДІАГЛІЗИД® MR'
            AND m.package_qty = 30
            AND m.certificate = 'UA/6986/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BB09"]'::jsonb, 'UA/6986/01/02', '2019-05-28'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9b59a8e0-4283-4f0b-8532-f8abc19b1b35'', ''ДІАГЛІЗИД® MR'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["A10BB09"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/6986/01/02'', ''2019-05-28'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''4cc2d8f3-c57a-41c7-8746-904c0ad6c612'', ''{"numerator_unit": "MG", "numerator_value": "60", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "36.68"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''9287b739-7b8d-400c-a987-7957861d31fb'', ''{"type": "fixed", "reimbursement_amount": "36.68"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Гліклазид' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Гліклазид 80 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''308cfdc4-0051-41ba-8adc-99fb35954d36'', ''Гліклазид 80 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''bc77f29b-1c3e-4588-ac78-05ac484533fe'', ''{"numerator_unit": "MG", "numerator_value": "80", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 80
            AND m.name = 'ГЛІКЛАЗИД-ЗДОРОВ''Я'
            AND m.package_qty = 30
            AND m.certificate = 'UA/7826/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BB09"]'::jsonb, 'UA/7826/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''083efde5-8993-407b-a376-2da7edfc541f'', ''ГЛІКЛАЗИД-ЗДОРОВ''''Я'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Фармацевтична компанія \"Здоров''''я\" ", "country": " Україна"}'', ''["A10BB09"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/7826/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''93099ce4-faf1-4c76-95bb-360138d475d1'', ''{"numerator_unit": "MG", "numerator_value": "80", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "48.90"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''70e96298-a92a-43c4-baf2-6e8e2ca6f36d'', ''{"type": "fixed", "reimbursement_amount": "48.90"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Гліклазид' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Гліклазид 60 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''f0f4c855-31b3-4939-af65-8a4b0946db4c'', ''Гліклазид 60 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''0c58c81d-fe9d-42a2-b17c-3e4a70641990'', ''{"numerator_unit": "MG", "numerator_value": "60", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 60
            AND m.name = 'ГЛІКЛАЗІД-ТЕВА'
            AND m.package_qty = 30
            AND m.certificate = 'UA/16821/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BB09"]'::jsonb, 'UA/16821/01/02', '2023-07-13'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''571913df-4aa6-41f1-a479-e8f999681166'', ''ГЛІКЛАЗІД-ТЕВА'', ''BRAND'', ''{"name": "Балканфарма - Дупниця АТ", "country": " Болгарія"}'', ''["A10BB09"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/16821/01/02'', ''2023-07-13'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''ef76b8cb-4039-4ab3-b8f7-03034fd5b134'', ''{"numerator_unit": "MG", "numerator_value": "60", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "36.68"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''0add3714-f833-4a39-8547-f32adbcc4fef'', ''{"type": "fixed", "reimbursement_amount": "36.68"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Глібенкламід' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Глібенкламід 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''59b9f283-1c70-453e-996e-17fe9e8e99bc'', ''Глібенкламід 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''1cb7f1fe-8a8f-47d0-ba84-608dc42160df'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'ГЛІБЕНКЛАМІД'
            AND m.package_qty = 30
            AND m.certificate = 'UA/2820/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BB01"]'::jsonb, 'UA/2820/01/01', '2020-03-03'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''2c48e6b2-22e4-4332-b7f9-1f2e0e4a2238'', ''ГЛІБЕНКЛАМІД'', ''BRAND'', ''{"name": "ПрАТ \"Технолог\"", "country": " Україна"}'', ''["A10BB01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 30, 30, ''UA/2820/01/01'', ''2020-03-03'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''8c830ea1-0c71-4024-8770-43283175e12a'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "10.15"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''0cff8482-bf40-40a3-95da-f87fdc772b77'', ''{"type": "fixed", "reimbursement_amount": "10.15"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Глібенкламід' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Глібенкламід 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''59b9f283-1c70-453e-996e-17fe9e8e99bc'', ''Глібенкламід 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''a497f950-b340-4ad7-921d-ffbc78fb1cb0'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'ГЛІБЕНКЛАМІД-ЗДОРОВ''Я'
            AND m.package_qty = 50
            AND m.certificate = 'UA/4647/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BB01"]'::jsonb, 'UA/4647/01/01', '2020-10-26'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''61bb9777-753b-45e1-9a89-11dad9adc9f7'', ''ГЛІБЕНКЛАМІД-ЗДОРОВ''''Я'', ''BRAND'', ''{"name": "Товариство з обмеженою відповідальністю \"Фармацевтична компанія \"Здоров''''я\" ", "country": " Україна"}'', ''["A10BB01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 50, 50, ''UA/4647/01/01'', ''2020-10-26'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''a232ab23-2e00-49b9-84a4-9c88b229ff7c'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "16.92"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''9f2ea157-0169-4fd0-9594-a04a1f67251d'', ''{"type": "fixed", "reimbursement_amount": "16.92"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Глібенкламід' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Глібенкламід 5 MG таблетки' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''59b9f283-1c70-453e-996e-17fe9e8e99bc'', ''Глібенкламід 5 MG таблетки'', ''INNM_DOSAGE'', TRUE, ''TABLET'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''76fb6fa1-6758-410a-aed2-34116cbbe08e'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'TABLET'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 5
            AND m.name = 'ГЛІБЕНКЛАМІД'
            AND m.package_qty = 100
            AND m.certificate = 'UA/6631/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["A10BB01"]'::jsonb, 'UA/6631/01/01', '2020-10-26'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''32933c92-d3cd-485e-9386-9aba39bd93d2'', ''ГЛІБЕНКЛАМІД'', ''BRAND'', ''{"name": "ПАТ \"Фармак\"", "country": " Україна"}'', ''["A10BB01"]'', true, ''TABLET'', ''{"numerator_unit": "PILL", "numerator_value": 1, "denumerator_unit": "PILL", "denumerator_value": "1"}'', 100, 100, ''UA/6631/01/01'', ''2020-10-26'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''4d1d5fe4-c276-41d5-a5d4-ac46b924df18'', ''{"numerator_unit": "MG", "numerator_value": "5", "denumerator_unit": "PILL", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "33.84"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''326930dc-49d6-457f-8d95-dc893546eaa8'', ''{"type": "fixed", "reimbursement_amount": "33.84"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Беклометазон' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Беклометазон 100 MKG аерозоль для інгаляцій' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''6f1666e4-e6c2-435a-a6d6-0f70899d71bf'', ''Беклометазон 100 MKG аерозоль для інгаляцій'', ''INNM_DOSAGE'', TRUE, ''AEROSOL_FOR_INHALATION'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''b72436ee-de2f-4321-ba3a-42d027991663'', ''{"numerator_unit": "MKG", "numerator_value": "100", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'AEROSOL_FOR_INHALATION'
            AND i.dosage ->> 'numerator_unit' = 'MKG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'БЕКЛАЗОН-ЕКО'
            AND m.package_qty = 200
            AND m.certificate = 'UA/5384/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["R03BA01"]'::jsonb, 'UA/5384/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''4d228c11-8983-4a2e-8ab7-f9521269ec73'', ''БЕКЛАЗОН-ЕКО'', ''BRAND'', ''{"name": "Нортон (Ватерфорд) Лімітед Т/А АЙВЕКС Фармасьютикалз Ірландія Т/А Тева Фармасьютикалз Ірландія", "country": " Ірландія"}'', ''["R03BA01"]'', true, ''AEROSOL_FOR_INHALATION'', ''{"numerator_unit": "DOSE", "numerator_value": 1, "denumerator_unit": "AEROSOL", "denumerator_value": "1"}'', 200, 200, ''UA/5384/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''c9dd0f76-0527-4298-8f52-da844c1f904b'', ''{"numerator_unit": "MKG", "numerator_value": "100", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "89.48"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''921f6f7a-6e06-4267-8793-9523db071d06'', ''{"type": "fixed", "reimbursement_amount": "89.48"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Беклометазон' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Беклометазон 250 MKG аерозоль для інгаляцій, дозований' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3e52e5b3-3c37-41ac-897b-655346b663d6'', ''Беклометазон 250 MKG аерозоль для інгаляцій, дозований'', ''INNM_DOSAGE'', TRUE, ''AEROSOL_FOR_INHALATION_DOSED'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''c626b178-5328-4bab-a8ae-354944c25565'', ''{"numerator_unit": "MKG", "numerator_value": "250", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'AEROSOL_FOR_INHALATION_DOSED'
            AND i.dosage ->> 'numerator_unit' = 'MKG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 250
            AND m.name = 'БЕКЛОФОРТ ЕВОХАЛЕР'
            AND m.package_qty = 200
            AND m.certificate = 'UA/1203/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["R03BA01"]'::jsonb, 'UA/1203/01/01', '2019-08-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''bec79cc5-d445-499a-98aa-5fd47b190e67'', ''БЕКЛОФОРТ ЕВОХАЛЕР'', ''BRAND'', ''{"name": "Глаксо Веллком Продакшн", "country": " Франція"}'', ''["R03BA01"]'', true, ''AEROSOL_FOR_INHALATION_DOSED'', ''{"numerator_unit": "DOSE", "numerator_value": 1, "denumerator_unit": "AEROSOL", "denumerator_value": "1"}'', 200, 200, ''UA/1203/01/01'', ''2019-08-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''bab39cb3-6845-4d86-9a79-df5f0a9d9795'', ''{"numerator_unit": "MKG", "numerator_value": "250", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "223.69"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''6b447d4e-5cab-4634-b468-9964c22876fb'', ''{"type": "fixed", "reimbursement_amount": "223.69"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Будесонід' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Будесонід 0.5 MG суспензія для розпилення' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''eabb545d-5723-4480-9f6a-fff0a05bf49c'', ''Будесонід 0.5 MG суспензія для розпилення'', ''INNM_DOSAGE'', TRUE, ''NEBULISER_SUSPENSION'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''8a4dc64a-eab8-4175-84f9-fbd55986fbe4'', ''{"numerator_unit": "MG", "numerator_value": "0.5", "denumerator_unit": "ML", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'NEBULISER_SUSPENSION'
            AND i.dosage ->> 'numerator_unit' = 'MG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 0.5
            AND m.name = 'ПУЛЬМІКОРТ'
            AND m.package_qty = 40
            AND m.certificate = 'UA/5552/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["R03BA02"]'::jsonb, 'UA/5552/01/02', '2021-08-15'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''88dae7ac-3552-4433-afe8-7f3e59983bfb'', ''ПУЛЬМІКОРТ'', ''BRAND'', ''{"name": "АстраЗенека АБ", "country": " Швеція"}'', ''["R03BA02"]'', true, ''NEBULISER_SUSPENSION'', ''{"numerator_unit": "ML", "numerator_value": 1, "denumerator_unit": "CONTAINER", "denumerator_value": "1"}'', 40, 40, ''UA/5552/01/02'', ''2021-08-15'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''3a7d3588-a9eb-4de2-9b93-fcd68e7a4481'', ''{"numerator_unit": "MG", "numerator_value": "0.5", "denumerator_unit": "ML", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "898.22"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''e573770a-6c59-4d1a-93d3-ffc10f88b82a'', ''{"type": "fixed", "reimbursement_amount": "898.22"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Будесонід' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Будесонід 50 MKG інгаляція під тиском, суспензія' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''1adda81d-d871-4ccc-81ec-90efdb9bdc82'', ''Будесонід 50 MKG інгаляція під тиском, суспензія'', ''INNM_DOSAGE'', TRUE, ''PRESSURISED_INHALATION'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''c03ac3a0-3ecf-4097-b55b-505086612365'', ''{"numerator_unit": "MKG", "numerator_value": "50", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'PRESSURISED_INHALATION'
            AND i.dosage ->> 'numerator_unit' = 'MKG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 50
            AND m.name = 'БУДЕСОНІД-ІНТЕЛІ'
            AND m.package_qty = 200
            AND m.certificate = 'UA/12444/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["R03BA02"]'::jsonb, 'UA/12444/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''27a4b913-e994-4208-b7dd-3eecc1f0a217'', ''БУДЕСОНІД-ІНТЕЛІ'', ''BRAND'', ''{"name": "ЛАБОРАТОРІО АЛЬДО-ЮНІОН", "country": " Іспанія"}'', ''["R03BA02"]'', true, ''PRESSURISED_INHALATION'', ''{"numerator_unit": "DOSE", "numerator_value": 1, "denumerator_unit": "AEROSOL", "denumerator_value": "1"}'', 200, 200, ''UA/12444/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''83214291-d4da-461e-91bd-c9e0efab431f'', ''{"numerator_unit": "MKG", "numerator_value": "50", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "70.10"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''b1c255be-fd77-430c-b0c5-2ada36cf346c'', ''{"type": "fixed", "reimbursement_amount": "70.10"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Будесонід' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Будесонід 100 MKG порошок для інгаляцій' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''3ffaea85-f46b-4a78-bcec-48a27506ed0e'', ''Будесонід 100 MKG порошок для інгаляцій'', ''INNM_DOSAGE'', TRUE, ''INHALATION_POWDER'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''777d4afc-daca-443f-90f6-a4788b7d0719'', ''{"numerator_unit": "MKG", "numerator_value": "100", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'INHALATION_POWDER'
            AND i.dosage ->> 'numerator_unit' = 'MKG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'ПУЛЬМІКОРТ ТУРБУХАЛЕР'
            AND m.package_qty = 200
            AND m.certificate = 'UA/5552/02/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["R03BA02"]'::jsonb, 'UA/5552/02/01', '2019-07-03'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''62541325-3fb5-4b83-8afd-ae85949c9da8'', ''ПУЛЬМІКОРТ ТУРБУХАЛЕР'', ''BRAND'', ''{"name": "АстраЗенека АБ", "country": " Швеція"}'', ''["R03BA02"]'', true, ''INHALATION_POWDER'', ''{"numerator_unit": "DOSE", "numerator_value": 1, "denumerator_unit": "AEROSOL", "denumerator_value": "1"}'', 200, 200, ''UA/5552/02/01'', ''2019-07-03'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''2649d560-adc1-4e8f-802c-c494736b0a83'', ''{"numerator_unit": "MKG", "numerator_value": "100", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "140.21"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''97f8068e-2199-4792-9685-2250636ba7e1'', ''{"type": "fixed", "reimbursement_amount": "140.21"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Будесонід' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Будесонід 200 MKG порошок для інгаляцій' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''bfb556b6-4cbc-4b8f-bb78-10c41a6480f3'', ''Будесонід 200 MKG порошок для інгаляцій'', ''INNM_DOSAGE'', TRUE, ''INHALATION_POWDER'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''af36bf36-46a8-4090-b3dc-4b0281fd1ed0'', ''{"numerator_unit": "MKG", "numerator_value": "200", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'INHALATION_POWDER'
            AND i.dosage ->> 'numerator_unit' = 'MKG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 200
            AND m.name = 'ПУЛЬМІКОРТ ТУРБУХАЛЕР'
            AND m.package_qty = 100
            AND m.certificate = ' UA/5552/02/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["R03BA02"]'::jsonb, ' UA/5552/02/02', '2019-07-03'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''a596cf3a-6f17-40ea-a1ec-2285269f5936'', ''ПУЛЬМІКОРТ ТУРБУХАЛЕР'', ''BRAND'', ''{"name": "АстраЗенека АБ", "country": " Швеція"}'', ''["R03BA02"]'', true, ''INHALATION_POWDER'', ''{"numerator_unit": "DOSE", "numerator_value": 1, "denumerator_unit": "AEROSOL", "denumerator_value": "1"}'', 100, 100, '' UA/5552/02/02'', ''2019-07-03'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''229ee65b-0767-4824-a167-895291bd0f56'', ''{"numerator_unit": "MKG", "numerator_value": "200", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "140.21"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''fc5b111f-dfa8-4158-99a3-61b8baa43b1c'', ''{"type": "fixed", "reimbursement_amount": "140.21"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Будесонід' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Будесонід 200 MKG порошок для інгаляцій' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''bfb556b6-4cbc-4b8f-bb78-10c41a6480f3'', ''Будесонід 200 MKG порошок для інгаляцій'', ''INNM_DOSAGE'', TRUE, ''INHALATION_POWDER'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''551b4cbc-c854-4a66-bfbf-727850013bd8'', ''{"numerator_unit": "MKG", "numerator_value": "200", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'INHALATION_POWDER'
            AND i.dosage ->> 'numerator_unit' = 'MKG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 200
            AND m.name = 'БУДЕСОНІД ІЗІХЕЙЛЕР'
            AND m.package_qty = 200
            AND m.certificate = 'UA/14857/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["R03BA02"]'::jsonb, 'UA/14857/01/01', '2021-08-15'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''12417472-e2ec-435f-9d42-dfb40f5883ee'', ''БУДЕСОНІД ІЗІХЕЙЛЕР'', ''BRAND'', ''{"name": "Оріон Корпорейшн", "country": " Фінляндія"}'', ''["R03BA02"]'', true, ''INHALATION_POWDER'', ''{"numerator_unit": "DOSE", "numerator_value": 1, "denumerator_unit": "AEROSOL", "denumerator_value": "1"}'', 200, 200, ''UA/14857/01/01'', ''2021-08-15'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''5cbbdb45-0838-4da7-a960-069970ae606c'', ''{"numerator_unit": "MKG", "numerator_value": "200", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "280.41"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''4eb9e85c-8ba1-4110-9ce1-89f0251ec49e'', ''{"type": "fixed", "reimbursement_amount": "280.41"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Будесонід' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Будесонід 200 MKG інгаляція під тиском, суспензія' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''362c70ec-5e94-484d-a630-fa073c0999e5'', ''Будесонід 200 MKG інгаляція під тиском, суспензія'', ''INNM_DOSAGE'', TRUE, ''PRESSURISED_INHALATION'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''71da2397-8797-46f5-9571-4eb1d476e96f'', ''{"numerator_unit": "MKG", "numerator_value": "200", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'PRESSURISED_INHALATION'
            AND i.dosage ->> 'numerator_unit' = 'MKG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 200
            AND m.name = 'БУДЕСОНІД-ІНТЕЛІ'
            AND m.package_qty = 200
            AND m.certificate = 'UA/12444/01/02';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["R03BA02"]'::jsonb, 'UA/12444/01/02', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ee4c3777-dd16-46e5-8db5-3a64d49f6281'', ''БУДЕСОНІД-ІНТЕЛІ'', ''BRAND'', ''{"name": "ЛАБОРАТОРІО АЛЬДО-ЮНІОН", "country": " Іспанія"}'', ''["R03BA02"]'', true, ''PRESSURISED_INHALATION'', ''{"numerator_unit": "DOSE", "numerator_value": 1, "denumerator_unit": "AEROSOL", "denumerator_value": "1"}'', 200, 200, ''UA/12444/01/02'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''88ef3981-46e1-48a4-bb66-a37670eb323a'', ''{"numerator_unit": "MKG", "numerator_value": "200", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "280.41"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''06fda3fe-5b8d-4e64-98c2-fa410ba81ffa'', ''{"type": "fixed", "reimbursement_amount": "280.41"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Будесонід' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Будесонід 200 MKG порошок для інгаляцій' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''bfb556b6-4cbc-4b8f-bb78-10c41a6480f3'', ''Будесонід 200 MKG порошок для інгаляцій'', ''INNM_DOSAGE'', TRUE, ''INHALATION_POWDER'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''467bbcfd-31a1-4403-afc5-5a75acf7a054'', ''{"numerator_unit": "MKG", "numerator_value": "200", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'INHALATION_POWDER'
            AND i.dosage ->> 'numerator_unit' = 'MKG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 200
            AND m.name = 'НОВОПУЛЬМОН Е НОВОЛАЙЗЕР®'
            AND m.package_qty = 200
            AND m.certificate = 'UA/4376/02/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["R03BA02"]'::jsonb, 'UA/4376/02/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''9f5ebb52-d602-4e4f-b169-7cae283f04a3'', ''НОВОПУЛЬМОН Е НОВОЛАЙЗЕР®'', ''BRAND'', ''{"name": "МЕДА Фарма ГмбХ енд Ко. КГ ", "country": " Німеччина"}'', ''["R03BA02"]'', true, ''INHALATION_POWDER'', ''{"numerator_unit": "DOSE", "numerator_value": 1, "denumerator_unit": "AEROSOL", "denumerator_value": "1"}'', 200, 200, ''UA/4376/02/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''7c01d823-dfe3-44b3-8fc6-c9c244695eb3'', ''{"numerator_unit": "MKG", "numerator_value": "200", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "280.41"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''d0c7e8be-3d80-4f46-8ea5-f1bd35f486ee'', ''{"type": "fixed", "reimbursement_amount": "280.41"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Сальбутамол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Сальбутамол 100 MKG інгаляція під тиском, суспензія' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''41dc6074-60be-4796-ad99-bf852cabcc0a'', ''Сальбутамол 100 MKG інгаляція під тиском, суспензія'', ''INNM_DOSAGE'', TRUE, ''PRESSURISED_INHALATION'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''a1008ed3-112a-405d-8141-5d9a3c2c0667'', ''{"numerator_unit": "MKG", "numerator_value": "100", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'PRESSURISED_INHALATION'
            AND i.dosage ->> 'numerator_unit' = 'MKG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'САЛЬБУТАМОЛ-ІНТЕЛІ'
            AND m.package_qty = 200
            AND m.certificate = 'UA/8338/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["R03AС02"]'::jsonb, 'UA/8338/01/01', '2100-01-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ccbfefae-8407-41d5-8f14-69cd98ca10c7'', ''САЛЬБУТАМОЛ-ІНТЕЛІ'', ''BRAND'', ''{"name": "Лабораторіо Альдо-Юніон", "country": " Іспанія"}'', ''["R03AС02"]'', true, ''PRESSURISED_INHALATION'', ''{"numerator_unit": "DOSE", "numerator_value": 1, "denumerator_unit": "AEROSOL", "denumerator_value": "1"}'', 200, 200, ''UA/8338/01/01'', ''2100-01-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''6aa9fbdd-5e4e-4d22-9772-b7001e42aa10'', ''{"numerator_unit": "MKG", "numerator_value": "100", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "64.97"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''a6264b42-d489-4e7d-a152-b655e3191356'', ''{"type": "fixed", "reimbursement_amount": "64.97"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Сальбутамол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Сальбутамол 100 MKG інгаляція під тиском, суспензія' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''41dc6074-60be-4796-ad99-bf852cabcc0a'', ''Сальбутамол 100 MKG інгаляція під тиском, суспензія'', ''INNM_DOSAGE'', TRUE, ''PRESSURISED_INHALATION'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''819f34b6-3de7-4375-89ba-62ca07b5af0f'', ''{"numerator_unit": "MKG", "numerator_value": "100", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'PRESSURISED_INHALATION'
            AND i.dosage ->> 'numerator_unit' = 'MKG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'САЛЬБУТАМОЛ '
            AND m.package_qty = 200
            AND m.certificate = 'UA/15683/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["R03AС02"]'::jsonb, 'UA/15683/01/01', '2021-12-30'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''bb380c0c-ec37-4ed3-8a8d-14930a280e36'', ''САЛЬБУТАМОЛ '', ''BRAND'', ''{"name": "ТОВ \"Мультіспрей\"", "country": " Україна"}'', ''["R03AС02"]'', true, ''PRESSURISED_INHALATION'', ''{"numerator_unit": "DOSE", "numerator_value": 1, "denumerator_unit": "AEROSOL", "denumerator_value": "1"}'', 200, 200, ''UA/15683/01/01'', ''2021-12-30'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''6754654e-ceff-474c-bcdf-4cb62143c981'', ''{"numerator_unit": "MKG", "numerator_value": "100", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "64.97"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''c5bab6eb-7472-4054-8f23-2fff12fc039a'', ''{"type": "fixed", "reimbursement_amount": "64.97"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Сальбутамол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Сальбутамол 100 MKG інгаляція під тиском' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''75829b8c-7028-4204-b522-f19881137d6b'', ''Сальбутамол 100 MKG інгаляція під тиском'', ''INNM_DOSAGE'', TRUE, ''PRESSURISED_INHALATION'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''20082e94-dd52-49a7-86a1-97d90ae351da'', ''{"numerator_unit": "MKG", "numerator_value": "100", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'PRESSURISED_INHALATION'
            AND i.dosage ->> 'numerator_unit' = 'MKG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'САЛЬБУТАМОЛ-НЕО'
            AND m.package_qty = 200
            AND m.certificate = 'UA/10530/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["R03AС02"]'::jsonb, 'UA/10530/01/01', '2020-09-04'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''64bd0391-5c68-4b57-b102-da38b67de468'', ''САЛЬБУТАМОЛ-НЕО'', ''BRAND'', ''{"name": "ТОВ \"Мікрофарм\"", "country": " Україна"}'', ''["R03AС02"]'', true, ''PRESSURISED_INHALATION'', ''{"numerator_unit": "DOSE", "numerator_value": 1, "denumerator_unit": "AEROSOL", "denumerator_value": "1"}'', 200, 200, ''UA/10530/01/01'', ''2020-09-04'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''cfee5217-49b9-4545-a53c-d2d74a481cb2'', ''{"numerator_unit": "MKG", "numerator_value": "100", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "64.97"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''ba9c29ec-43e9-44ff-956f-45028a5c941b'', ''{"type": "fixed", "reimbursement_amount": "64.97"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Сальбутамол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Сальбутамол 100 MKG аерозоль для інгаляцій' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''b2a07e99-cb1e-4914-a8c1-d85238ce6c72'', ''Сальбутамол 100 MKG аерозоль для інгаляцій'', ''INNM_DOSAGE'', TRUE, ''AEROSOL_FOR_INHALATION'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''596d104a-51bb-417b-acb5-925e7d9f361a'', ''{"numerator_unit": "MKG", "numerator_value": "100", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'AEROSOL_FOR_INHALATION'
            AND i.dosage ->> 'numerator_unit' = 'MKG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'ВЕНТОЛІН ЕВОХАЛЕР'
            AND m.package_qty = 200
            AND m.certificate = 'UA/2563/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["R03AC02"]'::jsonb, 'UA/2563/01/01', '2019-09-24'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''ed2c36c8-638b-461b-a033-9ad28d4b769c'', ''ВЕНТОЛІН ЕВОХАЛЕР'', ''BRAND'', ''{"name": "Глаксо Веллком С.А.", "country": " Іспанія"}'', ''["R03AC02"]'', true, ''AEROSOL_FOR_INHALATION'', ''{"numerator_unit": "DOSE", "numerator_value": 1, "denumerator_unit": "AEROSOL", "denumerator_value": "1"}'', 200, 200, ''UA/2563/01/01'', ''2019-09-24'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''075e0117-bfb0-46e8-a93d-610d1809b36c'', ''{"numerator_unit": "MKG", "numerator_value": "100", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "64.97"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''3b8f093a-dc33-4e15-8b8f-bfefbfabca8f'', ''{"type": "fixed", "reimbursement_amount": "64.97"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;




        DO
        $$DECLARE
            innm_id uuid;
            brand_id uuid;
            dosage_id uuid;
            program_medication_id uuid;
        BEGIN
            SELECT i.id INTO innm_id FROM innms i WHERE i.is_active = TRUE AND i.name_original = 'Сальбутамол' LIMIT 1;
            SELECT m.id INTO dosage_id FROM medications m WHERE m.is_active = TRUE AND m.name = 'Сальбутамол 100 MKG аерозоль для інгаляцій' LIMIT 1;

            IF dosage_id IS NULL THEN
                EXECUTE 'INSERT INTO medications (id, name, type, is_active, form, inserted_by, updated_by, inserted_at, updated_at) VALUES (''b2a07e99-cb1e-4914-a8c1-d85238ce6c72'', ''Сальбутамол 100 MKG аерозоль для інгаляцій'', ''INNM_DOSAGE'', TRUE, ''AEROSOL_FOR_INHALATION'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO dosage_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, innm_child_id, parent_id, inserted_at, updated_at) VALUES (''4bd431df-22c6-4a84-bed8-9c2a10199fe5'', ''{"numerator_unit": "MKG", "numerator_value": "100", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', TRUE, $1, $2, now(), now());' USING innm_id, dosage_id;
            END IF;

            SELECT m.id
            INTO brand_id
            FROM ingredients i, medications m
            WHERE i.parent_id = m.id
            AND m.type = 'BRAND'
            AND m.form = 'AEROSOL_FOR_INHALATION'
            AND i.dosage ->> 'numerator_unit' = 'MKG'
            AND (i.dosage ->> 'numerator_value')::NUMERIC = 100
            AND m.name = 'САЛЬБУТАМОЛ'
            AND m.package_qty = 200
            AND m.certificate = 'UA/2032/01/01';

            IF brand_id IS NOT NULL THEN
                EXECUTE 'UPDATE medications SET is_active = TRUE, code_atc = $1, certificate = $2, certificate_expired_at = $3 WHERE id = $4' USING '["R03AC02"]'::jsonb, 'UA/2032/01/01', '2019-08-01'::date, brand_id;
            ELSE
                EXECUTE 'INSERT INTO medications (id, name, type, manufacturer, code_atc, is_active, form, container, package_qty, package_min_qty, certificate, certificate_expired_at, inserted_by, updated_by, inserted_at, updated_at) VALUES (''575386ab-ca63-4c3a-87f0-512ca187e0c7'', ''САЛЬБУТАМОЛ'', ''BRAND'', ''{"name": "Глаксо Веллком Продакшн", "country": " Франція"}'', ''["R03AC02"]'', true, ''AEROSOL_FOR_INHALATION'', ''{"numerator_unit": "DOSE", "numerator_value": 1, "denumerator_unit": "AEROSOL", "denumerator_value": "1"}'', 200, 200, ''UA/2032/01/01'', ''2019-08-01'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', now(), now()) RETURNING id' INTO brand_id;
                EXECUTE 'INSERT INTO ingredients (id, dosage, is_primary, medication_child_id, parent_id, inserted_at, updated_at) VALUES (''ac0c7e6a-0d2b-418f-80e2-7425a85f21db'', ''{"numerator_unit": "MKG", "numerator_value": "100", "denumerator_unit": "DOSE", "denumerator_value": "1"}'', true, $1, $2, now(), now())' USING dosage_id, brand_id;
            END IF;

            SELECT id INTO program_medication_id FROM program_medications WHERE medication_id = brand_id AND medical_program_id = '63c1f32f-c8f4-4f5b-81a9-79b8452d6545';
            IF program_medication_id IS NOT NULL THEN
                EXECUTE 'UPDATE program_medications SET is_active = TRUE, reimbursement = $1 WHERE id = $2' USING '{"type": "fixed", "reimbursement_amount": "64.97"}'::jsonb, program_medication_id;
            ELSE
                EXECUTE 'INSERT INTO program_medications (id, reimbursement, is_active, medication_request_allowed, inserted_by, updated_by, medication_id, medical_program_id, inserted_at, updated_at) VALUES (''597e3b3b-e4b4-4d47-9a6e-bb70ede77055'', ''{"type": "fixed", "reimbursement_amount": "64.97"}'', true, true, ''4261eacf-8008-4e62-899f-de1e2f7065f0'', ''4261eacf-8008-4e62-899f-de1e2f7065f0'', $1, ''63c1f32f-c8f4-4f5b-81a9-79b8452d6545'', now(), now())' USING brand_id;
            END IF;
        END$$;


